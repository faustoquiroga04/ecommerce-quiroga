(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(a){if(a.ep)return;a.ep=!0;const c=n(a);fetch(a.href,c)}})();var Qc={exports:{}},Ho={},Wc={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ip;function Vv(){if(Ip)return Se;Ip=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),A=Symbol.iterator;function R(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,q={};function z(D,H,fe){this.props=D,this.context=H,this.refs=q,this.updater=fe||F}z.prototype.isReactComponent={},z.prototype.setState=function(D,H){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,H,"setState")},z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function G(){}G.prototype=z.prototype;function ne(D,H,fe){this.props=D,this.context=H,this.refs=q,this.updater=fe||F}var oe=ne.prototype=new G;oe.constructor=ne,j(oe,z.prototype),oe.isPureReactComponent=!0;var de=Array.isArray,Ce=Object.prototype.hasOwnProperty,we={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function T(D,H,fe){var Te,Ie={},Re=null,Me=null;if(H!=null)for(Te in H.ref!==void 0&&(Me=H.ref),H.key!==void 0&&(Re=""+H.key),H)Ce.call(H,Te)&&!x.hasOwnProperty(Te)&&(Ie[Te]=H[Te]);var Fe=arguments.length-2;if(Fe===1)Ie.children=fe;else if(1<Fe){for(var je=Array(Fe),mt=0;mt<Fe;mt++)je[mt]=arguments[mt+2];Ie.children=je}if(D&&D.defaultProps)for(Te in Fe=D.defaultProps,Fe)Ie[Te]===void 0&&(Ie[Te]=Fe[Te]);return{$$typeof:i,type:D,key:Re,ref:Me,props:Ie,_owner:we.current}}function S(D,H){return{$$typeof:i,type:D.type,key:H,ref:D.ref,props:D.props,_owner:D._owner}}function k(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function N(D){var H={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(fe){return H[fe]})}var L=/\/+/g;function C(D,H){return typeof D=="object"&&D!==null&&D.key!=null?N(""+D.key):H.toString(36)}function et(D,H,fe,Te,Ie){var Re=typeof D;(Re==="undefined"||Re==="boolean")&&(D=null);var Me=!1;if(D===null)Me=!0;else switch(Re){case"string":case"number":Me=!0;break;case"object":switch(D.$$typeof){case i:case e:Me=!0}}if(Me)return Me=D,Ie=Ie(Me),D=Te===""?"."+C(Me,0):Te,de(Ie)?(fe="",D!=null&&(fe=D.replace(L,"$&/")+"/"),et(Ie,H,fe,"",function(mt){return mt})):Ie!=null&&(k(Ie)&&(Ie=S(Ie,fe+(!Ie.key||Me&&Me.key===Ie.key?"":(""+Ie.key).replace(L,"$&/")+"/")+D)),H.push(Ie)),1;if(Me=0,Te=Te===""?".":Te+":",de(D))for(var Fe=0;Fe<D.length;Fe++){Re=D[Fe];var je=Te+C(Re,Fe);Me+=et(Re,H,fe,je,Ie)}else if(je=R(D),typeof je=="function")for(D=je.call(D),Fe=0;!(Re=D.next()).done;)Re=Re.value,je=Te+C(Re,Fe++),Me+=et(Re,H,fe,je,Ie);else if(Re==="object")throw H=String(D),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.");return Me}function Pt(D,H,fe){if(D==null)return D;var Te=[],Ie=0;return et(D,Te,"","",function(Re){return H.call(fe,Re,Ie++)}),Te}function kt(D){if(D._status===-1){var H=D._result;H=H(),H.then(function(fe){(D._status===0||D._status===-1)&&(D._status=1,D._result=fe)},function(fe){(D._status===0||D._status===-1)&&(D._status=2,D._result=fe)}),D._status===-1&&(D._status=0,D._result=H)}if(D._status===1)return D._result.default;throw D._result}var ze={current:null},ee={transition:null},pe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:ee,ReactCurrentOwner:we};function re(){throw Error("act(...) is not supported in production builds of React.")}return Se.Children={map:Pt,forEach:function(D,H,fe){Pt(D,function(){H.apply(this,arguments)},fe)},count:function(D){var H=0;return Pt(D,function(){H++}),H},toArray:function(D){return Pt(D,function(H){return H})||[]},only:function(D){if(!k(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Se.Component=z,Se.Fragment=n,Se.Profiler=a,Se.PureComponent=ne,Se.StrictMode=s,Se.Suspense=g,Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Se.act=re,Se.cloneElement=function(D,H,fe){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var Te=j({},D.props),Ie=D.key,Re=D.ref,Me=D._owner;if(H!=null){if(H.ref!==void 0&&(Re=H.ref,Me=we.current),H.key!==void 0&&(Ie=""+H.key),D.type&&D.type.defaultProps)var Fe=D.type.defaultProps;for(je in H)Ce.call(H,je)&&!x.hasOwnProperty(je)&&(Te[je]=H[je]===void 0&&Fe!==void 0?Fe[je]:H[je])}var je=arguments.length-2;if(je===1)Te.children=fe;else if(1<je){Fe=Array(je);for(var mt=0;mt<je;mt++)Fe[mt]=arguments[mt+2];Te.children=Fe}return{$$typeof:i,type:D.type,key:Ie,ref:Re,props:Te,_owner:Me}},Se.createContext=function(D){return D={$$typeof:f,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:c,_context:D},D.Consumer=D},Se.createElement=T,Se.createFactory=function(D){var H=T.bind(null,D);return H.type=D,H},Se.createRef=function(){return{current:null}},Se.forwardRef=function(D){return{$$typeof:m,render:D}},Se.isValidElement=k,Se.lazy=function(D){return{$$typeof:w,_payload:{_status:-1,_result:D},_init:kt}},Se.memo=function(D,H){return{$$typeof:_,type:D,compare:H===void 0?null:H}},Se.startTransition=function(D){var H=ee.transition;ee.transition={};try{D()}finally{ee.transition=H}},Se.unstable_act=re,Se.useCallback=function(D,H){return ze.current.useCallback(D,H)},Se.useContext=function(D){return ze.current.useContext(D)},Se.useDebugValue=function(){},Se.useDeferredValue=function(D){return ze.current.useDeferredValue(D)},Se.useEffect=function(D,H){return ze.current.useEffect(D,H)},Se.useId=function(){return ze.current.useId()},Se.useImperativeHandle=function(D,H,fe){return ze.current.useImperativeHandle(D,H,fe)},Se.useInsertionEffect=function(D,H){return ze.current.useInsertionEffect(D,H)},Se.useLayoutEffect=function(D,H){return ze.current.useLayoutEffect(D,H)},Se.useMemo=function(D,H){return ze.current.useMemo(D,H)},Se.useReducer=function(D,H,fe){return ze.current.useReducer(D,H,fe)},Se.useRef=function(D){return ze.current.useRef(D)},Se.useState=function(D){return ze.current.useState(D)},Se.useSyncExternalStore=function(D,H,fe){return ze.current.useSyncExternalStore(D,H,fe)},Se.useTransition=function(){return ze.current.useTransition()},Se.version="18.3.1",Se}var Sp;function Lh(){return Sp||(Sp=1,Wc.exports=Vv()),Wc.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp;function Nv(){if(Cp)return Ho;Cp=1;var i=Lh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(m,g,_){var w,A={},R=null,F=null;_!==void 0&&(R=""+_),g.key!==void 0&&(R=""+g.key),g.ref!==void 0&&(F=g.ref);for(w in g)s.call(g,w)&&!c.hasOwnProperty(w)&&(A[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)A[w]===void 0&&(A[w]=g[w]);return{$$typeof:e,type:m,key:R,ref:F,props:A,_owner:a.current}}return Ho.Fragment=n,Ho.jsx=f,Ho.jsxs=f,Ho}var Ap;function Dv(){return Ap||(Ap=1,Qc.exports=Nv()),Qc.exports}var le=Dv(),$=Lh(),Dl={},Kc={exports:{}},Gt={},Gc={exports:{}},Yc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rp;function Lv(){return Rp||(Rp=1,function(i){function e(ee,pe){var re=ee.length;ee.push(pe);e:for(;0<re;){var D=re-1>>>1,H=ee[D];if(0<a(H,pe))ee[D]=pe,ee[re]=H,re=D;else break e}}function n(ee){return ee.length===0?null:ee[0]}function s(ee){if(ee.length===0)return null;var pe=ee[0],re=ee.pop();if(re!==pe){ee[0]=re;e:for(var D=0,H=ee.length,fe=H>>>1;D<fe;){var Te=2*(D+1)-1,Ie=ee[Te],Re=Te+1,Me=ee[Re];if(0>a(Ie,re))Re<H&&0>a(Me,Ie)?(ee[D]=Me,ee[Re]=re,D=Re):(ee[D]=Ie,ee[Te]=re,D=Te);else if(Re<H&&0>a(Me,re))ee[D]=Me,ee[Re]=re,D=Re;else break e}}return pe}function a(ee,pe){var re=ee.sortIndex-pe.sortIndex;return re!==0?re:ee.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();i.unstable_now=function(){return f.now()-m}}var g=[],_=[],w=1,A=null,R=3,F=!1,j=!1,q=!1,z=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function oe(ee){for(var pe=n(_);pe!==null;){if(pe.callback===null)s(_);else if(pe.startTime<=ee)s(_),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(_)}}function de(ee){if(q=!1,oe(ee),!j)if(n(g)!==null)j=!0,kt(Ce);else{var pe=n(_);pe!==null&&ze(de,pe.startTime-ee)}}function Ce(ee,pe){j=!1,q&&(q=!1,G(T),T=-1),F=!0;var re=R;try{for(oe(pe),A=n(g);A!==null&&(!(A.expirationTime>pe)||ee&&!N());){var D=A.callback;if(typeof D=="function"){A.callback=null,R=A.priorityLevel;var H=D(A.expirationTime<=pe);pe=i.unstable_now(),typeof H=="function"?A.callback=H:A===n(g)&&s(g),oe(pe)}else s(g);A=n(g)}if(A!==null)var fe=!0;else{var Te=n(_);Te!==null&&ze(de,Te.startTime-pe),fe=!1}return fe}finally{A=null,R=re,F=!1}}var we=!1,x=null,T=-1,S=5,k=-1;function N(){return!(i.unstable_now()-k<S)}function L(){if(x!==null){var ee=i.unstable_now();k=ee;var pe=!0;try{pe=x(!0,ee)}finally{pe?C():(we=!1,x=null)}}else we=!1}var C;if(typeof ne=="function")C=function(){ne(L)};else if(typeof MessageChannel<"u"){var et=new MessageChannel,Pt=et.port2;et.port1.onmessage=L,C=function(){Pt.postMessage(null)}}else C=function(){z(L,0)};function kt(ee){x=ee,we||(we=!0,C())}function ze(ee,pe){T=z(function(){ee(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(ee){ee.callback=null},i.unstable_continueExecution=function(){j||F||(j=!0,kt(Ce))},i.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<ee?Math.floor(1e3/ee):5},i.unstable_getCurrentPriorityLevel=function(){return R},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(ee){switch(R){case 1:case 2:case 3:var pe=3;break;default:pe=R}var re=R;R=pe;try{return ee()}finally{R=re}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(ee,pe){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var re=R;R=ee;try{return pe()}finally{R=re}},i.unstable_scheduleCallback=function(ee,pe,re){var D=i.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?D+re:D):re=D,ee){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=re+H,ee={id:w++,callback:pe,priorityLevel:ee,startTime:re,expirationTime:H,sortIndex:-1},re>D?(ee.sortIndex=re,e(_,ee),n(g)===null&&ee===n(_)&&(q?(G(T),T=-1):q=!0,ze(de,re-D))):(ee.sortIndex=H,e(g,ee),j||F||(j=!0,kt(Ce))),ee},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(ee){var pe=R;return function(){var re=R;R=pe;try{return ee.apply(this,arguments)}finally{R=re}}}}(Yc)),Yc}var Pp;function Ov(){return Pp||(Pp=1,Gc.exports=Lv()),Gc.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kp;function Mv(){if(kp)return Gt;kp=1;var i=Lh(),e=Ov();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(t,r){f(t,r),f(t+"Capture",r)}function f(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},A={};function R(t){return g.call(A,t)?!0:g.call(w,t)?!1:_.test(t)?A[t]=!0:(w[t]=!0,!1)}function F(t,r,o,u){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function j(t,r,o,u){if(r===null||typeof r>"u"||F(t,r,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function q(t,r,o,u,h,p,v){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=u,this.attributeNamespace=h,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=v}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new q(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new q(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new q(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new q(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new q(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new q(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new q(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new q(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new q(t,5,!1,t.toLowerCase(),null,!1,!1)});var G=/[\-:]([a-z])/g;function ne(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(G,ne);z[r]=new q(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(G,ne);z[r]=new q(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(G,ne);z[r]=new q(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new q(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new q(t,1,!1,t.toLowerCase(),null,!0,!0)});function oe(t,r,o,u){var h=z.hasOwnProperty(r)?z[r]:null;(h!==null?h.type!==0:u||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(j(r,o,h,u)&&(o=null),u||h===null?R(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):h.mustUseProperty?t[h.propertyName]=o===null?h.type===3?!1:"":o:(r=h.attributeName,u=h.attributeNamespace,o===null?t.removeAttribute(r):(h=h.type,o=h===3||h===4&&o===!0?"":""+o,u?t.setAttributeNS(u,r,o):t.setAttribute(r,o))))}var de=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ce=Symbol.for("react.element"),we=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),et=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),ee=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ee&&t[ee]||t["@@iterator"],typeof t=="function"?t:null)}var re=Object.assign,D;function H(t){if(D===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var fe=!1;function Te(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(B){var u=B}Reflect.construct(t,[],r)}else{try{r.call()}catch(B){u=B}t.call(r.prototype)}else{try{throw Error()}catch(B){u=B}t()}}catch(B){if(B&&u&&typeof B.stack=="string"){for(var h=B.stack.split(`
`),p=u.stack.split(`
`),v=h.length-1,I=p.length-1;1<=v&&0<=I&&h[v]!==p[I];)I--;for(;1<=v&&0<=I;v--,I--)if(h[v]!==p[I]){if(v!==1||I!==1)do if(v--,I--,0>I||h[v]!==p[I]){var P=`
`+h[v].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=v&&0<=I);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?H(t):""}function Ie(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=Te(t.type,!1),t;case 11:return t=Te(t.type.render,!1),t;case 1:return t=Te(t.type,!0),t;default:return""}}function Re(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case x:return"Fragment";case we:return"Portal";case S:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case et:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case k:return(t._context.displayName||"Context")+".Provider";case L:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Pt:return r=t.displayName||null,r!==null?r:Re(t.type)||"Memo";case kt:r=t._payload,t=t._init;try{return Re(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Re(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function je(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function mt(t){var r=je(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),u=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return h.call(this)},set:function(v){u=""+v,p.call(this,v)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Kn(t){t._valueTracker||(t._valueTracker=mt(t))}function Mi(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),u="";return t&&(u=je(t)?t.checked?"true":"false":t.value),t=u,t!==o?(r.setValue(t),!0):!1}function mr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ti(t,r){var o=r.checked;return re({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function Fi(t,r){var o=r.defaultValue==null?"":r.defaultValue,u=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:u,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function Ys(t,r){r=r.checked,r!=null&&oe(t,"checked",r,!1)}function Xs(t,r){Ys(t,r);var o=Fe(r.value),u=r.type;if(o!=null)u==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(u==="submit"||u==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Ui(t,r.type,o):r.hasOwnProperty("defaultValue")&&Ui(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function va(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var u=r.type;if(!(u!=="submit"&&u!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Ui(t,r,o){(r!=="number"||mr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var Gn=Array.isArray;function Yn(t,r,o,u){if(t=t.options,r){r={};for(var h=0;h<o.length;h++)r["$"+o[h]]=!0;for(o=0;o<t.length;o++)h=r.hasOwnProperty("$"+t[o].value),t[o].selected!==h&&(t[o].selected=h),h&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,h=0;h<t.length;h++){if(t[h].value===o){t[h].selected=!0,u&&(t[h].defaultSelected=!0);return}r!==null||t[h].disabled||(r=t[h])}r!==null&&(r.selected=!0)}}function Js(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return re({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function zi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(Gn(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Bi(t,r){var o=Fe(r.value),u=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),u!=null&&(t.defaultValue=""+u)}function Zs(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function ut(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ct(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?ut(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xn,eo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,u,h){MSApp.execUnsafeLocalFunction(function(){return t(r,o,u,h)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Xn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function gr(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var ni={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ri=["Webkit","ms","Moz","O"];Object.keys(ni).forEach(function(t){ri.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),ni[r]=ni[t]})});function to(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||ni.hasOwnProperty(t)&&ni[t]?(""+r).trim():r+"px"}function no(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var u=o.indexOf("--")===0,h=to(o,r[o],u);o==="float"&&(o="cssFloat"),u?t.setProperty(o,h):t[o]=h}}var ro=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function io(t,r){if(r){if(ro[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function so(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ii=null;function ji(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bi=null,on=null,Nn=null;function $i(t){if(t=xo(t)){if(typeof bi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=Ka(r),bi(t.stateNode,t.type,r))}}function Dn(t){on?Nn?Nn.push(t):Nn=[t]:on=t}function oo(){if(on){var t=on,r=Nn;if(Nn=on=null,$i(t),r)for(t=0;t<r.length;t++)$i(r[t])}}function si(t,r){return t(r)}function ao(){}var Jn=!1;function lo(t,r,o){if(Jn)return t(r,o);Jn=!0;try{return si(t,r,o)}finally{Jn=!1,(on!==null||Nn!==null)&&(ao(),oo())}}function tt(t,r){var o=t.stateNode;if(o===null)return null;var u=Ka(o);if(u===null)return null;o=u[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var qi=!1;if(m)try{var gn={};Object.defineProperty(gn,"passive",{get:function(){qi=!0}}),window.addEventListener("test",gn,gn),window.removeEventListener("test",gn,gn)}catch{qi=!1}function oi(t,r,o,u,h,p,v,I,P){var B=Array.prototype.slice.call(arguments,3);try{r.apply(o,B)}catch(K){this.onError(K)}}var ai=!1,Hi=null,yn=!1,uo=null,Eu={onError:function(t){ai=!0,Hi=t}};function Qi(t,r,o,u,h,p,v,I,P){ai=!1,Hi=null,oi.apply(Eu,arguments)}function _a(t,r,o,u,h,p,v,I,P){if(Qi.apply(this,arguments),ai){if(ai){var B=Hi;ai=!1,Hi=null}else throw Error(n(198));yn||(yn=!0,uo=B)}}function vn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function li(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function _n(t){if(vn(t)!==t)throw Error(n(188))}function Ea(t){var r=t.alternate;if(!r){if(r=vn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,u=r;;){var h=o.return;if(h===null)break;var p=h.alternate;if(p===null){if(u=h.return,u!==null){o=u;continue}break}if(h.child===p.child){for(p=h.child;p;){if(p===o)return _n(h),t;if(p===u)return _n(h),r;p=p.sibling}throw Error(n(188))}if(o.return!==u.return)o=h,u=p;else{for(var v=!1,I=h.child;I;){if(I===o){v=!0,o=h,u=p;break}if(I===u){v=!0,u=h,o=p;break}I=I.sibling}if(!v){for(I=p.child;I;){if(I===o){v=!0,o=p,u=h;break}if(I===u){v=!0,u=p,o=h;break}I=I.sibling}if(!v)throw Error(n(189))}}if(o.alternate!==u)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function co(t){return t=Ea(t),t!==null?Wi(t):null}function Wi(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=Wi(t);if(r!==null)return r;t=t.sibling}return null}var Ki=e.unstable_scheduleCallback,ho=e.unstable_cancelCallback,wa=e.unstable_shouldYield,wu=e.unstable_requestPaint,be=e.unstable_now,Ta=e.unstable_getCurrentPriorityLevel,ui=e.unstable_ImmediatePriority,yr=e.unstable_UserBlockingPriority,an=e.unstable_NormalPriority,fo=e.unstable_LowPriority,Ia=e.unstable_IdlePriority,ci=null,Xt=null;function Sa(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Ut=Math.clz32?Math.clz32:Aa,po=Math.log,Ca=Math.LN2;function Aa(t){return t>>>=0,t===0?32:31-(po(t)/Ca|0)|0}var Gi=64,Yi=4194304;function vr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hi(t,r){var o=t.pendingLanes;if(o===0)return 0;var u=0,h=t.suspendedLanes,p=t.pingedLanes,v=o&268435455;if(v!==0){var I=v&~h;I!==0?u=vr(I):(p&=v,p!==0&&(u=vr(p)))}else v=o&~h,v!==0?u=vr(v):p!==0&&(u=vr(p));if(u===0)return 0;if(r!==0&&r!==u&&!(r&h)&&(h=u&-u,p=r&-r,h>=p||h===16&&(p&4194240)!==0))return r;if(u&4&&(u|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=u;0<r;)o=31-Ut(r),h=1<<o,u|=t[o],r&=~h;return u}function Tu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zn(t,r){for(var o=t.suspendedLanes,u=t.pingedLanes,h=t.expirationTimes,p=t.pendingLanes;0<p;){var v=31-Ut(p),I=1<<v,P=h[v];P===-1?(!(I&o)||I&u)&&(h[v]=Tu(I,r)):P<=r&&(t.expiredLanes|=I),p&=~I}}function Jt(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function fi(){var t=Gi;return Gi<<=1,!(Gi&4194240)&&(Gi=64),t}function _r(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Er(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-Ut(r),t[r]=o}function Be(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var u=t.eventTimes;for(t=t.expirationTimes;0<o;){var h=31-Ut(o),p=1<<h;r[h]=0,u[h]=-1,t[h]=-1,o&=~p}}function wr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var u=31-Ut(o),h=1<<u;h&r|t[u]&r&&(t[u]|=r),o&=~h}}var Ae=0;function Tr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ra,Xi,Pa,ka,xa,mo=!1,Ln=[],Tt=null,En=null,wn=null,Ir=new Map,ln=new Map,On=[],Iu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Va(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":En=null;break;case"mouseover":case"mouseout":wn=null;break;case"pointerover":case"pointerout":Ir.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ln.delete(r.pointerId)}}function bt(t,r,o,u,h,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[h]},r!==null&&(r=xo(r),r!==null&&Xi(r)),t):(t.eventSystemFlags|=u,r=t.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),t)}function Su(t,r,o,u,h){switch(r){case"focusin":return Tt=bt(Tt,t,r,o,u,h),!0;case"dragenter":return En=bt(En,t,r,o,u,h),!0;case"mouseover":return wn=bt(wn,t,r,o,u,h),!0;case"pointerover":var p=h.pointerId;return Ir.set(p,bt(Ir.get(p)||null,t,r,o,u,h)),!0;case"gotpointercapture":return p=h.pointerId,ln.set(p,bt(ln.get(p)||null,t,r,o,u,h)),!0}return!1}function Na(t){var r=yi(t.target);if(r!==null){var o=vn(r);if(o!==null){if(r=o.tag,r===13){if(r=li(o),r!==null){t.blockedOn=r,xa(t.priority,function(){Pa(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function er(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=Ji(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);ii=u,o.target.dispatchEvent(u),ii=null}else return r=xo(o),r!==null&&Xi(r),t.blockedOn=o,!1;r.shift()}return!0}function di(t,r,o){er(t)&&o.delete(r)}function Da(){mo=!1,Tt!==null&&er(Tt)&&(Tt=null),En!==null&&er(En)&&(En=null),wn!==null&&er(wn)&&(wn=null),Ir.forEach(di),ln.forEach(di)}function Tn(t,r){t.blockedOn===r&&(t.blockedOn=null,mo||(mo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Da)))}function In(t){function r(h){return Tn(h,t)}if(0<Ln.length){Tn(Ln[0],t);for(var o=1;o<Ln.length;o++){var u=Ln[o];u.blockedOn===t&&(u.blockedOn=null)}}for(Tt!==null&&Tn(Tt,t),En!==null&&Tn(En,t),wn!==null&&Tn(wn,t),Ir.forEach(r),ln.forEach(r),o=0;o<On.length;o++)u=On[o],u.blockedOn===t&&(u.blockedOn=null);for(;0<On.length&&(o=On[0],o.blockedOn===null);)Na(o),o.blockedOn===null&&On.shift()}var tr=de.ReactCurrentBatchConfig,Sr=!0;function We(t,r,o,u){var h=Ae,p=tr.transition;tr.transition=null;try{Ae=1,go(t,r,o,u)}finally{Ae=h,tr.transition=p}}function Cu(t,r,o,u){var h=Ae,p=tr.transition;tr.transition=null;try{Ae=4,go(t,r,o,u)}finally{Ae=h,tr.transition=p}}function go(t,r,o,u){if(Sr){var h=Ji(t,r,o,u);if(h===null)Mu(t,r,u,pi,o),Va(t,u);else if(Su(h,t,r,o,u))u.stopPropagation();else if(Va(t,u),r&4&&-1<Iu.indexOf(t)){for(;h!==null;){var p=xo(h);if(p!==null&&Ra(p),p=Ji(t,r,o,u),p===null&&Mu(t,r,u,pi,o),p===h)break;h=p}h!==null&&u.stopPropagation()}else Mu(t,r,u,null,o)}}var pi=null;function Ji(t,r,o,u){if(pi=null,t=ji(u),t=yi(t),t!==null)if(r=vn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=li(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return pi=t,null}function yo(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ta()){case ui:return 1;case yr:return 4;case an:case fo:return 16;case Ia:return 536870912;default:return 16}default:return 16}}var Zt=null,Zi=null,$t=null;function vo(){if($t)return $t;var t,r=Zi,o=r.length,u,h="value"in Zt?Zt.value:Zt.textContent,p=h.length;for(t=0;t<o&&r[t]===h[t];t++);var v=o-t;for(u=1;u<=v&&r[o-u]===h[p-u];u++);return $t=h.slice(t,1<u?1-u:void 0)}function es(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function Mn(){return!0}function _o(){return!1}function It(t){function r(o,u,h,p,v){this._reactName=o,this._targetInst=h,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var I in t)t.hasOwnProperty(I)&&(o=t[I],this[I]=o?o(p):p[I]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Mn:_o,this.isPropagationStopped=_o,this}return re(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Mn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Mn)},persist:function(){},isPersistent:Mn}),r}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=It(Sn),Fn=re({},Sn,{view:0,detail:0}),Au=It(Fn),ns,nr,Cr,mi=re({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Un,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Cr&&(Cr&&t.type==="mousemove"?(ns=t.screenX-Cr.screenX,nr=t.screenY-Cr.screenY):nr=ns=0,Cr=t),ns)},movementY:function(t){return"movementY"in t?t.movementY:nr}}),rs=It(mi),Eo=re({},mi,{dataTransfer:0}),La=It(Eo),is=re({},Fn,{relatedTarget:0}),ss=It(is),Oa=re({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),rr=It(Oa),Ma=re({},Sn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fa=It(Ma),Ua=re({},Sn,{data:0}),wo=It(Ua),os={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ba(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=za[t])?!!r[t]:!1}function Un(){return Ba}var l=re({},Fn,{key:function(t){if(t.key){var r=os[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=es(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zt[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Un,charCode:function(t){return t.type==="keypress"?es(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?es(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),d=It(l),y=re({},mi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=It(y),O=re({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Un}),b=It(O),Z=re({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=It(Z),ht=re({},mi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=It(ht),gt=[9,13,27,32],st=m&&"CompositionEvent"in window,un=null;m&&"documentMode"in document&&(un=document.documentMode);var en=m&&"TextEvent"in window&&!un,gi=m&&(!st||un&&8<un&&11>=un),as=" ",yf=!1;function vf(t,r){switch(t){case"keyup":return gt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _f(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ls=!1;function Py(t,r){switch(t){case"compositionend":return _f(r);case"keypress":return r.which!==32?null:(yf=!0,as);case"textInput":return t=r.data,t===as&&yf?null:t;default:return null}}function ky(t,r){if(ls)return t==="compositionend"||!st&&vf(t,r)?(t=vo(),$t=Zi=Zt=null,ls=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return gi&&r.locale!=="ko"?null:r.data;default:return null}}var xy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!xy[t.type]:r==="textarea"}function wf(t,r,o,u){Dn(u),r=Ha(r,"onChange"),0<r.length&&(o=new ts("onChange","change",null,o,u),t.push({event:o,listeners:r}))}var To=null,Io=null;function Vy(t){zf(t,0)}function ja(t){var r=ds(t);if(Mi(r))return t}function Ny(t,r){if(t==="change")return r}var Tf=!1;if(m){var Ru;if(m){var Pu="oninput"in document;if(!Pu){var If=document.createElement("div");If.setAttribute("oninput","return;"),Pu=typeof If.oninput=="function"}Ru=Pu}else Ru=!1;Tf=Ru&&(!document.documentMode||9<document.documentMode)}function Sf(){To&&(To.detachEvent("onpropertychange",Cf),Io=To=null)}function Cf(t){if(t.propertyName==="value"&&ja(Io)){var r=[];wf(r,Io,t,ji(t)),lo(Vy,r)}}function Dy(t,r,o){t==="focusin"?(Sf(),To=r,Io=o,To.attachEvent("onpropertychange",Cf)):t==="focusout"&&Sf()}function Ly(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ja(Io)}function Oy(t,r){if(t==="click")return ja(r)}function My(t,r){if(t==="input"||t==="change")return ja(r)}function Fy(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Cn=typeof Object.is=="function"?Object.is:Fy;function So(t,r){if(Cn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),u=Object.keys(r);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var h=o[u];if(!g.call(r,h)||!Cn(t[h],r[h]))return!1}return!0}function Af(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rf(t,r){var o=Af(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=r&&u>=r)return{node:o,offset:r-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Af(o)}}function Pf(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Pf(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function kf(){for(var t=window,r=mr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=mr(t.document)}return r}function ku(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Uy(t){var r=kf(),o=t.focusedElem,u=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Pf(o.ownerDocument.documentElement,o)){if(u!==null&&ku(o)){if(r=u.start,t=u.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var h=o.textContent.length,p=Math.min(u.start,h);u=u.end===void 0?p:Math.min(u.end,h),!t.extend&&p>u&&(h=u,u=p,p=h),h=Rf(o,p);var v=Rf(o,u);h&&v&&(t.rangeCount!==1||t.anchorNode!==h.node||t.anchorOffset!==h.offset||t.focusNode!==v.node||t.focusOffset!==v.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),t.removeAllRanges(),p>u?(t.addRange(r),t.extend(v.node,v.offset)):(r.setEnd(v.node,v.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zy=m&&"documentMode"in document&&11>=document.documentMode,us=null,xu=null,Co=null,Vu=!1;function xf(t,r,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Vu||us==null||us!==mr(u)||(u=us,"selectionStart"in u&&ku(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Co&&So(Co,u)||(Co=u,u=Ha(xu,"onSelect"),0<u.length&&(r=new ts("onSelect","select",null,r,o),t.push({event:r,listeners:u}),r.target=us)))}function ba(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var cs={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},Nu={},Vf={};m&&(Vf=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function $a(t){if(Nu[t])return Nu[t];if(!cs[t])return t;var r=cs[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Vf)return Nu[t]=r[o];return t}var Nf=$a("animationend"),Df=$a("animationiteration"),Lf=$a("animationstart"),Of=$a("transitionend"),Mf=new Map,Ff="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(t,r){Mf.set(t,r),c(r,[t])}for(var Du=0;Du<Ff.length;Du++){var Lu=Ff[Du],By=Lu.toLowerCase(),jy=Lu[0].toUpperCase()+Lu.slice(1);Ar(By,"on"+jy)}Ar(Nf,"onAnimationEnd"),Ar(Df,"onAnimationIteration"),Ar(Lf,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(Of,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),by=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ao));function Uf(t,r,o){var u=t.type||"unknown-event";t.currentTarget=o,_a(u,r,void 0,t),t.currentTarget=null}function zf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],h=u.event;u=u.listeners;e:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var I=u[v],P=I.instance,B=I.currentTarget;if(I=I.listener,P!==p&&h.isPropagationStopped())break e;Uf(h,I,B),p=P}else for(v=0;v<u.length;v++){if(I=u[v],P=I.instance,B=I.currentTarget,I=I.listener,P!==p&&h.isPropagationStopped())break e;Uf(h,I,B),p=P}}}if(yn)throw t=uo,yn=!1,uo=null,t}function qe(t,r){var o=r[bu];o===void 0&&(o=r[bu]=new Set);var u=t+"__bubble";o.has(u)||(Bf(r,t,2,!1),o.add(u))}function Ou(t,r,o){var u=0;r&&(u|=4),Bf(o,t,u,r)}var qa="_reactListening"+Math.random().toString(36).slice(2);function Ro(t){if(!t[qa]){t[qa]=!0,s.forEach(function(o){o!=="selectionchange"&&(by.has(o)||Ou(o,!1,t),Ou(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[qa]||(r[qa]=!0,Ou("selectionchange",!1,r))}}function Bf(t,r,o,u){switch(yo(r)){case 1:var h=We;break;case 4:h=Cu;break;default:h=go}o=h.bind(null,r,o,t),h=void 0,!qi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),u?h!==void 0?t.addEventListener(r,o,{capture:!0,passive:h}):t.addEventListener(r,o,!0):h!==void 0?t.addEventListener(r,o,{passive:h}):t.addEventListener(r,o,!1)}function Mu(t,r,o,u,h){var p=u;if(!(r&1)&&!(r&2)&&u!==null)e:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var I=u.stateNode.containerInfo;if(I===h||I.nodeType===8&&I.parentNode===h)break;if(v===4)for(v=u.return;v!==null;){var P=v.tag;if((P===3||P===4)&&(P=v.stateNode.containerInfo,P===h||P.nodeType===8&&P.parentNode===h))return;v=v.return}for(;I!==null;){if(v=yi(I),v===null)return;if(P=v.tag,P===5||P===6){u=p=v;continue e}I=I.parentNode}}u=u.return}lo(function(){var B=p,K=ji(o),Y=[];e:{var W=Mf.get(t);if(W!==void 0){var te=ts,ae=t;switch(t){case"keypress":if(es(o)===0)break e;case"keydown":case"keyup":te=d;break;case"focusin":ae="focus",te=ss;break;case"focusout":ae="blur",te=ss;break;case"beforeblur":case"afterblur":te=ss;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=La;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=b;break;case Nf:case Df:case Lf:te=rr;break;case Of:te=Ue;break;case"scroll":te=Au;break;case"wheel":te=Pe;break;case"copy":case"cut":case"paste":te=Fa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=E}var ce=(r&4)!==0,nt=!ce&&t==="scroll",M=ce?W!==null?W+"Capture":null:W;ce=[];for(var V=B,U;V!==null;){U=V;var J=U.stateNode;if(U.tag===5&&J!==null&&(U=J,M!==null&&(J=tt(V,M),J!=null&&ce.push(Po(V,J,U)))),nt)break;V=V.return}0<ce.length&&(W=new te(W,ae,null,o,K),Y.push({event:W,listeners:ce}))}}if(!(r&7)){e:{if(W=t==="mouseover"||t==="pointerover",te=t==="mouseout"||t==="pointerout",W&&o!==ii&&(ae=o.relatedTarget||o.fromElement)&&(yi(ae)||ae[ir]))break e;if((te||W)&&(W=K.window===K?K:(W=K.ownerDocument)?W.defaultView||W.parentWindow:window,te?(ae=o.relatedTarget||o.toElement,te=B,ae=ae?yi(ae):null,ae!==null&&(nt=vn(ae),ae!==nt||ae.tag!==5&&ae.tag!==6)&&(ae=null)):(te=null,ae=B),te!==ae)){if(ce=rs,J="onMouseLeave",M="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ce=E,J="onPointerLeave",M="onPointerEnter",V="pointer"),nt=te==null?W:ds(te),U=ae==null?W:ds(ae),W=new ce(J,V+"leave",te,o,K),W.target=nt,W.relatedTarget=U,J=null,yi(K)===B&&(ce=new ce(M,V+"enter",ae,o,K),ce.target=U,ce.relatedTarget=nt,J=ce),nt=J,te&&ae)t:{for(ce=te,M=ae,V=0,U=ce;U;U=hs(U))V++;for(U=0,J=M;J;J=hs(J))U++;for(;0<V-U;)ce=hs(ce),V--;for(;0<U-V;)M=hs(M),U--;for(;V--;){if(ce===M||M!==null&&ce===M.alternate)break t;ce=hs(ce),M=hs(M)}ce=null}else ce=null;te!==null&&jf(Y,W,te,ce,!1),ae!==null&&nt!==null&&jf(Y,nt,ae,ce,!0)}}e:{if(W=B?ds(B):window,te=W.nodeName&&W.nodeName.toLowerCase(),te==="select"||te==="input"&&W.type==="file")var he=Ny;else if(Ef(W))if(Tf)he=My;else{he=Ly;var ge=Dy}else(te=W.nodeName)&&te.toLowerCase()==="input"&&(W.type==="checkbox"||W.type==="radio")&&(he=Oy);if(he&&(he=he(t,B))){wf(Y,he,o,K);break e}ge&&ge(t,W,B),t==="focusout"&&(ge=W._wrapperState)&&ge.controlled&&W.type==="number"&&Ui(W,"number",W.value)}switch(ge=B?ds(B):window,t){case"focusin":(Ef(ge)||ge.contentEditable==="true")&&(us=ge,xu=B,Co=null);break;case"focusout":Co=xu=us=null;break;case"mousedown":Vu=!0;break;case"contextmenu":case"mouseup":case"dragend":Vu=!1,xf(Y,o,K);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":xf(Y,o,K)}var ye;if(st)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else ls?vf(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(gi&&o.locale!=="ko"&&(ls||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&ls&&(ye=vo()):(Zt=K,Zi="value"in Zt?Zt.value:Zt.textContent,ls=!0)),ge=Ha(B,ve),0<ge.length&&(ve=new wo(ve,t,null,o,K),Y.push({event:ve,listeners:ge}),ye?ve.data=ye:(ye=_f(o),ye!==null&&(ve.data=ye)))),(ye=en?Py(t,o):ky(t,o))&&(B=Ha(B,"onBeforeInput"),0<B.length&&(K=new wo("onBeforeInput","beforeinput",null,o,K),Y.push({event:K,listeners:B}),K.data=ye))}zf(Y,r)})}function Po(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ha(t,r){for(var o=r+"Capture",u=[];t!==null;){var h=t,p=h.stateNode;h.tag===5&&p!==null&&(h=p,p=tt(t,o),p!=null&&u.unshift(Po(t,p,h)),p=tt(t,r),p!=null&&u.push(Po(t,p,h))),t=t.return}return u}function hs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function jf(t,r,o,u,h){for(var p=r._reactName,v=[];o!==null&&o!==u;){var I=o,P=I.alternate,B=I.stateNode;if(P!==null&&P===u)break;I.tag===5&&B!==null&&(I=B,h?(P=tt(o,p),P!=null&&v.unshift(Po(o,P,I))):h||(P=tt(o,p),P!=null&&v.push(Po(o,P,I)))),o=o.return}v.length!==0&&t.push({event:r,listeners:v})}var $y=/\r\n?/g,qy=/\u0000|\uFFFD/g;function bf(t){return(typeof t=="string"?t:""+t).replace($y,`
`).replace(qy,"")}function Qa(t,r,o){if(r=bf(r),bf(t)!==r&&o)throw Error(n(425))}function Wa(){}var Fu=null,Uu=null;function zu(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,Hy=typeof clearTimeout=="function"?clearTimeout:void 0,$f=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof $f<"u"?function(t){return $f.resolve(null).then(t).catch(Wy)}:Bu;function Wy(t){setTimeout(function(){throw t})}function ju(t,r){var o=r,u=0;do{var h=o.nextSibling;if(t.removeChild(o),h&&h.nodeType===8)if(o=h.data,o==="/$"){if(u===0){t.removeChild(h),In(r);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=h}while(o);In(r)}function Rr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function qf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var fs=Math.random().toString(36).slice(2),zn="__reactFiber$"+fs,ko="__reactProps$"+fs,ir="__reactContainer$"+fs,bu="__reactEvents$"+fs,Ky="__reactListeners$"+fs,Gy="__reactHandles$"+fs;function yi(t){var r=t[zn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ir]||o[zn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=qf(t);t!==null;){if(o=t[zn])return o;t=qf(t)}return r}t=o,o=t.parentNode}return null}function xo(t){return t=t[zn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ds(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function Ka(t){return t[ko]||null}var $u=[],ps=-1;function Pr(t){return{current:t}}function He(t){0>ps||(t.current=$u[ps],$u[ps]=null,ps--)}function $e(t,r){ps++,$u[ps]=t.current,t.current=r}var kr={},xt=Pr(kr),qt=Pr(!1),vi=kr;function ms(t,r){var o=t.type.contextTypes;if(!o)return kr;var u=t.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===r)return u.__reactInternalMemoizedMaskedChildContext;var h={},p;for(p in o)h[p]=r[p];return u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=h),h}function Ht(t){return t=t.childContextTypes,t!=null}function Ga(){He(qt),He(xt)}function Hf(t,r,o){if(xt.current!==kr)throw Error(n(168));$e(xt,r),$e(qt,o)}function Qf(t,r,o){var u=t.stateNode;if(r=r.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var h in u)if(!(h in r))throw Error(n(108,Me(t)||"Unknown",h));return re({},o,u)}function Ya(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||kr,vi=xt.current,$e(xt,t),$e(qt,qt.current),!0}function Wf(t,r,o){var u=t.stateNode;if(!u)throw Error(n(169));o?(t=Qf(t,r,vi),u.__reactInternalMemoizedMergedChildContext=t,He(qt),He(xt),$e(xt,t)):He(qt),$e(qt,o)}var sr=null,Xa=!1,qu=!1;function Kf(t){sr===null?sr=[t]:sr.push(t)}function Yy(t){Xa=!0,Kf(t)}function xr(){if(!qu&&sr!==null){qu=!0;var t=0,r=Ae;try{var o=sr;for(Ae=1;t<o.length;t++){var u=o[t];do u=u(!0);while(u!==null)}sr=null,Xa=!1}catch(h){throw sr!==null&&(sr=sr.slice(t+1)),Ki(ui,xr),h}finally{Ae=r,qu=!1}}return null}var gs=[],ys=0,Ja=null,Za=0,cn=[],hn=0,_i=null,or=1,ar="";function Ei(t,r){gs[ys++]=Za,gs[ys++]=Ja,Ja=t,Za=r}function Gf(t,r,o){cn[hn++]=or,cn[hn++]=ar,cn[hn++]=_i,_i=t;var u=or;t=ar;var h=32-Ut(u)-1;u&=~(1<<h),o+=1;var p=32-Ut(r)+h;if(30<p){var v=h-h%5;p=(u&(1<<v)-1).toString(32),u>>=v,h-=v,or=1<<32-Ut(r)+h|o<<h|u,ar=p+t}else or=1<<p|o<<h|u,ar=t}function Hu(t){t.return!==null&&(Ei(t,1),Gf(t,1,0))}function Qu(t){for(;t===Ja;)Ja=gs[--ys],gs[ys]=null,Za=gs[--ys],gs[ys]=null;for(;t===_i;)_i=cn[--hn],cn[hn]=null,ar=cn[--hn],cn[hn]=null,or=cn[--hn],cn[hn]=null}var tn=null,nn=null,Ke=!1,An=null;function Yf(t,r){var o=mn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function Xf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,tn=t,nn=Rr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,tn=t,nn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=_i!==null?{id:or,overflow:ar}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=mn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,tn=t,nn=null,!0):!1;default:return!1}}function Wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ku(t){if(Ke){var r=nn;if(r){var o=r;if(!Xf(t,r)){if(Wu(t))throw Error(n(418));r=Rr(o.nextSibling);var u=tn;r&&Xf(t,r)?Yf(u,o):(t.flags=t.flags&-4097|2,Ke=!1,tn=t)}}else{if(Wu(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,tn=t}}}function Jf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function el(t){if(t!==tn)return!1;if(!Ke)return Jf(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!zu(t.type,t.memoizedProps)),r&&(r=nn)){if(Wu(t))throw Zf(),Error(n(418));for(;r;)Yf(t,r),r=Rr(r.nextSibling)}if(Jf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){nn=Rr(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}nn=null}}else nn=tn?Rr(t.stateNode.nextSibling):null;return!0}function Zf(){for(var t=nn;t;)t=Rr(t.nextSibling)}function vs(){nn=tn=null,Ke=!1}function Gu(t){An===null?An=[t]:An.push(t)}var Xy=de.ReactCurrentBatchConfig;function Vo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var u=o.stateNode}if(!u)throw Error(n(147,t));var h=u,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(v){var I=h.refs;v===null?delete I[p]:I[p]=v},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function tl(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function ed(t){var r=t._init;return r(t._payload)}function td(t){function r(M,V){if(t){var U=M.deletions;U===null?(M.deletions=[V],M.flags|=16):U.push(V)}}function o(M,V){if(!t)return null;for(;V!==null;)r(M,V),V=V.sibling;return null}function u(M,V){for(M=new Map;V!==null;)V.key!==null?M.set(V.key,V):M.set(V.index,V),V=V.sibling;return M}function h(M,V){return M=Ur(M,V),M.index=0,M.sibling=null,M}function p(M,V,U){return M.index=U,t?(U=M.alternate,U!==null?(U=U.index,U<V?(M.flags|=2,V):U):(M.flags|=2,V)):(M.flags|=1048576,V)}function v(M){return t&&M.alternate===null&&(M.flags|=2),M}function I(M,V,U,J){return V===null||V.tag!==6?(V=Bc(U,M.mode,J),V.return=M,V):(V=h(V,U),V.return=M,V)}function P(M,V,U,J){var he=U.type;return he===x?K(M,V,U.props.children,J,U.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&ed(he)===V.type)?(J=h(V,U.props),J.ref=Vo(M,V,U),J.return=M,J):(J=Cl(U.type,U.key,U.props,null,M.mode,J),J.ref=Vo(M,V,U),J.return=M,J)}function B(M,V,U,J){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=jc(U,M.mode,J),V.return=M,V):(V=h(V,U.children||[]),V.return=M,V)}function K(M,V,U,J,he){return V===null||V.tag!==7?(V=Pi(U,M.mode,J,he),V.return=M,V):(V=h(V,U),V.return=M,V)}function Y(M,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Bc(""+V,M.mode,U),V.return=M,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case Ce:return U=Cl(V.type,V.key,V.props,null,M.mode,U),U.ref=Vo(M,null,V),U.return=M,U;case we:return V=jc(V,M.mode,U),V.return=M,V;case kt:var J=V._init;return Y(M,J(V._payload),U)}if(Gn(V)||pe(V))return V=Pi(V,M.mode,U,null),V.return=M,V;tl(M,V)}return null}function W(M,V,U,J){var he=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:I(M,V,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:return U.key===he?P(M,V,U,J):null;case we:return U.key===he?B(M,V,U,J):null;case kt:return he=U._init,W(M,V,he(U._payload),J)}if(Gn(U)||pe(U))return he!==null?null:K(M,V,U,J,null);tl(M,U)}return null}function te(M,V,U,J,he){if(typeof J=="string"&&J!==""||typeof J=="number")return M=M.get(U)||null,I(V,M,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case Ce:return M=M.get(J.key===null?U:J.key)||null,P(V,M,J,he);case we:return M=M.get(J.key===null?U:J.key)||null,B(V,M,J,he);case kt:var ge=J._init;return te(M,V,U,ge(J._payload),he)}if(Gn(J)||pe(J))return M=M.get(U)||null,K(V,M,J,he,null);tl(V,J)}return null}function ae(M,V,U,J){for(var he=null,ge=null,ye=V,ve=V=0,_t=null;ye!==null&&ve<U.length;ve++){ye.index>ve?(_t=ye,ye=null):_t=ye.sibling;var Oe=W(M,ye,U[ve],J);if(Oe===null){ye===null&&(ye=_t);break}t&&ye&&Oe.alternate===null&&r(M,ye),V=p(Oe,V,ve),ge===null?he=Oe:ge.sibling=Oe,ge=Oe,ye=_t}if(ve===U.length)return o(M,ye),Ke&&Ei(M,ve),he;if(ye===null){for(;ve<U.length;ve++)ye=Y(M,U[ve],J),ye!==null&&(V=p(ye,V,ve),ge===null?he=ye:ge.sibling=ye,ge=ye);return Ke&&Ei(M,ve),he}for(ye=u(M,ye);ve<U.length;ve++)_t=te(ye,M,ve,U[ve],J),_t!==null&&(t&&_t.alternate!==null&&ye.delete(_t.key===null?ve:_t.key),V=p(_t,V,ve),ge===null?he=_t:ge.sibling=_t,ge=_t);return t&&ye.forEach(function(zr){return r(M,zr)}),Ke&&Ei(M,ve),he}function ce(M,V,U,J){var he=pe(U);if(typeof he!="function")throw Error(n(150));if(U=he.call(U),U==null)throw Error(n(151));for(var ge=he=null,ye=V,ve=V=0,_t=null,Oe=U.next();ye!==null&&!Oe.done;ve++,Oe=U.next()){ye.index>ve?(_t=ye,ye=null):_t=ye.sibling;var zr=W(M,ye,Oe.value,J);if(zr===null){ye===null&&(ye=_t);break}t&&ye&&zr.alternate===null&&r(M,ye),V=p(zr,V,ve),ge===null?he=zr:ge.sibling=zr,ge=zr,ye=_t}if(Oe.done)return o(M,ye),Ke&&Ei(M,ve),he;if(ye===null){for(;!Oe.done;ve++,Oe=U.next())Oe=Y(M,Oe.value,J),Oe!==null&&(V=p(Oe,V,ve),ge===null?he=Oe:ge.sibling=Oe,ge=Oe);return Ke&&Ei(M,ve),he}for(ye=u(M,ye);!Oe.done;ve++,Oe=U.next())Oe=te(ye,M,ve,Oe.value,J),Oe!==null&&(t&&Oe.alternate!==null&&ye.delete(Oe.key===null?ve:Oe.key),V=p(Oe,V,ve),ge===null?he=Oe:ge.sibling=Oe,ge=Oe);return t&&ye.forEach(function(xv){return r(M,xv)}),Ke&&Ei(M,ve),he}function nt(M,V,U,J){if(typeof U=="object"&&U!==null&&U.type===x&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case Ce:e:{for(var he=U.key,ge=V;ge!==null;){if(ge.key===he){if(he=U.type,he===x){if(ge.tag===7){o(M,ge.sibling),V=h(ge,U.props.children),V.return=M,M=V;break e}}else if(ge.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===kt&&ed(he)===ge.type){o(M,ge.sibling),V=h(ge,U.props),V.ref=Vo(M,ge,U),V.return=M,M=V;break e}o(M,ge);break}else r(M,ge);ge=ge.sibling}U.type===x?(V=Pi(U.props.children,M.mode,J,U.key),V.return=M,M=V):(J=Cl(U.type,U.key,U.props,null,M.mode,J),J.ref=Vo(M,V,U),J.return=M,M=J)}return v(M);case we:e:{for(ge=U.key;V!==null;){if(V.key===ge)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){o(M,V.sibling),V=h(V,U.children||[]),V.return=M,M=V;break e}else{o(M,V);break}else r(M,V);V=V.sibling}V=jc(U,M.mode,J),V.return=M,M=V}return v(M);case kt:return ge=U._init,nt(M,V,ge(U._payload),J)}if(Gn(U))return ae(M,V,U,J);if(pe(U))return ce(M,V,U,J);tl(M,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,V!==null&&V.tag===6?(o(M,V.sibling),V=h(V,U),V.return=M,M=V):(o(M,V),V=Bc(U,M.mode,J),V.return=M,M=V),v(M)):o(M,V)}return nt}var _s=td(!0),nd=td(!1),nl=Pr(null),rl=null,Es=null,Yu=null;function Xu(){Yu=Es=rl=null}function Ju(t){var r=nl.current;He(nl),t._currentValue=r}function Zu(t,r,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),t===o)break;t=t.return}}function ws(t,r){rl=t,Yu=Es=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Qt=!0),t.firstContext=null)}function fn(t){var r=t._currentValue;if(Yu!==t)if(t={context:t,memoizedValue:r,next:null},Es===null){if(rl===null)throw Error(n(308));Es=t,rl.dependencies={lanes:0,firstContext:t}}else Es=Es.next=t;return r}var wi=null;function ec(t){wi===null?wi=[t]:wi.push(t)}function rd(t,r,o,u){var h=r.interleaved;return h===null?(o.next=o,ec(r)):(o.next=h.next,h.next=o),r.interleaved=o,lr(t,u)}function lr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Vr=!1;function tc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function id(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ur(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Nr(t,r,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,De&2){var h=u.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),u.pending=r,lr(t,o)}return h=u.interleaved,h===null?(r.next=r,ec(u)):(r.next=h.next,h.next=r),u.interleaved=r,lr(t,o)}function il(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}function sd(t,r){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var h=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var v={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?h=p=v:p=p.next=v,o=o.next}while(o!==null);p===null?h=p=r:p=p.next=r}else h=p=r;o={baseState:u.baseState,firstBaseUpdate:h,lastBaseUpdate:p,shared:u.shared,effects:u.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function sl(t,r,o,u){var h=t.updateQueue;Vr=!1;var p=h.firstBaseUpdate,v=h.lastBaseUpdate,I=h.shared.pending;if(I!==null){h.shared.pending=null;var P=I,B=P.next;P.next=null,v===null?p=B:v.next=B,v=P;var K=t.alternate;K!==null&&(K=K.updateQueue,I=K.lastBaseUpdate,I!==v&&(I===null?K.firstBaseUpdate=B:I.next=B,K.lastBaseUpdate=P))}if(p!==null){var Y=h.baseState;v=0,K=B=P=null,I=p;do{var W=I.lane,te=I.eventTime;if((u&W)===W){K!==null&&(K=K.next={eventTime:te,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var ae=t,ce=I;switch(W=r,te=o,ce.tag){case 1:if(ae=ce.payload,typeof ae=="function"){Y=ae.call(te,Y,W);break e}Y=ae;break e;case 3:ae.flags=ae.flags&-65537|128;case 0:if(ae=ce.payload,W=typeof ae=="function"?ae.call(te,Y,W):ae,W==null)break e;Y=re({},Y,W);break e;case 2:Vr=!0}}I.callback!==null&&I.lane!==0&&(t.flags|=64,W=h.effects,W===null?h.effects=[I]:W.push(I))}else te={eventTime:te,lane:W,tag:I.tag,payload:I.payload,callback:I.callback,next:null},K===null?(B=K=te,P=Y):K=K.next=te,v|=W;if(I=I.next,I===null){if(I=h.shared.pending,I===null)break;W=I,I=W.next,W.next=null,h.lastBaseUpdate=W,h.shared.pending=null}}while(!0);if(K===null&&(P=Y),h.baseState=P,h.firstBaseUpdate=B,h.lastBaseUpdate=K,r=h.shared.interleaved,r!==null){h=r;do v|=h.lane,h=h.next;while(h!==r)}else p===null&&(h.shared.lanes=0);Si|=v,t.lanes=v,t.memoizedState=Y}}function od(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var u=t[r],h=u.callback;if(h!==null){if(u.callback=null,u=o,typeof h!="function")throw Error(n(191,h));h.call(u)}}}var No={},Bn=Pr(No),Do=Pr(No),Lo=Pr(No);function Ti(t){if(t===No)throw Error(n(174));return t}function nc(t,r){switch($e(Lo,r),$e(Do,t),$e(Bn,No),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ct(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ct(r,t)}He(Bn),$e(Bn,r)}function Ts(){He(Bn),He(Do),He(Lo)}function ad(t){Ti(Lo.current);var r=Ti(Bn.current),o=ct(r,t.type);r!==o&&($e(Do,t),$e(Bn,o))}function rc(t){Do.current===t&&(He(Bn),He(Do))}var Ge=Pr(0);function ol(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ic=[];function sc(){for(var t=0;t<ic.length;t++)ic[t]._workInProgressVersionPrimary=null;ic.length=0}var al=de.ReactCurrentDispatcher,oc=de.ReactCurrentBatchConfig,Ii=0,Ye=null,ft=null,yt=null,ll=!1,Oo=!1,Mo=0,Jy=0;function Vt(){throw Error(n(321))}function ac(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Cn(t[o],r[o]))return!1;return!0}function lc(t,r,o,u,h,p){if(Ii=p,Ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,al.current=t===null||t.memoizedState===null?nv:rv,t=o(u,h),Oo){p=0;do{if(Oo=!1,Mo=0,25<=p)throw Error(n(301));p+=1,yt=ft=null,r.updateQueue=null,al.current=iv,t=o(u,h)}while(Oo)}if(al.current=hl,r=ft!==null&&ft.next!==null,Ii=0,yt=ft=Ye=null,ll=!1,r)throw Error(n(300));return t}function uc(){var t=Mo!==0;return Mo=0,t}function jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Ye.memoizedState=yt=t:yt=yt.next=t,yt}function dn(){if(ft===null){var t=Ye.alternate;t=t!==null?t.memoizedState:null}else t=ft.next;var r=yt===null?Ye.memoizedState:yt.next;if(r!==null)yt=r,ft=t;else{if(t===null)throw Error(n(310));ft=t,t={memoizedState:ft.memoizedState,baseState:ft.baseState,baseQueue:ft.baseQueue,queue:ft.queue,next:null},yt===null?Ye.memoizedState=yt=t:yt=yt.next=t}return yt}function Fo(t,r){return typeof r=="function"?r(t):r}function cc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=ft,h=u.baseQueue,p=o.pending;if(p!==null){if(h!==null){var v=h.next;h.next=p.next,p.next=v}u.baseQueue=h=p,o.pending=null}if(h!==null){p=h.next,u=u.baseState;var I=v=null,P=null,B=p;do{var K=B.lane;if((Ii&K)===K)P!==null&&(P=P.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),u=B.hasEagerState?B.eagerState:t(u,B.action);else{var Y={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};P===null?(I=P=Y,v=u):P=P.next=Y,Ye.lanes|=K,Si|=K}B=B.next}while(B!==null&&B!==p);P===null?v=u:P.next=I,Cn(u,r.memoizedState)||(Qt=!0),r.memoizedState=u,r.baseState=v,r.baseQueue=P,o.lastRenderedState=u}if(t=o.interleaved,t!==null){h=t;do p=h.lane,Ye.lanes|=p,Si|=p,h=h.next;while(h!==t)}else h===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function hc(t){var r=dn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var u=o.dispatch,h=o.pending,p=r.memoizedState;if(h!==null){o.pending=null;var v=h=h.next;do p=t(p,v.action),v=v.next;while(v!==h);Cn(p,r.memoizedState)||(Qt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,u]}function ld(){}function ud(t,r){var o=Ye,u=dn(),h=r(),p=!Cn(u.memoizedState,h);if(p&&(u.memoizedState=h,Qt=!0),u=u.queue,fc(fd.bind(null,o,u,t),[t]),u.getSnapshot!==r||p||yt!==null&&yt.memoizedState.tag&1){if(o.flags|=2048,Uo(9,hd.bind(null,o,u,h,r),void 0,null),vt===null)throw Error(n(349));Ii&30||cd(o,r,h)}return h}function cd(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function hd(t,r,o,u){r.value=o,r.getSnapshot=u,dd(r)&&pd(t)}function fd(t,r,o){return o(function(){dd(r)&&pd(t)})}function dd(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Cn(t,o)}catch{return!0}}function pd(t){var r=lr(t,1);r!==null&&xn(r,t,1,-1)}function md(t){var r=jn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fo,lastRenderedState:t},r.queue=t,t=t.dispatch=tv.bind(null,Ye,t),[r.memoizedState,t]}function Uo(t,r,o,u){return t={tag:t,create:r,destroy:o,deps:u,next:null},r=Ye.updateQueue,r===null?(r={lastEffect:null,stores:null},Ye.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,r.lastEffect=t)),t}function gd(){return dn().memoizedState}function ul(t,r,o,u){var h=jn();Ye.flags|=t,h.memoizedState=Uo(1|r,o,void 0,u===void 0?null:u)}function cl(t,r,o,u){var h=dn();u=u===void 0?null:u;var p=void 0;if(ft!==null){var v=ft.memoizedState;if(p=v.destroy,u!==null&&ac(u,v.deps)){h.memoizedState=Uo(r,o,p,u);return}}Ye.flags|=t,h.memoizedState=Uo(1|r,o,p,u)}function yd(t,r){return ul(8390656,8,t,r)}function fc(t,r){return cl(2048,8,t,r)}function vd(t,r){return cl(4,2,t,r)}function _d(t,r){return cl(4,4,t,r)}function Ed(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function wd(t,r,o){return o=o!=null?o.concat([t]):null,cl(4,4,Ed.bind(null,r,t),o)}function dc(){}function Td(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(o.memoizedState=[t,r],t)}function Id(t,r){var o=dn();r=r===void 0?null:r;var u=o.memoizedState;return u!==null&&r!==null&&ac(r,u[1])?u[0]:(t=t(),o.memoizedState=[t,r],t)}function Sd(t,r,o){return Ii&21?(Cn(o,r)||(o=fi(),Ye.lanes|=o,Si|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Qt=!0),t.memoizedState=o)}function Zy(t,r){var o=Ae;Ae=o!==0&&4>o?o:4,t(!0);var u=oc.transition;oc.transition={};try{t(!1),r()}finally{Ae=o,oc.transition=u}}function Cd(){return dn().memoizedState}function ev(t,r,o){var u=Mr(t);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},Ad(t))Rd(r,o);else if(o=rd(t,r,o,u),o!==null){var h=jt();xn(o,t,u,h),Pd(o,r,u)}}function tv(t,r,o){var u=Mr(t),h={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))Rd(r,h);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,I=p(v,o);if(h.hasEagerState=!0,h.eagerState=I,Cn(I,v)){var P=r.interleaved;P===null?(h.next=h,ec(r)):(h.next=P.next,P.next=h),r.interleaved=h;return}}catch{}finally{}o=rd(t,r,h,u),o!==null&&(h=jt(),xn(o,t,u,h),Pd(o,r,u))}}function Ad(t){var r=t.alternate;return t===Ye||r!==null&&r===Ye}function Rd(t,r){Oo=ll=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Pd(t,r,o){if(o&4194240){var u=r.lanes;u&=t.pendingLanes,o|=u,r.lanes=o,wr(t,o)}}var hl={readContext:fn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},nv={readContext:fn,useCallback:function(t,r){return jn().memoizedState=[t,r===void 0?null:r],t},useContext:fn,useEffect:yd,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,ul(4194308,4,Ed.bind(null,r,t),o)},useLayoutEffect:function(t,r){return ul(4194308,4,t,r)},useInsertionEffect:function(t,r){return ul(4,2,t,r)},useMemo:function(t,r){var o=jn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var u=jn();return r=o!==void 0?o(r):r,u.memoizedState=u.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},u.queue=t,t=t.dispatch=ev.bind(null,Ye,t),[u.memoizedState,t]},useRef:function(t){var r=jn();return t={current:t},r.memoizedState=t},useState:md,useDebugValue:dc,useDeferredValue:function(t){return jn().memoizedState=t},useTransition:function(){var t=md(!1),r=t[0];return t=Zy.bind(null,t[1]),jn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var u=Ye,h=jn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),vt===null)throw Error(n(349));Ii&30||cd(u,r,o)}h.memoizedState=o;var p={value:o,getSnapshot:r};return h.queue=p,yd(fd.bind(null,u,p,t),[t]),u.flags|=2048,Uo(9,hd.bind(null,u,p,o,r),void 0,null),o},useId:function(){var t=jn(),r=vt.identifierPrefix;if(Ke){var o=ar,u=or;o=(u&~(1<<32-Ut(u)-1)).toString(32)+o,r=":"+r+"R"+o,o=Mo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=Jy++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},rv={readContext:fn,useCallback:Td,useContext:fn,useEffect:fc,useImperativeHandle:wd,useInsertionEffect:vd,useLayoutEffect:_d,useMemo:Id,useReducer:cc,useRef:gd,useState:function(){return cc(Fo)},useDebugValue:dc,useDeferredValue:function(t){var r=dn();return Sd(r,ft.memoizedState,t)},useTransition:function(){var t=cc(Fo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:ld,useSyncExternalStore:ud,useId:Cd,unstable_isNewReconciler:!1},iv={readContext:fn,useCallback:Td,useContext:fn,useEffect:fc,useImperativeHandle:wd,useInsertionEffect:vd,useLayoutEffect:_d,useMemo:Id,useReducer:hc,useRef:gd,useState:function(){return hc(Fo)},useDebugValue:dc,useDeferredValue:function(t){var r=dn();return ft===null?r.memoizedState=t:Sd(r,ft.memoizedState,t)},useTransition:function(){var t=hc(Fo)[0],r=dn().memoizedState;return[t,r]},useMutableSource:ld,useSyncExternalStore:ud,useId:Cd,unstable_isNewReconciler:!1};function Rn(t,r){if(t&&t.defaultProps){r=re({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function pc(t,r,o,u){r=t.memoizedState,o=o(u,r),o=o==null?r:re({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var fl={isMounted:function(t){return(t=t._reactInternals)?vn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var u=jt(),h=Mr(t),p=ur(u,h);p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(xn(r,t,h,u),il(r,t,h))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var u=jt(),h=Mr(t),p=ur(u,h);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=Nr(t,p,h),r!==null&&(xn(r,t,h,u),il(r,t,h))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),u=Mr(t),h=ur(o,u);h.tag=2,r!=null&&(h.callback=r),r=Nr(t,h,u),r!==null&&(xn(r,t,u,o),il(r,t,u))}};function kd(t,r,o,u,h,p,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!So(o,u)||!So(h,p):!0}function xd(t,r,o){var u=!1,h=kr,p=r.contextType;return typeof p=="object"&&p!==null?p=fn(p):(h=Ht(r)?vi:xt.current,u=r.contextTypes,p=(u=u!=null)?ms(t,h):kr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=fl,t.stateNode=r,r._reactInternals=t,u&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=h,t.__reactInternalMemoizedMaskedChildContext=p),r}function Vd(t,r,o,u){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,u),r.state!==t&&fl.enqueueReplaceState(r,r.state,null)}function mc(t,r,o,u){var h=t.stateNode;h.props=o,h.state=t.memoizedState,h.refs={},tc(t);var p=r.contextType;typeof p=="object"&&p!==null?h.context=fn(p):(p=Ht(r)?vi:xt.current,h.context=ms(t,p)),h.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(pc(t,r,p,o),h.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&fl.enqueueReplaceState(h,h.state,null),sl(t,o,h,u),h.state=t.memoizedState),typeof h.componentDidMount=="function"&&(t.flags|=4194308)}function Is(t,r){try{var o="",u=r;do o+=Ie(u),u=u.return;while(u);var h=o}catch(p){h=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:h,digest:null}}function gc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function yc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var sv=typeof WeakMap=="function"?WeakMap:Map;function Nd(t,r,o){o=ur(-1,o),o.tag=3,o.payload={element:null};var u=r.value;return o.callback=function(){_l||(_l=!0,Nc=u),yc(t,r)},o}function Dd(t,r,o){o=ur(-1,o),o.tag=3;var u=t.type.getDerivedStateFromError;if(typeof u=="function"){var h=r.value;o.payload=function(){return u(h)},o.callback=function(){yc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){yc(t,r),typeof u!="function"&&(Lr===null?Lr=new Set([this]):Lr.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})}),o}function Ld(t,r,o){var u=t.pingCache;if(u===null){u=t.pingCache=new sv;var h=new Set;u.set(r,h)}else h=u.get(r),h===void 0&&(h=new Set,u.set(r,h));h.has(o)||(h.add(o),t=_v.bind(null,t,r,o),r.then(t,t))}function Od(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Md(t,r,o,u,h){return t.mode&1?(t.flags|=65536,t.lanes=h,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=ur(-1,1),r.tag=2,Nr(o,r,1))),o.lanes|=1),t)}var ov=de.ReactCurrentOwner,Qt=!1;function Bt(t,r,o,u){r.child=t===null?nd(r,null,o,u):_s(r,t.child,o,u)}function Fd(t,r,o,u,h){o=o.render;var p=r.ref;return ws(r,h),u=lc(t,r,o,u,p,h),o=uc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ke&&o&&Hu(r),r.flags|=1,Bt(t,r,u,h),r.child)}function Ud(t,r,o,u,h){if(t===null){var p=o.type;return typeof p=="function"&&!zc(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,zd(t,r,p,u,h)):(t=Cl(o.type,null,u,r,r.mode,h),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&h)){var v=p.memoizedProps;if(o=o.compare,o=o!==null?o:So,o(v,u)&&t.ref===r.ref)return cr(t,r,h)}return r.flags|=1,t=Ur(p,u),t.ref=r.ref,t.return=r,r.child=t}function zd(t,r,o,u,h){if(t!==null){var p=t.memoizedProps;if(So(p,u)&&t.ref===r.ref)if(Qt=!1,r.pendingProps=u=p,(t.lanes&h)!==0)t.flags&131072&&(Qt=!0);else return r.lanes=t.lanes,cr(t,r,h)}return vc(t,r,o,u,h)}function Bd(t,r,o){var u=r.pendingProps,h=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Cs,rn),rn|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,$e(Cs,rn),rn|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=p!==null?p.baseLanes:o,$e(Cs,rn),rn|=u}else p!==null?(u=p.baseLanes|o,r.memoizedState=null):u=o,$e(Cs,rn),rn|=u;return Bt(t,r,h,o),r.child}function jd(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function vc(t,r,o,u,h){var p=Ht(o)?vi:xt.current;return p=ms(r,p),ws(r,h),o=lc(t,r,o,u,p,h),u=uc(),t!==null&&!Qt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~h,cr(t,r,h)):(Ke&&u&&Hu(r),r.flags|=1,Bt(t,r,o,h),r.child)}function bd(t,r,o,u,h){if(Ht(o)){var p=!0;Ya(r)}else p=!1;if(ws(r,h),r.stateNode===null)pl(t,r),xd(r,o,u),mc(r,o,u,h),u=!0;else if(t===null){var v=r.stateNode,I=r.memoizedProps;v.props=I;var P=v.context,B=o.contextType;typeof B=="object"&&B!==null?B=fn(B):(B=Ht(o)?vi:xt.current,B=ms(r,B));var K=o.getDerivedStateFromProps,Y=typeof K=="function"||typeof v.getSnapshotBeforeUpdate=="function";Y||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==u||P!==B)&&Vd(r,v,u,B),Vr=!1;var W=r.memoizedState;v.state=W,sl(r,u,v,h),P=r.memoizedState,I!==u||W!==P||qt.current||Vr?(typeof K=="function"&&(pc(r,o,K,u),P=r.memoizedState),(I=Vr||kd(r,o,I,u,W,P,B))?(Y||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=P),v.props=u,v.state=P,v.context=B,u=I):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{v=r.stateNode,id(t,r),I=r.memoizedProps,B=r.type===r.elementType?I:Rn(r.type,I),v.props=B,Y=r.pendingProps,W=v.context,P=o.contextType,typeof P=="object"&&P!==null?P=fn(P):(P=Ht(o)?vi:xt.current,P=ms(r,P));var te=o.getDerivedStateFromProps;(K=typeof te=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(I!==Y||W!==P)&&Vd(r,v,u,P),Vr=!1,W=r.memoizedState,v.state=W,sl(r,u,v,h);var ae=r.memoizedState;I!==Y||W!==ae||qt.current||Vr?(typeof te=="function"&&(pc(r,o,te,u),ae=r.memoizedState),(B=Vr||kd(r,o,B,u,W,ae,P)||!1)?(K||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(u,ae,P),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(u,ae,P)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=ae),v.props=u,v.state=ae,v.context=P,u=B):(typeof v.componentDidUpdate!="function"||I===t.memoizedProps&&W===t.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||I===t.memoizedProps&&W===t.memoizedState||(r.flags|=1024),u=!1)}return _c(t,r,o,u,p,h)}function _c(t,r,o,u,h,p){jd(t,r);var v=(r.flags&128)!==0;if(!u&&!v)return h&&Wf(r,o,!1),cr(t,r,p);u=r.stateNode,ov.current=r;var I=v&&typeof o.getDerivedStateFromError!="function"?null:u.render();return r.flags|=1,t!==null&&v?(r.child=_s(r,t.child,null,p),r.child=_s(r,null,I,p)):Bt(t,r,I,p),r.memoizedState=u.state,h&&Wf(r,o,!0),r.child}function $d(t){var r=t.stateNode;r.pendingContext?Hf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&Hf(t,r.context,!1),nc(t,r.containerInfo)}function qd(t,r,o,u,h){return vs(),Gu(h),r.flags|=256,Bt(t,r,o,u),r.child}var Ec={dehydrated:null,treeContext:null,retryLane:0};function wc(t){return{baseLanes:t,cachePool:null,transitions:null}}function Hd(t,r,o){var u=r.pendingProps,h=Ge.current,p=!1,v=(r.flags&128)!==0,I;if((I=v)||(I=t!==null&&t.memoizedState===null?!1:(h&2)!==0),I?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(h|=1),$e(Ge,h&1),t===null)return Ku(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(v=u.children,t=u.fallback,p?(u=r.mode,p=r.child,v={mode:"hidden",children:v},!(u&1)&&p!==null?(p.childLanes=0,p.pendingProps=v):p=Al(v,u,0,null),t=Pi(t,u,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=wc(o),r.memoizedState=Ec,t):Tc(r,v));if(h=t.memoizedState,h!==null&&(I=h.dehydrated,I!==null))return av(t,r,v,u,I,h,o);if(p){p=u.fallback,v=r.mode,h=t.child,I=h.sibling;var P={mode:"hidden",children:u.children};return!(v&1)&&r.child!==h?(u=r.child,u.childLanes=0,u.pendingProps=P,r.deletions=null):(u=Ur(h,P),u.subtreeFlags=h.subtreeFlags&14680064),I!==null?p=Ur(I,p):(p=Pi(p,v,o,null),p.flags|=2),p.return=r,u.return=r,u.sibling=p,r.child=u,u=p,p=r.child,v=t.child.memoizedState,v=v===null?wc(o):{baseLanes:v.baseLanes|o,cachePool:null,transitions:v.transitions},p.memoizedState=v,p.childLanes=t.childLanes&~o,r.memoizedState=Ec,u}return p=t.child,t=p.sibling,u=Ur(p,{mode:"visible",children:u.children}),!(r.mode&1)&&(u.lanes=o),u.return=r,u.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=u,r.memoizedState=null,u}function Tc(t,r){return r=Al({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function dl(t,r,o,u){return u!==null&&Gu(u),_s(r,t.child,null,o),t=Tc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function av(t,r,o,u,h,p,v){if(o)return r.flags&256?(r.flags&=-257,u=gc(Error(n(422))),dl(t,r,v,u)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=u.fallback,h=r.mode,u=Al({mode:"visible",children:u.children},h,0,null),p=Pi(p,h,v,null),p.flags|=2,u.return=r,p.return=r,u.sibling=p,r.child=u,r.mode&1&&_s(r,t.child,null,v),r.child.memoizedState=wc(v),r.memoizedState=Ec,p);if(!(r.mode&1))return dl(t,r,v,null);if(h.data==="$!"){if(u=h.nextSibling&&h.nextSibling.dataset,u)var I=u.dgst;return u=I,p=Error(n(419)),u=gc(p,u,void 0),dl(t,r,v,u)}if(I=(v&t.childLanes)!==0,Qt||I){if(u=vt,u!==null){switch(v&-v){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(u.suspendedLanes|v)?0:h,h!==0&&h!==p.retryLane&&(p.retryLane=h,lr(t,h),xn(u,t,h,-1))}return Uc(),u=gc(Error(n(421))),dl(t,r,v,u)}return h.data==="$?"?(r.flags|=128,r.child=t.child,r=Ev.bind(null,t),h._reactRetry=r,null):(t=p.treeContext,nn=Rr(h.nextSibling),tn=r,Ke=!0,An=null,t!==null&&(cn[hn++]=or,cn[hn++]=ar,cn[hn++]=_i,or=t.id,ar=t.overflow,_i=r),r=Tc(r,u.children),r.flags|=4096,r)}function Qd(t,r,o){t.lanes|=r;var u=t.alternate;u!==null&&(u.lanes|=r),Zu(t.return,r,o)}function Ic(t,r,o,u,h){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:h}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=h)}function Wd(t,r,o){var u=r.pendingProps,h=u.revealOrder,p=u.tail;if(Bt(t,r,u.children,o),u=Ge.current,u&2)u=u&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Qd(t,o,r);else if(t.tag===19)Qd(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}if($e(Ge,u),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(o=r.child,h=null;o!==null;)t=o.alternate,t!==null&&ol(t)===null&&(h=o),o=o.sibling;o=h,o===null?(h=r.child,r.child=null):(h=o.sibling,o.sibling=null),Ic(r,!1,h,o,p);break;case"backwards":for(o=null,h=r.child,r.child=null;h!==null;){if(t=h.alternate,t!==null&&ol(t)===null){r.child=h;break}t=h.sibling,h.sibling=o,o=h,h=t}Ic(r,!0,o,null,p);break;case"together":Ic(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function pl(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function cr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),Si|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Ur(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Ur(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function lv(t,r,o){switch(r.tag){case 3:$d(r),vs();break;case 5:ad(r);break;case 1:Ht(r.type)&&Ya(r);break;case 4:nc(r,r.stateNode.containerInfo);break;case 10:var u=r.type._context,h=r.memoizedProps.value;$e(nl,u._currentValue),u._currentValue=h;break;case 13:if(u=r.memoizedState,u!==null)return u.dehydrated!==null?($e(Ge,Ge.current&1),r.flags|=128,null):o&r.child.childLanes?Hd(t,r,o):($e(Ge,Ge.current&1),t=cr(t,r,o),t!==null?t.sibling:null);$e(Ge,Ge.current&1);break;case 19:if(u=(o&r.childLanes)!==0,t.flags&128){if(u)return Wd(t,r,o);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),$e(Ge,Ge.current),u)break;return null;case 22:case 23:return r.lanes=0,Bd(t,r,o)}return cr(t,r,o)}var Kd,Sc,Gd,Yd;Kd=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Sc=function(){},Gd=function(t,r,o,u){var h=t.memoizedProps;if(h!==u){t=r.stateNode,Ti(Bn.current);var p=null;switch(o){case"input":h=ti(t,h),u=ti(t,u),p=[];break;case"select":h=re({},h,{value:void 0}),u=re({},u,{value:void 0}),p=[];break;case"textarea":h=Js(t,h),u=Js(t,u),p=[];break;default:typeof h.onClick!="function"&&typeof u.onClick=="function"&&(t.onclick=Wa)}io(o,u);var v;o=null;for(B in h)if(!u.hasOwnProperty(B)&&h.hasOwnProperty(B)&&h[B]!=null)if(B==="style"){var I=h[B];for(v in I)I.hasOwnProperty(v)&&(o||(o={}),o[v]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(a.hasOwnProperty(B)?p||(p=[]):(p=p||[]).push(B,null));for(B in u){var P=u[B];if(I=h!=null?h[B]:void 0,u.hasOwnProperty(B)&&P!==I&&(P!=null||I!=null))if(B==="style")if(I){for(v in I)!I.hasOwnProperty(v)||P&&P.hasOwnProperty(v)||(o||(o={}),o[v]="");for(v in P)P.hasOwnProperty(v)&&I[v]!==P[v]&&(o||(o={}),o[v]=P[v])}else o||(p||(p=[]),p.push(B,o)),o=P;else B==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,I=I?I.__html:void 0,P!=null&&I!==P&&(p=p||[]).push(B,P)):B==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(B,""+P):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(a.hasOwnProperty(B)?(P!=null&&B==="onScroll"&&qe("scroll",t),p||I===P||(p=[])):(p=p||[]).push(B,P))}o&&(p=p||[]).push("style",o);var B=p;(r.updateQueue=B)&&(r.flags|=4)}},Yd=function(t,r,o,u){o!==u&&(r.flags|=4)};function zo(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(r)for(var h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags&14680064,u|=h.flags&14680064,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)o|=h.lanes|h.childLanes,u|=h.subtreeFlags,u|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=u,t.childLanes=o,r}function uv(t,r,o){var u=r.pendingProps;switch(Qu(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Ht(r.type)&&Ga(),Nt(r),null;case 3:return u=r.stateNode,Ts(),He(qt),He(xt),sc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(t===null||t.child===null)&&(el(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,An!==null&&(Oc(An),An=null))),Sc(t,r),Nt(r),null;case 5:rc(r);var h=Ti(Lo.current);if(o=r.type,t!==null&&r.stateNode!=null)Gd(t,r,o,u,h),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!u){if(r.stateNode===null)throw Error(n(166));return Nt(r),null}if(t=Ti(Bn.current),el(r)){u=r.stateNode,o=r.type;var p=r.memoizedProps;switch(u[zn]=r,u[ko]=p,t=(r.mode&1)!==0,o){case"dialog":qe("cancel",u),qe("close",u);break;case"iframe":case"object":case"embed":qe("load",u);break;case"video":case"audio":for(h=0;h<Ao.length;h++)qe(Ao[h],u);break;case"source":qe("error",u);break;case"img":case"image":case"link":qe("error",u),qe("load",u);break;case"details":qe("toggle",u);break;case"input":Fi(u,p),qe("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!p.multiple},qe("invalid",u);break;case"textarea":zi(u,p),qe("invalid",u)}io(o,p),h=null;for(var v in p)if(p.hasOwnProperty(v)){var I=p[v];v==="children"?typeof I=="string"?u.textContent!==I&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,I,t),h=["children",I]):typeof I=="number"&&u.textContent!==""+I&&(p.suppressHydrationWarning!==!0&&Qa(u.textContent,I,t),h=["children",""+I]):a.hasOwnProperty(v)&&I!=null&&v==="onScroll"&&qe("scroll",u)}switch(o){case"input":Kn(u),va(u,p,!0);break;case"textarea":Kn(u),Zs(u);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(u.onclick=Wa)}u=h,r.updateQueue=u,u!==null&&(r.flags|=4)}else{v=h.nodeType===9?h:h.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ut(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=v.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof u.is=="string"?t=v.createElement(o,{is:u.is}):(t=v.createElement(o),o==="select"&&(v=t,u.multiple?v.multiple=!0:u.size&&(v.size=u.size))):t=v.createElementNS(t,o),t[zn]=r,t[ko]=u,Kd(t,r,!1,!1),r.stateNode=t;e:{switch(v=so(o,u),o){case"dialog":qe("cancel",t),qe("close",t),h=u;break;case"iframe":case"object":case"embed":qe("load",t),h=u;break;case"video":case"audio":for(h=0;h<Ao.length;h++)qe(Ao[h],t);h=u;break;case"source":qe("error",t),h=u;break;case"img":case"image":case"link":qe("error",t),qe("load",t),h=u;break;case"details":qe("toggle",t),h=u;break;case"input":Fi(t,u),h=ti(t,u),qe("invalid",t);break;case"option":h=u;break;case"select":t._wrapperState={wasMultiple:!!u.multiple},h=re({},u,{value:void 0}),qe("invalid",t);break;case"textarea":zi(t,u),h=Js(t,u),qe("invalid",t);break;default:h=u}io(o,h),I=h;for(p in I)if(I.hasOwnProperty(p)){var P=I[p];p==="style"?no(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&eo(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&gr(t,P):typeof P=="number"&&gr(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&qe("scroll",t):P!=null&&oe(t,p,P,v))}switch(o){case"input":Kn(t),va(t,u,!1);break;case"textarea":Kn(t),Zs(t);break;case"option":u.value!=null&&t.setAttribute("value",""+Fe(u.value));break;case"select":t.multiple=!!u.multiple,p=u.value,p!=null?Yn(t,!!u.multiple,p,!1):u.defaultValue!=null&&Yn(t,!!u.multiple,u.defaultValue,!0);break;default:typeof h.onClick=="function"&&(t.onclick=Wa)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)Yd(t,r,t.memoizedProps,u);else{if(typeof u!="string"&&r.stateNode===null)throw Error(n(166));if(o=Ti(Lo.current),Ti(Bn.current),el(r)){if(u=r.stateNode,o=r.memoizedProps,u[zn]=r,(p=u.nodeValue!==o)&&(t=tn,t!==null))switch(t.tag){case 3:Qa(u.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qa(u.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[zn]=r,r.stateNode=u}return Nt(r),null;case 13:if(He(Ge),u=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&nn!==null&&r.mode&1&&!(r.flags&128))Zf(),vs(),r.flags|=98560,p=!1;else if(p=el(r),u!==null&&u.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zn]=r}else vs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Nt(r),p=!1}else An!==null&&(Oc(An),An=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(u=u!==null,u!==(t!==null&&t.memoizedState!==null)&&u&&(r.child.flags|=8192,r.mode&1&&(t===null||Ge.current&1?dt===0&&(dt=3):Uc())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Ts(),Sc(t,r),t===null&&Ro(r.stateNode.containerInfo),Nt(r),null;case 10:return Ju(r.type._context),Nt(r),null;case 17:return Ht(r.type)&&Ga(),Nt(r),null;case 19:if(He(Ge),p=r.memoizedState,p===null)return Nt(r),null;if(u=(r.flags&128)!==0,v=p.rendering,v===null)if(u)zo(p,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(v=ol(t),v!==null){for(r.flags|=128,zo(p,!1),u=v.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),r.subtreeFlags=0,u=o,o=r.child;o!==null;)p=o,t=u,p.flags&=14680066,v=p.alternate,v===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=v.childLanes,p.lanes=v.lanes,p.child=v.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=v.memoizedProps,p.memoizedState=v.memoizedState,p.updateQueue=v.updateQueue,p.type=v.type,t=v.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return $e(Ge,Ge.current&1|2),r.child}t=t.sibling}p.tail!==null&&be()>As&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304)}else{if(!u)if(t=ol(v),t!==null){if(r.flags|=128,u=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),zo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!v.alternate&&!Ke)return Nt(r),null}else 2*be()-p.renderingStartTime>As&&o!==1073741824&&(r.flags|=128,u=!0,zo(p,!1),r.lanes=4194304);p.isBackwards?(v.sibling=r.child,r.child=v):(o=p.last,o!==null?o.sibling=v:r.child=v,p.last=v)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=be(),r.sibling=null,o=Ge.current,$e(Ge,u?o&1|2:o&1),r):(Nt(r),null);case 22:case 23:return Fc(),u=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==u&&(r.flags|=8192),u&&r.mode&1?rn&1073741824&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function cv(t,r){switch(Qu(r),r.tag){case 1:return Ht(r.type)&&Ga(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Ts(),He(qt),He(xt),sc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return rc(r),null;case 13:if(He(Ge),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));vs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return He(Ge),null;case 4:return Ts(),null;case 10:return Ju(r.type._context),null;case 22:case 23:return Fc(),null;case 24:return null;default:return null}}var ml=!1,Dt=!1,hv=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ss(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Ze(t,r,u)}else o.current=null}function Cc(t,r,o){try{o()}catch(u){Ze(t,r,u)}}var Xd=!1;function fv(t,r){if(Fu=Sr,t=kf(),ku(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var h=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var v=0,I=-1,P=-1,B=0,K=0,Y=t,W=null;t:for(;;){for(var te;Y!==o||h!==0&&Y.nodeType!==3||(I=v+h),Y!==p||u!==0&&Y.nodeType!==3||(P=v+u),Y.nodeType===3&&(v+=Y.nodeValue.length),(te=Y.firstChild)!==null;)W=Y,Y=te;for(;;){if(Y===t)break t;if(W===o&&++B===h&&(I=v),W===p&&++K===u&&(P=v),(te=Y.nextSibling)!==null)break;Y=W,W=Y.parentNode}Y=te}o=I===-1||P===-1?null:{start:I,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(Uu={focusedElem:t,selectionRange:o},Sr=!1,se=r;se!==null;)if(r=se,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,se=t;else for(;se!==null;){r=se;try{var ae=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ae!==null){var ce=ae.memoizedProps,nt=ae.memoizedState,M=r.stateNode,V=M.getSnapshotBeforeUpdate(r.elementType===r.type?ce:Rn(r.type,ce),nt);M.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(J){Ze(r,r.return,J)}if(t=r.sibling,t!==null){t.return=r.return,se=t;break}se=r.return}return ae=Xd,Xd=!1,ae}function Bo(t,r,o){var u=r.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var h=u=u.next;do{if((h.tag&t)===t){var p=h.destroy;h.destroy=void 0,p!==void 0&&Cc(r,o,p)}h=h.next}while(h!==u)}}function gl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var u=o.create;o.destroy=u()}o=o.next}while(o!==r)}}function Ac(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function Jd(t){var r=t.alternate;r!==null&&(t.alternate=null,Jd(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[zn],delete r[ko],delete r[bu],delete r[Ky],delete r[Gy])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Zd(t){return t.tag===5||t.tag===3||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Zd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Wa));else if(u!==4&&(t=t.child,t!==null))for(Rc(t,r,o),t=t.sibling;t!==null;)Rc(t,r,o),t=t.sibling}function Pc(t,r,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(u!==4&&(t=t.child,t!==null))for(Pc(t,r,o),t=t.sibling;t!==null;)Pc(t,r,o),t=t.sibling}var St=null,Pn=!1;function Dr(t,r,o){for(o=o.child;o!==null;)tp(t,r,o),o=o.sibling}function tp(t,r,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ci,o)}catch{}switch(o.tag){case 5:Dt||Ss(o,r);case 6:var u=St,h=Pn;St=null,Dr(t,r,o),St=u,Pn=h,St!==null&&(Pn?(t=St,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):St.removeChild(o.stateNode));break;case 18:St!==null&&(Pn?(t=St,o=o.stateNode,t.nodeType===8?ju(t.parentNode,o):t.nodeType===1&&ju(t,o),In(t)):ju(St,o.stateNode));break;case 4:u=St,h=Pn,St=o.stateNode.containerInfo,Pn=!0,Dr(t,r,o),St=u,Pn=h;break;case 0:case 11:case 14:case 15:if(!Dt&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){h=u=u.next;do{var p=h,v=p.destroy;p=p.tag,v!==void 0&&(p&2||p&4)&&Cc(o,r,v),h=h.next}while(h!==u)}Dr(t,r,o);break;case 1:if(!Dt&&(Ss(o,r),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(I){Ze(o,r,I)}Dr(t,r,o);break;case 21:Dr(t,r,o);break;case 22:o.mode&1?(Dt=(u=Dt)||o.memoizedState!==null,Dr(t,r,o),Dt=u):Dr(t,r,o);break;default:Dr(t,r,o)}}function np(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new hv),r.forEach(function(u){var h=wv.bind(null,t,u);o.has(u)||(o.add(u),u.then(h,h))})}}function kn(t,r){var o=r.deletions;if(o!==null)for(var u=0;u<o.length;u++){var h=o[u];try{var p=t,v=r,I=v;e:for(;I!==null;){switch(I.tag){case 5:St=I.stateNode,Pn=!1;break e;case 3:St=I.stateNode.containerInfo,Pn=!0;break e;case 4:St=I.stateNode.containerInfo,Pn=!0;break e}I=I.return}if(St===null)throw Error(n(160));tp(p,v,h),St=null,Pn=!1;var P=h.alternate;P!==null&&(P.return=null),h.return=null}catch(B){Ze(h,r,B)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)rp(r,t),r=r.sibling}function rp(t,r){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(r,t),bn(t),u&4){try{Bo(3,t,t.return),gl(3,t)}catch(ce){Ze(t,t.return,ce)}try{Bo(5,t,t.return)}catch(ce){Ze(t,t.return,ce)}}break;case 1:kn(r,t),bn(t),u&512&&o!==null&&Ss(o,o.return);break;case 5:if(kn(r,t),bn(t),u&512&&o!==null&&Ss(o,o.return),t.flags&32){var h=t.stateNode;try{gr(h,"")}catch(ce){Ze(t,t.return,ce)}}if(u&4&&(h=t.stateNode,h!=null)){var p=t.memoizedProps,v=o!==null?o.memoizedProps:p,I=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{I==="input"&&p.type==="radio"&&p.name!=null&&Ys(h,p),so(I,v);var B=so(I,p);for(v=0;v<P.length;v+=2){var K=P[v],Y=P[v+1];K==="style"?no(h,Y):K==="dangerouslySetInnerHTML"?eo(h,Y):K==="children"?gr(h,Y):oe(h,K,Y,B)}switch(I){case"input":Xs(h,p);break;case"textarea":Bi(h,p);break;case"select":var W=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!p.multiple;var te=p.value;te!=null?Yn(h,!!p.multiple,te,!1):W!==!!p.multiple&&(p.defaultValue!=null?Yn(h,!!p.multiple,p.defaultValue,!0):Yn(h,!!p.multiple,p.multiple?[]:"",!1))}h[ko]=p}catch(ce){Ze(t,t.return,ce)}}break;case 6:if(kn(r,t),bn(t),u&4){if(t.stateNode===null)throw Error(n(162));h=t.stateNode,p=t.memoizedProps;try{h.nodeValue=p}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(kn(r,t),bn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{In(r.containerInfo)}catch(ce){Ze(t,t.return,ce)}break;case 4:kn(r,t),bn(t);break;case 13:kn(r,t),bn(t),h=t.child,h.flags&8192&&(p=h.memoizedState!==null,h.stateNode.isHidden=p,!p||h.alternate!==null&&h.alternate.memoizedState!==null||(Vc=be())),u&4&&np(t);break;case 22:if(K=o!==null&&o.memoizedState!==null,t.mode&1?(Dt=(B=Dt)||K,kn(r,t),Dt=B):kn(r,t),bn(t),u&8192){if(B=t.memoizedState!==null,(t.stateNode.isHidden=B)&&!K&&t.mode&1)for(se=t,K=t.child;K!==null;){for(Y=se=K;se!==null;){switch(W=se,te=W.child,W.tag){case 0:case 11:case 14:case 15:Bo(4,W,W.return);break;case 1:Ss(W,W.return);var ae=W.stateNode;if(typeof ae.componentWillUnmount=="function"){u=W,o=W.return;try{r=u,ae.props=r.memoizedProps,ae.state=r.memoizedState,ae.componentWillUnmount()}catch(ce){Ze(u,o,ce)}}break;case 5:Ss(W,W.return);break;case 22:if(W.memoizedState!==null){op(Y);continue}}te!==null?(te.return=W,se=te):op(Y)}K=K.sibling}e:for(K=null,Y=t;;){if(Y.tag===5){if(K===null){K=Y;try{h=Y.stateNode,B?(p=h.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(I=Y.stateNode,P=Y.memoizedProps.style,v=P!=null&&P.hasOwnProperty("display")?P.display:null,I.style.display=to("display",v))}catch(ce){Ze(t,t.return,ce)}}}else if(Y.tag===6){if(K===null)try{Y.stateNode.nodeValue=B?"":Y.memoizedProps}catch(ce){Ze(t,t.return,ce)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;K===Y&&(K=null),Y=Y.return}K===Y&&(K=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:kn(r,t),bn(t),u&4&&np(t);break;case 21:break;default:kn(r,t),bn(t)}}function bn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(Zd(o)){var u=o;break e}o=o.return}throw Error(n(160))}switch(u.tag){case 5:var h=u.stateNode;u.flags&32&&(gr(h,""),u.flags&=-33);var p=ep(t);Pc(t,p,h);break;case 3:case 4:var v=u.stateNode.containerInfo,I=ep(t);Rc(t,I,v);break;default:throw Error(n(161))}}catch(P){Ze(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function dv(t,r,o){se=t,ip(t)}function ip(t,r,o){for(var u=(t.mode&1)!==0;se!==null;){var h=se,p=h.child;if(h.tag===22&&u){var v=h.memoizedState!==null||ml;if(!v){var I=h.alternate,P=I!==null&&I.memoizedState!==null||Dt;I=ml;var B=Dt;if(ml=v,(Dt=P)&&!B)for(se=h;se!==null;)v=se,P=v.child,v.tag===22&&v.memoizedState!==null?ap(h):P!==null?(P.return=v,se=P):ap(h);for(;p!==null;)se=p,ip(p),p=p.sibling;se=h,ml=I,Dt=B}sp(t)}else h.subtreeFlags&8772&&p!==null?(p.return=h,se=p):sp(t)}}function sp(t){for(;se!==null;){var r=se;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Dt||gl(5,r);break;case 1:var u=r.stateNode;if(r.flags&4&&!Dt)if(o===null)u.componentDidMount();else{var h=r.elementType===r.type?o.memoizedProps:Rn(r.type,o.memoizedProps);u.componentDidUpdate(h,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&od(r,p,u);break;case 3:var v=r.updateQueue;if(v!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}od(r,v,o)}break;case 5:var I=r.stateNode;if(o===null&&r.flags&4){o=I;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var B=r.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var Y=K.dehydrated;Y!==null&&In(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||r.flags&512&&Ac(r)}catch(W){Ze(r,r.return,W)}}if(r===t){se=null;break}if(o=r.sibling,o!==null){o.return=r.return,se=o;break}se=r.return}}function op(t){for(;se!==null;){var r=se;if(r===t){se=null;break}var o=r.sibling;if(o!==null){o.return=r.return,se=o;break}se=r.return}}function ap(t){for(;se!==null;){var r=se;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{gl(4,r)}catch(P){Ze(r,o,P)}break;case 1:var u=r.stateNode;if(typeof u.componentDidMount=="function"){var h=r.return;try{u.componentDidMount()}catch(P){Ze(r,h,P)}}var p=r.return;try{Ac(r)}catch(P){Ze(r,p,P)}break;case 5:var v=r.return;try{Ac(r)}catch(P){Ze(r,v,P)}}}catch(P){Ze(r,r.return,P)}if(r===t){se=null;break}var I=r.sibling;if(I!==null){I.return=r.return,se=I;break}se=r.return}}var pv=Math.ceil,yl=de.ReactCurrentDispatcher,kc=de.ReactCurrentOwner,pn=de.ReactCurrentBatchConfig,De=0,vt=null,ot=null,Ct=0,rn=0,Cs=Pr(0),dt=0,jo=null,Si=0,vl=0,xc=0,bo=null,Wt=null,Vc=0,As=1/0,hr=null,_l=!1,Nc=null,Lr=null,El=!1,Or=null,wl=0,$o=0,Dc=null,Tl=-1,Il=0;function jt(){return De&6?be():Tl!==-1?Tl:Tl=be()}function Mr(t){return t.mode&1?De&2&&Ct!==0?Ct&-Ct:Xy.transition!==null?(Il===0&&(Il=fi()),Il):(t=Ae,t!==0||(t=window.event,t=t===void 0?16:yo(t.type)),t):1}function xn(t,r,o,u){if(50<$o)throw $o=0,Dc=null,Error(n(185));Er(t,o,u),(!(De&2)||t!==vt)&&(t===vt&&(!(De&2)&&(vl|=o),dt===4&&Fr(t,Ct)),Kt(t,u),o===1&&De===0&&!(r.mode&1)&&(As=be()+500,Xa&&xr()))}function Kt(t,r){var o=t.callbackNode;Zn(t,r);var u=hi(t,t===vt?Ct:0);if(u===0)o!==null&&ho(o),t.callbackNode=null,t.callbackPriority=0;else if(r=u&-u,t.callbackPriority!==r){if(o!=null&&ho(o),r===1)t.tag===0?Yy(up.bind(null,t)):Kf(up.bind(null,t)),Qy(function(){!(De&6)&&xr()}),o=null;else{switch(Tr(u)){case 1:o=ui;break;case 4:o=yr;break;case 16:o=an;break;case 536870912:o=Ia;break;default:o=an}o=yp(o,lp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function lp(t,r){if(Tl=-1,Il=0,De&6)throw Error(n(327));var o=t.callbackNode;if(Rs()&&t.callbackNode!==o)return null;var u=hi(t,t===vt?Ct:0);if(u===0)return null;if(u&30||u&t.expiredLanes||r)r=Sl(t,u);else{r=u;var h=De;De|=2;var p=hp();(vt!==t||Ct!==r)&&(hr=null,As=be()+500,Ai(t,r));do try{yv();break}catch(I){cp(t,I)}while(!0);Xu(),yl.current=p,De=h,ot!==null?r=0:(vt=null,Ct=0,r=dt)}if(r!==0){if(r===2&&(h=Jt(t),h!==0&&(u=h,r=Lc(t,h))),r===1)throw o=jo,Ai(t,0),Fr(t,u),Kt(t,be()),o;if(r===6)Fr(t,u);else{if(h=t.current.alternate,!(u&30)&&!mv(h)&&(r=Sl(t,u),r===2&&(p=Jt(t),p!==0&&(u=p,r=Lc(t,p))),r===1))throw o=jo,Ai(t,0),Fr(t,u),Kt(t,be()),o;switch(t.finishedWork=h,t.finishedLanes=u,r){case 0:case 1:throw Error(n(345));case 2:Ri(t,Wt,hr);break;case 3:if(Fr(t,u),(u&130023424)===u&&(r=Vc+500-be(),10<r)){if(hi(t,0)!==0)break;if(h=t.suspendedLanes,(h&u)!==u){jt(),t.pingedLanes|=t.suspendedLanes&h;break}t.timeoutHandle=Bu(Ri.bind(null,t,Wt,hr),r);break}Ri(t,Wt,hr);break;case 4:if(Fr(t,u),(u&4194240)===u)break;for(r=t.eventTimes,h=-1;0<u;){var v=31-Ut(u);p=1<<v,v=r[v],v>h&&(h=v),u&=~p}if(u=h,u=be()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*pv(u/1960))-u,10<u){t.timeoutHandle=Bu(Ri.bind(null,t,Wt,hr),u);break}Ri(t,Wt,hr);break;case 5:Ri(t,Wt,hr);break;default:throw Error(n(329))}}}return Kt(t,be()),t.callbackNode===o?lp.bind(null,t):null}function Lc(t,r){var o=bo;return t.current.memoizedState.isDehydrated&&(Ai(t,r).flags|=256),t=Sl(t,r),t!==2&&(r=Wt,Wt=o,r!==null&&Oc(r)),t}function Oc(t){Wt===null?Wt=t:Wt.push.apply(Wt,t)}function mv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var h=o[u],p=h.getSnapshot;h=h.value;try{if(!Cn(p(),h))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fr(t,r){for(r&=~xc,r&=~vl,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-Ut(r),u=1<<o;t[o]=-1,r&=~u}}function up(t){if(De&6)throw Error(n(327));Rs();var r=hi(t,0);if(!(r&1))return Kt(t,be()),null;var o=Sl(t,r);if(t.tag!==0&&o===2){var u=Jt(t);u!==0&&(r=u,o=Lc(t,u))}if(o===1)throw o=jo,Ai(t,0),Fr(t,r),Kt(t,be()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Ri(t,Wt,hr),Kt(t,be()),null}function Mc(t,r){var o=De;De|=1;try{return t(r)}finally{De=o,De===0&&(As=be()+500,Xa&&xr())}}function Ci(t){Or!==null&&Or.tag===0&&!(De&6)&&Rs();var r=De;De|=1;var o=pn.transition,u=Ae;try{if(pn.transition=null,Ae=1,t)return t()}finally{Ae=u,pn.transition=o,De=r,!(De&6)&&xr()}}function Fc(){rn=Cs.current,He(Cs)}function Ai(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,Hy(o)),ot!==null)for(o=ot.return;o!==null;){var u=o;switch(Qu(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&Ga();break;case 3:Ts(),He(qt),He(xt),sc();break;case 5:rc(u);break;case 4:Ts();break;case 13:He(Ge);break;case 19:He(Ge);break;case 10:Ju(u.type._context);break;case 22:case 23:Fc()}o=o.return}if(vt=t,ot=t=Ur(t.current,null),Ct=rn=r,dt=0,jo=null,xc=vl=Si=0,Wt=bo=null,wi!==null){for(r=0;r<wi.length;r++)if(o=wi[r],u=o.interleaved,u!==null){o.interleaved=null;var h=u.next,p=o.pending;if(p!==null){var v=p.next;p.next=h,u.next=v}o.pending=u}wi=null}return t}function cp(t,r){do{var o=ot;try{if(Xu(),al.current=hl,ll){for(var u=Ye.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}ll=!1}if(Ii=0,yt=ft=Ye=null,Oo=!1,Mo=0,kc.current=null,o===null||o.return===null){dt=1,jo=r,ot=null;break}e:{var p=t,v=o.return,I=o,P=r;if(r=Ct,I.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var B=P,K=I,Y=K.tag;if(!(K.mode&1)&&(Y===0||Y===11||Y===15)){var W=K.alternate;W?(K.updateQueue=W.updateQueue,K.memoizedState=W.memoizedState,K.lanes=W.lanes):(K.updateQueue=null,K.memoizedState=null)}var te=Od(v);if(te!==null){te.flags&=-257,Md(te,v,I,p,r),te.mode&1&&Ld(p,B,r),r=te,P=B;var ae=r.updateQueue;if(ae===null){var ce=new Set;ce.add(P),r.updateQueue=ce}else ae.add(P);break e}else{if(!(r&1)){Ld(p,B,r),Uc();break e}P=Error(n(426))}}else if(Ke&&I.mode&1){var nt=Od(v);if(nt!==null){!(nt.flags&65536)&&(nt.flags|=256),Md(nt,v,I,p,r),Gu(Is(P,I));break e}}p=P=Is(P,I),dt!==4&&(dt=2),bo===null?bo=[p]:bo.push(p),p=v;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var M=Nd(p,P,r);sd(p,M);break e;case 1:I=P;var V=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Lr===null||!Lr.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var J=Dd(p,I,r);sd(p,J);break e}}p=p.return}while(p!==null)}dp(o)}catch(he){r=he,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function hp(){var t=yl.current;return yl.current=hl,t===null?hl:t}function Uc(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(Si&268435455)&&!(vl&268435455)||Fr(vt,Ct)}function Sl(t,r){var o=De;De|=2;var u=hp();(vt!==t||Ct!==r)&&(hr=null,Ai(t,r));do try{gv();break}catch(h){cp(t,h)}while(!0);if(Xu(),De=o,yl.current=u,ot!==null)throw Error(n(261));return vt=null,Ct=0,dt}function gv(){for(;ot!==null;)fp(ot)}function yv(){for(;ot!==null&&!wa();)fp(ot)}function fp(t){var r=gp(t.alternate,t,rn);t.memoizedProps=t.pendingProps,r===null?dp(t):ot=r,kc.current=null}function dp(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=cv(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(o=uv(o,r,rn),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);dt===0&&(dt=5)}function Ri(t,r,o){var u=Ae,h=pn.transition;try{pn.transition=null,Ae=1,vv(t,r,o,u)}finally{pn.transition=h,Ae=u}return null}function vv(t,r,o,u){do Rs();while(Or!==null);if(De&6)throw Error(n(327));o=t.finishedWork;var h=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(Be(t,p),t===vt&&(ot=vt=null,Ct=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||El||(El=!0,yp(an,function(){return Rs(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=pn.transition,pn.transition=null;var v=Ae;Ae=1;var I=De;De|=4,kc.current=null,fv(t,o),rp(o,t),Uy(Uu),Sr=!!Fu,Uu=Fu=null,t.current=o,dv(o),wu(),De=I,Ae=v,pn.transition=p}else t.current=o;if(El&&(El=!1,Or=t,wl=h),p=t.pendingLanes,p===0&&(Lr=null),Sa(o.stateNode),Kt(t,be()),r!==null)for(u=t.onRecoverableError,o=0;o<r.length;o++)h=r[o],u(h.value,{componentStack:h.stack,digest:h.digest});if(_l)throw _l=!1,t=Nc,Nc=null,t;return wl&1&&t.tag!==0&&Rs(),p=t.pendingLanes,p&1?t===Dc?$o++:($o=0,Dc=t):$o=0,xr(),null}function Rs(){if(Or!==null){var t=Tr(wl),r=pn.transition,o=Ae;try{if(pn.transition=null,Ae=16>t?16:t,Or===null)var u=!1;else{if(t=Or,Or=null,wl=0,De&6)throw Error(n(331));var h=De;for(De|=4,se=t.current;se!==null;){var p=se,v=p.child;if(se.flags&16){var I=p.deletions;if(I!==null){for(var P=0;P<I.length;P++){var B=I[P];for(se=B;se!==null;){var K=se;switch(K.tag){case 0:case 11:case 15:Bo(8,K,p)}var Y=K.child;if(Y!==null)Y.return=K,se=Y;else for(;se!==null;){K=se;var W=K.sibling,te=K.return;if(Jd(K),K===B){se=null;break}if(W!==null){W.return=te,se=W;break}se=te}}}var ae=p.alternate;if(ae!==null){var ce=ae.child;if(ce!==null){ae.child=null;do{var nt=ce.sibling;ce.sibling=null,ce=nt}while(ce!==null)}}se=p}}if(p.subtreeFlags&2064&&v!==null)v.return=p,se=v;else e:for(;se!==null;){if(p=se,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Bo(9,p,p.return)}var M=p.sibling;if(M!==null){M.return=p.return,se=M;break e}se=p.return}}var V=t.current;for(se=V;se!==null;){v=se;var U=v.child;if(v.subtreeFlags&2064&&U!==null)U.return=v,se=U;else e:for(v=V;se!==null;){if(I=se,I.flags&2048)try{switch(I.tag){case 0:case 11:case 15:gl(9,I)}}catch(he){Ze(I,I.return,he)}if(I===v){se=null;break e}var J=I.sibling;if(J!==null){J.return=I.return,se=J;break e}se=I.return}}if(De=h,xr(),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ci,t)}catch{}u=!0}return u}finally{Ae=o,pn.transition=r}}return!1}function pp(t,r,o){r=Is(o,r),r=Nd(t,r,1),t=Nr(t,r,1),r=jt(),t!==null&&(Er(t,1,r),Kt(t,r))}function Ze(t,r,o){if(t.tag===3)pp(t,t,o);else for(;r!==null;){if(r.tag===3){pp(r,t,o);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Lr===null||!Lr.has(u))){t=Is(o,t),t=Dd(r,t,1),r=Nr(r,t,1),t=jt(),r!==null&&(Er(r,1,t),Kt(r,t));break}}r=r.return}}function _v(t,r,o){var u=t.pingCache;u!==null&&u.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,vt===t&&(Ct&o)===o&&(dt===4||dt===3&&(Ct&130023424)===Ct&&500>be()-Vc?Ai(t,0):xc|=o),Kt(t,r)}function mp(t,r){r===0&&(t.mode&1?(r=Yi,Yi<<=1,!(Yi&130023424)&&(Yi=4194304)):r=1);var o=jt();t=lr(t,r),t!==null&&(Er(t,r,o),Kt(t,o))}function Ev(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),mp(t,o)}function wv(t,r){var o=0;switch(t.tag){case 13:var u=t.stateNode,h=t.memoizedState;h!==null&&(o=h.retryLane);break;case 19:u=t.stateNode;break;default:throw Error(n(314))}u!==null&&u.delete(r),mp(t,o)}var gp;gp=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Qt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Qt=!1,lv(t,r,o);Qt=!!(t.flags&131072)}else Qt=!1,Ke&&r.flags&1048576&&Gf(r,Za,r.index);switch(r.lanes=0,r.tag){case 2:var u=r.type;pl(t,r),t=r.pendingProps;var h=ms(r,xt.current);ws(r,o),h=lc(null,r,u,t,h,o);var p=uc();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(u)?(p=!0,Ya(r)):p=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,tc(r),h.updater=fl,r.stateNode=h,h._reactInternals=r,mc(r,u,t,o),r=_c(null,r,u,!0,p,o)):(r.tag=0,Ke&&p&&Hu(r),Bt(null,r,h,o),r=r.child),r;case 16:u=r.elementType;e:{switch(pl(t,r),t=r.pendingProps,h=u._init,u=h(u._payload),r.type=u,h=r.tag=Iv(u),t=Rn(u,t),h){case 0:r=vc(null,r,u,t,o);break e;case 1:r=bd(null,r,u,t,o);break e;case 11:r=Fd(null,r,u,t,o);break e;case 14:r=Ud(null,r,u,Rn(u.type,t),o);break e}throw Error(n(306,u,""))}return r;case 0:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),vc(t,r,u,h,o);case 1:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),bd(t,r,u,h,o);case 3:e:{if($d(r),t===null)throw Error(n(387));u=r.pendingProps,p=r.memoizedState,h=p.element,id(t,r),sl(r,u,null,o);var v=r.memoizedState;if(u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){h=Is(Error(n(423)),r),r=qd(t,r,u,o,h);break e}else if(u!==h){h=Is(Error(n(424)),r),r=qd(t,r,u,o,h);break e}else for(nn=Rr(r.stateNode.containerInfo.firstChild),tn=r,Ke=!0,An=null,o=nd(r,null,u,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(vs(),u===h){r=cr(t,r,o);break e}Bt(t,r,u,o)}r=r.child}return r;case 5:return ad(r),t===null&&Ku(r),u=r.type,h=r.pendingProps,p=t!==null?t.memoizedProps:null,v=h.children,zu(u,h)?v=null:p!==null&&zu(u,p)&&(r.flags|=32),jd(t,r),Bt(t,r,v,o),r.child;case 6:return t===null&&Ku(r),null;case 13:return Hd(t,r,o);case 4:return nc(r,r.stateNode.containerInfo),u=r.pendingProps,t===null?r.child=_s(r,null,u,o):Bt(t,r,u,o),r.child;case 11:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),Fd(t,r,u,h,o);case 7:return Bt(t,r,r.pendingProps,o),r.child;case 8:return Bt(t,r,r.pendingProps.children,o),r.child;case 12:return Bt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(u=r.type._context,h=r.pendingProps,p=r.memoizedProps,v=h.value,$e(nl,u._currentValue),u._currentValue=v,p!==null)if(Cn(p.value,v)){if(p.children===h.children&&!qt.current){r=cr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var I=p.dependencies;if(I!==null){v=p.child;for(var P=I.firstContext;P!==null;){if(P.context===u){if(p.tag===1){P=ur(-1,o&-o),P.tag=2;var B=p.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?P.next=P:(P.next=K.next,K.next=P),B.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),Zu(p.return,o,r),I.lanes|=o;break}P=P.next}}else if(p.tag===10)v=p.type===r.type?null:p.child;else if(p.tag===18){if(v=p.return,v===null)throw Error(n(341));v.lanes|=o,I=v.alternate,I!==null&&(I.lanes|=o),Zu(v,o,r),v=p.sibling}else v=p.child;if(v!==null)v.return=p;else for(v=p;v!==null;){if(v===r){v=null;break}if(p=v.sibling,p!==null){p.return=v.return,v=p;break}v=v.return}p=v}Bt(t,r,h.children,o),r=r.child}return r;case 9:return h=r.type,u=r.pendingProps.children,ws(r,o),h=fn(h),u=u(h),r.flags|=1,Bt(t,r,u,o),r.child;case 14:return u=r.type,h=Rn(u,r.pendingProps),h=Rn(u.type,h),Ud(t,r,u,h,o);case 15:return zd(t,r,r.type,r.pendingProps,o);case 17:return u=r.type,h=r.pendingProps,h=r.elementType===u?h:Rn(u,h),pl(t,r),r.tag=1,Ht(u)?(t=!0,Ya(r)):t=!1,ws(r,o),xd(r,u,h),mc(r,u,h,o),_c(null,r,u,!0,t,o);case 19:return Wd(t,r,o);case 22:return Bd(t,r,o)}throw Error(n(156,r.tag))};function yp(t,r){return Ki(t,r)}function Tv(t,r,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(t,r,o,u){return new Tv(t,r,o,u)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Iv(t){if(typeof t=="function")return zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===L)return 11;if(t===Pt)return 14}return 2}function Ur(t,r){var o=t.alternate;return o===null?(o=mn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Cl(t,r,o,u,h,p){var v=2;if(u=t,typeof t=="function")zc(t)&&(v=1);else if(typeof t=="string")v=5;else e:switch(t){case x:return Pi(o.children,h,p,r);case T:v=8,h|=8;break;case S:return t=mn(12,o,r,h|2),t.elementType=S,t.lanes=p,t;case C:return t=mn(13,o,r,h),t.elementType=C,t.lanes=p,t;case et:return t=mn(19,o,r,h),t.elementType=et,t.lanes=p,t;case ze:return Al(o,h,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k:v=10;break e;case N:v=9;break e;case L:v=11;break e;case Pt:v=14;break e;case kt:v=16,u=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=mn(v,o,r,h),r.elementType=t,r.type=u,r.lanes=p,r}function Pi(t,r,o,u){return t=mn(7,t,u,r),t.lanes=o,t}function Al(t,r,o,u){return t=mn(22,t,u,r),t.elementType=ze,t.lanes=o,t.stateNode={isHidden:!1},t}function Bc(t,r,o){return t=mn(6,t,null,r),t.lanes=o,t}function jc(t,r,o){return r=mn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Sv(t,r,o,u,h){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_r(0),this.expirationTimes=_r(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_r(0),this.identifierPrefix=u,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function bc(t,r,o,u,h,p,v,I,P){return t=new Sv(t,r,o,I,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=mn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},tc(p),t}function Cv(t,r,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:we,key:u==null?null:""+u,children:t,containerInfo:r,implementation:o}}function vp(t){if(!t)return kr;t=t._reactInternals;e:{if(vn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return Qf(t,o,r)}return r}function _p(t,r,o,u,h,p,v,I,P){return t=bc(o,u,!0,t,h,p,v,I,P),t.context=vp(null),o=t.current,u=jt(),h=Mr(o),p=ur(u,h),p.callback=r??null,Nr(o,p,h),t.current.lanes=h,Er(t,h,u),Kt(t,u),t}function Rl(t,r,o,u){var h=r.current,p=jt(),v=Mr(h);return o=vp(o),r.context===null?r.context=o:r.pendingContext=o,r=ur(p,v),r.payload={element:t},u=u===void 0?null:u,u!==null&&(r.callback=u),t=Nr(h,r,v),t!==null&&(xn(t,h,v,p),il(t,h,v)),v}function Pl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ep(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function $c(t,r){Ep(t,r),(t=t.alternate)&&Ep(t,r)}function Av(){return null}var wp=typeof reportError=="function"?reportError:function(t){console.error(t)};function qc(t){this._internalRoot=t}kl.prototype.render=qc.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Rl(t,r,null,null)},kl.prototype.unmount=qc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Ci(function(){Rl(null,t,null,null)}),r[ir]=null}};function kl(t){this._internalRoot=t}kl.prototype.unstable_scheduleHydration=function(t){if(t){var r=ka();t={blockedOn:null,target:t,priority:r};for(var o=0;o<On.length&&r!==0&&r<On[o].priority;o++);On.splice(o,0,t),o===0&&Na(t)}};function Hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function xl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Tp(){}function Rv(t,r,o,u,h){if(h){if(typeof u=="function"){var p=u;u=function(){var B=Pl(v);p.call(B)}}var v=_p(r,u,t,0,null,!1,!1,"",Tp);return t._reactRootContainer=v,t[ir]=v.current,Ro(t.nodeType===8?t.parentNode:t),Ci(),v}for(;h=t.lastChild;)t.removeChild(h);if(typeof u=="function"){var I=u;u=function(){var B=Pl(P);I.call(B)}}var P=bc(t,0,!1,null,null,!1,!1,"",Tp);return t._reactRootContainer=P,t[ir]=P.current,Ro(t.nodeType===8?t.parentNode:t),Ci(function(){Rl(r,P,o,u)}),P}function Vl(t,r,o,u,h){var p=o._reactRootContainer;if(p){var v=p;if(typeof h=="function"){var I=h;h=function(){var P=Pl(v);I.call(P)}}Rl(r,v,t,h)}else v=Rv(o,r,t,h,u);return Pl(v)}Ra=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=vr(r.pendingLanes);o!==0&&(wr(r,o|1),Kt(r,be()),!(De&6)&&(As=be()+500,xr()))}break;case 13:Ci(function(){var u=lr(t,1);if(u!==null){var h=jt();xn(u,t,1,h)}}),$c(t,1)}},Xi=function(t){if(t.tag===13){var r=lr(t,134217728);if(r!==null){var o=jt();xn(r,t,134217728,o)}$c(t,134217728)}},Pa=function(t){if(t.tag===13){var r=Mr(t),o=lr(t,r);if(o!==null){var u=jt();xn(o,t,r,u)}$c(t,r)}},ka=function(){return Ae},xa=function(t,r){var o=Ae;try{return Ae=t,r()}finally{Ae=o}},bi=function(t,r,o){switch(r){case"input":if(Xs(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var u=o[r];if(u!==t&&u.form===t.form){var h=Ka(u);if(!h)throw Error(n(90));Mi(u),Xs(u,h)}}}break;case"textarea":Bi(t,o);break;case"select":r=o.value,r!=null&&Yn(t,!!o.multiple,r,!1)}},si=Mc,ao=Ci;var Pv={usingClientEntryPoint:!1,Events:[xo,ds,Ka,Dn,oo,Mc]},qo={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kv={bundleType:qo.bundleType,version:qo.version,rendererPackageName:qo.rendererPackageName,rendererConfig:qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:de.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=co(t),t===null?null:t.stateNode},findFiberByHostInstance:qo.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nl.isDisabled&&Nl.supportsFiber)try{ci=Nl.inject(kv),Xt=Nl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pv,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(r))throw Error(n(200));return Cv(t,r,null,o)},Gt.createRoot=function(t,r){if(!Hc(t))throw Error(n(299));var o=!1,u="",h=wp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=bc(t,1,!1,null,null,o,!1,u,h),t[ir]=r.current,Ro(t.nodeType===8?t.parentNode:t),new qc(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=co(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Ci(t)},Gt.hydrate=function(t,r,o){if(!xl(r))throw Error(n(200));return Vl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!Hc(t))throw Error(n(405));var u=o!=null&&o.hydratedSources||null,h=!1,p="",v=wp;if(o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(v=o.onRecoverableError)),r=_p(r,null,t,1,o??null,h,!1,p,v),t[ir]=r.current,Ro(t),u)for(t=0;t<u.length;t++)o=u[t],h=o._getVersion,h=h(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,h]:r.mutableSourceEagerHydrationData.push(o,h);return new kl(r)},Gt.render=function(t,r,o){if(!xl(r))throw Error(n(200));return Vl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!xl(t))throw Error(n(40));return t._reactRootContainer?(Ci(function(){Vl(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1},Gt.unstable_batchedUpdates=Mc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,u){if(!xl(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Vl(t,r,o,!1,u)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var xp;function Fv(){if(xp)return Kc.exports;xp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Kc.exports=Mv(),Kc.exports}var Vp;function Uv(){if(Vp)return Dl;Vp=1;var i=Fv();return Dl.createRoot=i.createRoot,Dl.hydrateRoot=i.hydrateRoot,Dl}var zv=Uv(),Qo={},Np;function Bv(){if(Np)return Qo;Np=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.parse=f,Qo.serialize=_;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,c=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,F){const j=new c,q=R.length;if(q<2)return j;const z=(F==null?void 0:F.decode)||w;let G=0;do{const ne=R.indexOf("=",G);if(ne===-1)break;const oe=R.indexOf(";",G),de=oe===-1?q:oe;if(ne>de){G=R.lastIndexOf(";",ne-1)+1;continue}const Ce=m(R,G,ne),we=g(R,ne,Ce),x=R.slice(Ce,we);if(j[x]===void 0){let T=m(R,ne+1,de),S=g(R,de,T);const k=z(R.slice(T,S));j[x]=k}G=de+1}while(G<q);return j}function m(R,F,j){do{const q=R.charCodeAt(F);if(q!==32&&q!==9)return F}while(++F<j);return j}function g(R,F,j){for(;F>j;){const q=R.charCodeAt(--F);if(q!==32&&q!==9)return F+1}return j}function _(R,F,j){const q=(j==null?void 0:j.encode)||encodeURIComponent;if(!i.test(R))throw new TypeError(`argument name is invalid: ${R}`);const z=q(F);if(!e.test(z))throw new TypeError(`argument val is invalid: ${F}`);let G=R+"="+z;if(!j)return G;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);G+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);G+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);G+="; Path="+j.path}if(j.expires){if(!A(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);G+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(G+="; HttpOnly"),j.secure&&(G+="; Secure"),j.partitioned&&(G+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return G}function w(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return a.call(R)==="[object Date]"}return Qo}Bv();/**
 * react-router v7.0.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Dp="popstate";function jv(i={}){function e(s,a){let{pathname:c,search:f,hash:m}=s.location;return lh("",{pathname:c,search:f,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:na(a)}return $v(e,n,null,i)}function Xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function ei(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bv(){return Math.random().toString(36).substring(2,10)}function Lp(i,e){return{usr:i.state,key:i.key,idx:e}}function lh(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?bs(e):e,state:n,key:e&&e.key||s||bv()}}function na({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function bs(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function $v(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:c=!1}=s,f=a.history,m="POP",g=null,_=w();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function w(){return(f.state||{idx:null}).idx}function A(){m="POP";let z=w(),G=z==null?null:z-_;_=z,g&&g({action:m,location:q.location,delta:G})}function R(z,G){m="PUSH";let ne=lh(q.location,z,G);_=w()+1;let oe=Lp(ne,_),de=q.createHref(ne);try{f.pushState(oe,"",de)}catch(Ce){if(Ce instanceof DOMException&&Ce.name==="DataCloneError")throw Ce;a.location.assign(de)}c&&g&&g({action:m,location:q.location,delta:1})}function F(z,G){m="REPLACE";let ne=lh(q.location,z,G);_=w();let oe=Lp(ne,_),de=q.createHref(ne);f.replaceState(oe,"",de),c&&g&&g({action:m,location:q.location,delta:0})}function j(z){let G=a.location.origin!=="null"?a.location.origin:a.location.href,ne=typeof z=="string"?z:na(z);return ne=ne.replace(/ $/,"%20"),Xe(G,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,G)}let q={get action(){return m},get location(){return i(a,f)},listen(z){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Dp,A),g=z,()=>{a.removeEventListener(Dp,A),g=null}},createHref(z){return e(a,z)},createURL:j,encodeLocation(z){let G=j(z);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:F,go(z){return f.go(z)}};return q}function Bm(i,e,n="/"){return qv(i,e,n,!1)}function qv(i,e,n,s){let a=typeof e=="string"?bs(e):e,c=Kr(a.pathname||"/",n);if(c==null)return null;let f=jm(i);Hv(f);let m=null;for(let g=0;m==null&&g<f.length;++g){let _=n_(c);m=e_(f[g],_,s)}return m}function jm(i,e=[],n=[],s=""){let a=(c,f,m)=>{let g={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:f,route:c};g.relativePath.startsWith("/")&&(Xe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let _=fr([s,g.relativePath]),w=n.concat(g);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),jm(c.children,e,w,_)),!(c.path==null&&!c.index)&&e.push({path:_,score:Jv(_,c.index),routesMeta:w})};return i.forEach((c,f)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))a(c,f);else for(let g of bm(c.path))a(c,f,g)}),e}function bm(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),c=n.replace(/\?$/,"");if(s.length===0)return a?[c,""]:[c];let f=bm(s.join("/")),m=[];return m.push(...f.map(g=>g===""?c:[c,g].join("/"))),a&&m.push(...f),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function Hv(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:Zv(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Qv=/^:[\w-]+$/,Wv=3,Kv=2,Gv=1,Yv=10,Xv=-2,Op=i=>i==="*";function Jv(i,e){let n=i.split("/"),s=n.length;return n.some(Op)&&(s+=Xv),e&&(s+=Kv),n.filter(a=>!Op(a)).reduce((a,c)=>a+(Qv.test(c)?Wv:c===""?Gv:Yv),s)}function Zv(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function e_(i,e,n=!1){let{routesMeta:s}=i,a={},c="/",f=[];for(let m=0;m<s.length;++m){let g=s[m],_=m===s.length-1,w=c==="/"?e:e.slice(c.length)||"/",A=Wl({path:g.relativePath,caseSensitive:g.caseSensitive,end:_},w),R=g.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=Wl({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!A)return null;Object.assign(a,A.params),f.push({params:a,pathname:fr([c,A.pathname]),pathnameBase:o_(fr([c,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(c=fr([c,A.pathnameBase]))}return f}function Wl(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=t_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let c=a[0],f=c.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((_,{paramName:w,isOptional:A},R)=>{if(w==="*"){let j=m[R]||"";f=c.slice(0,c.length-j.length).replace(/(.)\/+$/,"$1")}const F=m[R];return A&&!F?_[w]=void 0:_[w]=(F||"").replace(/%2F/g,"/"),_},{}),pathname:c,pathnameBase:f,pattern:i}}function t_(i,e=!1,n=!0){ei(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function n_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ei(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Kr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function r_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?bs(i):i;return{pathname:n?n.startsWith("/")?n:i_(n,e):e,search:a_(s),hash:l_(a)}}function i_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Xc(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function s_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $m(i){let e=s_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function qm(i,e,n,s=!1){let a;typeof i=="string"?a=bs(i):(a={...i},Xe(!a.pathname||!a.pathname.includes("?"),Xc("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),Xc("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),Xc("#","search","hash",a)));let c=i===""||a.pathname==="",f=c?"/":a.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;a.pathname=R.join("/")}m=A>=0?e[A]:"/"}let g=r_(a,m),_=f&&f!=="/"&&f.endsWith("/"),w=(c||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(_||w)&&(g.pathname+="/"),g}var fr=i=>i.join("/").replace(/\/\/+/g,"/"),o_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),a_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,l_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function u_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var Hm=["POST","PUT","PATCH","DELETE"];new Set(Hm);var c_=["GET",...Hm];new Set(c_);var $s=$.createContext(null);$s.displayName="DataRouter";var iu=$.createContext(null);iu.displayName="DataRouterState";var Qm=$.createContext({isTransitioning:!1});Qm.displayName="ViewTransition";var h_=$.createContext(new Map);h_.displayName="Fetchers";var f_=$.createContext(null);f_.displayName="Await";var Qn=$.createContext(null);Qn.displayName="Navigation";var ha=$.createContext(null);ha.displayName="Location";var Wn=$.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var Oh=$.createContext(null);Oh.displayName="RouteError";function d_(i,{relative:e}={}){Xe(fa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=$.useContext(Qn),{hash:a,pathname:c,search:f}=da(i,{relative:e}),m=c;return n!=="/"&&(m=c==="/"?n:fr([n,c])),s.createHref({pathname:m,search:f,hash:a})}function fa(){return $.useContext(ha)!=null}function Li(){return Xe(fa(),"useLocation() may be used only in the context of a <Router> component."),$.useContext(ha).location}var Wm="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Km(i){$.useContext(Qn).static||$.useLayoutEffect(i)}function p_(){let{isDataRoute:i}=$.useContext(Wn);return i?R_():m_()}function m_(){Xe(fa(),"useNavigate() may be used only in the context of a <Router> component.");let i=$.useContext($s),{basename:e,navigator:n}=$.useContext(Qn),{matches:s}=$.useContext(Wn),{pathname:a}=Li(),c=JSON.stringify($m(s)),f=$.useRef(!1);return Km(()=>{f.current=!0}),$.useCallback((g,_={})=>{if(ei(f.current,Wm),!f.current)return;if(typeof g=="number"){n.go(g);return}let w=qm(g,JSON.parse(c),a,_.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:fr([e,w.pathname])),(_.replace?n.replace:n.push)(w,_.state,_)},[e,n,c,a,i])}$.createContext(null);function Gm(){let{matches:i}=$.useContext(Wn),e=i[i.length-1];return e?e.params:{}}function da(i,{relative:e}={}){let{matches:n}=$.useContext(Wn),{pathname:s}=Li(),a=JSON.stringify($m(n));return $.useMemo(()=>qm(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function g_(i,e){return Ym(i,e)}function Ym(i,e,n,s){var q;Xe(fa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=$.useContext(Qn),{matches:c}=$.useContext(Wn),f=c[c.length-1],m=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let _=Li(),w;if(e){let z=typeof e=="string"?bs(e):e;Xe(g==="/"||((q=z.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${z.pathname}" was given in the \`location\` prop.`),w=z}else w=_;let A=w.pathname||"/",R=A;if(g!=="/"){let z=g.replace(/^\//,"").split("/");R="/"+A.replace(/^\//,"").split("/").slice(z.length).join("/")}let F=Bm(i,{pathname:R}),j=w_(F&&F.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:fr([g,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?g:fr([g,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),c,n,s);return e&&j?$.createElement(ha.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},j):j}function y_(){let i=A_(),e=u_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:a},n):null,null)}var v_=$.createElement(y_,null),__=class extends $.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?$.createElement(Wn.Provider,{value:this.props.routeContext},$.createElement(Oh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E_({routeContext:i,match:e,children:n}){let s=$.useContext($s);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),$.createElement(Wn.Provider,{value:i},n)}function w_(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,c=n==null?void 0:n.errors;if(c!=null){let g=a.findIndex(_=>_.route.id&&(c==null?void 0:c[_.route.id])!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let f=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=g),_.route.id){let{loaderData:w,errors:A}=n,R=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,_,w)=>{let A,R=!1,F=null,j=null;n&&(A=c&&_.route.id?c[_.route.id]:void 0,F=_.route.errorElement||v_,f&&(m<0&&w===0?(P_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===w&&(R=!0,j=_.route.hydrateFallbackElement||null)));let q=e.concat(a.slice(0,w+1)),z=()=>{let G;return A?G=F:R?G=j:_.route.Component?G=$.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=g,$.createElement(E_,{match:_,routeContext:{outlet:g,matches:q,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?$.createElement(__,{location:n.location,revalidation:n.revalidation,component:F,error:A,children:z(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):z()},null)}function Mh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T_(i){let e=$.useContext($s);return Xe(e,Mh(i)),e}function I_(i){let e=$.useContext(iu);return Xe(e,Mh(i)),e}function S_(i){let e=$.useContext(Wn);return Xe(e,Mh(i)),e}function Fh(i){let e=S_(i),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function C_(){return Fh("useRouteId")}function A_(){var s;let i=$.useContext(Oh),e=I_("useRouteError"),n=Fh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function R_(){let{router:i}=T_("useNavigate"),e=Fh("useNavigate"),n=$.useRef(!1);return Km(()=>{n.current=!0}),$.useCallback(async(a,c={})=>{ei(n.current,Wm),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...c}))},[i,e])}var Mp={};function P_(i,e,n){Mp[i]||(Mp[i]=!0,ei(!1,n))}$.memo(k_);function k_({routes:i,future:e,state:n}){return Ym(i,void 0,n,e)}function Br(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function x_({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:c=!1}){Xe(!fa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=i.replace(/^\/*/,"/"),m=$.useMemo(()=>({basename:f,navigator:a,static:c,future:{}}),[f,a,c]);typeof n=="string"&&(n=bs(n));let{pathname:g="/",search:_="",hash:w="",state:A=null,key:R="default"}=n,F=$.useMemo(()=>{let j=Kr(g,f);return j==null?null:{location:{pathname:j,search:_,hash:w,state:A,key:R},navigationType:s}},[f,g,_,w,A,R,s]);return ei(F!=null,`<Router basename="${f}"> is not able to match the URL "${g}${_}${w}" because it does not start with the basename, so the <Router> won't render anything.`),F==null?null:$.createElement(Qn.Provider,{value:m},$.createElement(ha.Provider,{children:e,value:F}))}function V_({children:i,location:e}){return g_(uh(i),e)}function uh(i,e=[]){let n=[];return $.Children.forEach(i,(s,a)=>{if(!$.isValidElement(s))return;let c=[...e,a];if(s.type===$.Fragment){n.push.apply(n,uh(s.props.children,c));return}Xe(s.type===Br,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||c.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=uh(s.props.children,c)),n.push(f)}),n}var Bl="get",jl="application/x-www-form-urlencoded";function su(i){return i!=null&&typeof i.tagName=="string"}function N_(i){return su(i)&&i.tagName.toLowerCase()==="button"}function D_(i){return su(i)&&i.tagName.toLowerCase()==="form"}function L_(i){return su(i)&&i.tagName.toLowerCase()==="input"}function O_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function M_(i,e){return i.button===0&&(!e||e==="_self")&&!O_(i)}var Ll=null;function F_(){if(Ll===null)try{new FormData(document.createElement("form"),0),Ll=!1}catch{Ll=!0}return Ll}var U_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jc(i){return i!=null&&!U_.has(i)?(ei(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${jl}"`),null):i}function z_(i,e){let n,s,a,c,f;if(D_(i)){let m=i.getAttribute("action");s=m?Kr(m,e):null,n=i.getAttribute("method")||Bl,a=Jc(i.getAttribute("enctype"))||jl,c=new FormData(i)}else if(N_(i)||L_(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Kr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Bl,a=Jc(i.getAttribute("formenctype"))||Jc(m.getAttribute("enctype"))||jl,c=new FormData(m,i),!F_()){let{name:_,type:w,value:A}=i;if(w==="image"){let R=_?`${_}.`:"";c.append(`${R}x`,"0"),c.append(`${R}y`,"0")}else _&&c.append(_,A)}}else{if(su(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bl,s=null,a=jl,f=i}return c&&a==="text/plain"&&(f=c,c=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:c,body:f}}function Uh(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function B_(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function j_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function b_(i,e,n){let s=await Promise.all(i.map(async a=>{let c=e.routes[a.route.id];if(c){let f=await B_(c,n);return f.links?f.links():[]}return[]}));return Q_(s.flat(1).filter(j_).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Fp(i,e,n,s,a,c){let f=(g,_)=>n[_]?g.route.id!==n[_].route.id:!0,m=(g,_)=>{var w;return n[_].pathname!==g.pathname||((w=n[_].route.path)==null?void 0:w.endsWith("*"))&&n[_].params["*"]!==g.params["*"]};return c==="assets"?e.filter((g,_)=>f(g,_)||m(g,_)):c==="data"?e.filter((g,_)=>{var A;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(f(g,_)||m(g,_))return!0;if(g.route.shouldRevalidate){let R=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function $_(i,e){return q_(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function q_(i){return[...new Set(i)]}function H_(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function Q_(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let c=JSON.stringify(H_(a));return n.has(c)||(n.add(c),s.push({key:c,link:a})),s},[])}function W_(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function K_(){let i=$.useContext($s);return Uh(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function G_(){let i=$.useContext(iu);return Uh(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var zh=$.createContext(void 0);zh.displayName="FrameworkContext";function Xm(){let i=$.useContext(zh);return Uh(i,"You must render this element inside a <HydratedRouter> element"),i}function Y_(i,e){let n=$.useContext(zh),[s,a]=$.useState(!1),[c,f]=$.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:_,onMouseLeave:w,onTouchStart:A}=e,R=$.useRef(null);$.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let q=G=>{G.forEach(ne=>{f(ne.isIntersecting)})},z=new IntersectionObserver(q,{threshold:.5});return R.current&&z.observe(R.current),()=>{z.disconnect()}}},[i]),$.useEffect(()=>{if(s){let q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(q)}}},[s]);let F=()=>{a(!0)},j=()=>{a(!1),f(!1)};return n?i!=="intent"?[c,R,{}]:[c,R,{onFocus:Wo(m,F),onBlur:Wo(g,j),onMouseEnter:Wo(_,F),onMouseLeave:Wo(w,j),onTouchStart:Wo(A,F)}]:[!1,R,{}]}function Wo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function X_({page:i,...e}){let{router:n}=K_(),s=$.useMemo(()=>Bm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?$.createElement(Z_,{page:i,matches:s,...e}):(console.warn(`Tried to prefetch ${i} but no routes matched.`),null)}function J_(i){let{manifest:e,routeModules:n}=Xm(),[s,a]=$.useState([]);return $.useEffect(()=>{let c=!1;return b_(i,e,n).then(f=>{c||a(f)}),()=>{c=!0}},[i,e,n]),s}function Z_({page:i,matches:e,...n}){let s=Li(),{manifest:a,routeModules:c}=Xm(),{loaderData:f,matches:m}=G_(),g=$.useMemo(()=>Fp(i,e,m,a,s,"data"),[i,e,m,a,s]),_=$.useMemo(()=>Fp(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=$.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let F=new Set,j=!1;if(e.forEach(z=>{var ne;let G=a.routes[z.route.id];!G||!G.hasLoader||(!g.some(oe=>oe.route.id===z.route.id)&&z.route.id in f&&((ne=c[z.route.id])!=null&&ne.shouldRevalidate)||G.hasClientLoader?j=!0:F.add(z.route.id))}),F.size===0)return[];let q=W_(i);return j&&F.size>0&&q.searchParams.set("_routes",e.filter(z=>F.has(z.route.id)).map(z=>z.route.id).join(",")),[q.pathname+q.search]},[f,s,a,g,e,i,c]),A=$.useMemo(()=>$_(_,a),[_,a]),R=J_(_);return $.createElement($.Fragment,null,w.map(F=>$.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),A.map(F=>$.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),R.map(({key:F,link:j})=>$.createElement("link",{key:F,...j})))}function e0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Jm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Jm&&(window.__reactRouterVersion="7.0.1")}catch{}function t0({basename:i,children:e,window:n}){let s=$.useRef();s.current==null&&(s.current=jv({window:n,v5Compat:!0}));let a=s.current,[c,f]=$.useState({action:a.action,location:a.location}),m=$.useCallback(g=>{$.startTransition(()=>f(g))},[f]);return $.useLayoutEffect(()=>a.listen(m),[a,m]),$.createElement(x_,{basename:i,children:e,location:c.location,navigationType:c.action,navigator:a})}var Zm=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jr=$.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:c,replace:f,state:m,target:g,to:_,preventScrollReset:w,viewTransition:A,...R},F){let{basename:j}=$.useContext(Qn),q=typeof _=="string"&&Zm.test(_),z,G=!1;if(typeof _=="string"&&q&&(z=_,Jm))try{let S=new URL(window.location.href),k=_.startsWith("//")?new URL(S.protocol+_):new URL(_),N=Kr(k.pathname,j);k.origin===S.origin&&N!=null?_=N+k.search+k.hash:G=!0}catch{ei(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=d_(_,{relative:a}),[oe,de,Ce]=Y_(s,R),we=s0(_,{replace:f,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:A});function x(S){e&&e(S),S.defaultPrevented||we(S)}let T=$.createElement("a",{...R,...Ce,href:z||ne,onClick:G||c?e:x,ref:e0(F,de),target:g,"data-discover":!q&&n==="render"?"true":void 0});return oe&&!q?$.createElement($.Fragment,null,T,$.createElement(X_,{page:ne})):T});jr.displayName="Link";var n0=$.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:c,to:f,viewTransition:m,children:g,..._},w){let A=da(f,{relative:_.relative}),R=Li(),F=$.useContext(iu),{navigator:j,basename:q}=$.useContext(Qn),z=F!=null&&c0(A)&&m===!0,G=j.encodeLocation?j.encodeLocation(A).pathname:A.pathname,ne=R.pathname,oe=F&&F.navigation&&F.navigation.location?F.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),oe=oe?oe.toLowerCase():null,G=G.toLowerCase()),oe&&q&&(oe=Kr(oe,q)||oe);const de=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let Ce=ne===G||!a&&ne.startsWith(G)&&ne.charAt(de)==="/",we=oe!=null&&(oe===G||!a&&oe.startsWith(G)&&oe.charAt(G.length)==="/"),x={isActive:Ce,isPending:we,isTransitioning:z},T=Ce?e:void 0,S;typeof s=="function"?S=s(x):S=[s,Ce?"active":null,we?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let k=typeof c=="function"?c(x):c;return $.createElement(jr,{..._,"aria-current":T,className:S,ref:w,style:k,to:f,viewTransition:m},typeof g=="function"?g(x):g)});n0.displayName="NavLink";var r0=$.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:c,method:f=Bl,action:m,onSubmit:g,relative:_,preventScrollReset:w,viewTransition:A,...R},F)=>{let j=l0(),q=u0(m,{relative:_}),z=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&Zm.test(m),ne=oe=>{if(g&&g(oe),oe.defaultPrevented)return;oe.preventDefault();let de=oe.nativeEvent.submitter,Ce=(de==null?void 0:de.getAttribute("formmethod"))||f;j(de||oe.currentTarget,{fetcherKey:e,method:Ce,navigate:n,replace:a,state:c,relative:_,preventScrollReset:w,viewTransition:A})};return $.createElement("form",{ref:F,method:z,action:q,onSubmit:s?g:ne,...R,"data-discover":!G&&i==="render"?"true":void 0})});r0.displayName="Form";function i0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eg(i){let e=$.useContext($s);return Xe(e,i0(i)),e}function s0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:c,viewTransition:f}={}){let m=p_(),g=Li(),_=da(i,{relative:c});return $.useCallback(w=>{if(M_(w,e)){w.preventDefault();let A=n!==void 0?n:na(g)===na(_);m(i,{replace:A,state:s,preventScrollReset:a,relative:c,viewTransition:f})}},[g,m,_,n,s,e,i,a,c,f])}var o0=0,a0=()=>`__${String(++o0)}__`;function l0(){let{router:i}=eg("useSubmit"),{basename:e}=$.useContext(Qn),n=C_();return $.useCallback(async(s,a={})=>{let{action:c,method:f,encType:m,formData:g,body:_}=z_(s,e);if(a.navigate===!1){let w=a.fetcherKey||a0();await i.fetch(w,n,a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||c,{preventScrollReset:a.preventScrollReset,formData:g,body:_,formMethod:a.method||f,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function u0(i,{relative:e}={}){let{basename:n}=$.useContext(Qn),s=$.useContext(Wn);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),c={...da(i||".",{relative:e})},f=Li();if(i==null){c.search=f.search;let m=new URLSearchParams(c.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(A=>A).forEach(A=>m.append("index",A));let w=m.toString();c.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(c.pathname=c.pathname==="/"?n:fr([n,c.pathname])),na(c)}function c0(i,e={}){let n=$.useContext(Qm);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=eg("useViewTransitionState"),a=da(i,{relative:e.relative});if(!n.isTransitioning)return!1;let c=Kr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=Kr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Wl(a.pathname,f)!=null||Wl(a.pathname,c)!=null}new TextEncoder;const tg=$.createContext(),h0=({children:i})=>{const[e,n]=$.useState([]),s=w=>e.some(A=>A.id===w),_={cart:e,isInCart:s,addItem:w=>{s(w.id)?console.log("El producto ya est en el carrito"):n(A=>[...A,w])},removeItem:()=>{},clearCart:()=>{},getTotal:()=>{},totalQuantity:5};return le.jsx(tg.Provider,{value:_,children:i})},ng=()=>$.useContext(tg);function f0(){const{totalQuantity:i}=ng();return le.jsxs("a",{className:"nav-link",href:"#",children:[le.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",className:"bi bi-cart",viewBox:"0 0 16 16",children:le.jsx("path",{d:"M0 1.5A.5.5 0 0 1 .5 1h1a.5.5 0 0 1 .485.379L2.89 5H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 14H4a.5.5 0 0 1-.491-.408L1.01 2H.5a.5.5 0 0 1-.5-.5zM3.14 6l1.25 6H12.5l1.25-6H3.14zM5 12a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm6 0a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"})}),i]})}function d0({title:i}){return le.jsx("nav",{className:"navbar",children:le.jsxs("div",{className:"navbar-container",children:[le.jsx(jr,{className:"navbar-brand",to:"/",children:i}),le.jsxs("ul",{className:"navbar-nav",children:[le.jsx("li",{className:"nav-item",children:le.jsx(jr,{className:"nav-link active","aria-current":"page",to:"/category/celular",children:"Phones"})}),le.jsx("li",{className:"nav-item",children:le.jsx(jr,{className:"nav-link",to:"/category/tablet",children:"Tablets"})}),le.jsx("li",{className:"nav-item",children:le.jsx(jr,{className:"nav-link",to:"/category/computer",children:"Noteboks"})})]}),le.jsx("form",{className:"cart",role:"search",children:le.jsx(jr,{to:"/cart",children:le.jsx(f0,{cartCount:5})})})]})})}function p0({product:i}){return le.jsxs("div",{className:"item",children:[le.jsx("img",{src:i.img,alt:i.name}),le.jsxs("div",{className:"itemText",children:[le.jsx("h2",{children:i.name}),le.jsxs("p",{children:["$",i.price]}),le.jsx("p",{children:i.description}),le.jsx(jr,{className:"details",to:`/detail/${i.id}`,children:"Ver detalles"})]})]})}function m0({products:i}){return le.jsx("div",{className:"itemList",children:i.map(e=>le.jsx(p0,{product:e},e.id))})}const g0=$.memo(m0);var Up={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},y0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[n++];e[s++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[n++],f=i[n++],m=i[n++],g=((a&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],f=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return e.join("")},ig={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,m=f?i[a+1]:0,g=a+2<i.length,_=g?i[a+2]:0,w=c>>2,A=(c&3)<<4|m>>4;let R=(m&15)<<2|_>>6,F=_&63;g||(F=64,f||(R=64)),s.push(n[w],n[A],n[R],n[F])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(rg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):y0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const c=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const _=a<i.length?n[i.charAt(a)]:64;++a;const A=a<i.length?n[i.charAt(a)]:64;if(++a,c==null||m==null||_==null||A==null)throw new v0;const R=c<<2|m>>4;if(s.push(R),_!==64){const F=m<<4&240|_>>2;if(s.push(F),A!==64){const j=_<<6&192|A;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class v0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _0=function(i){const e=rg(i);return ig.encodeByteArray(e,!0)},Kl=function(i){return _0(i).replace(/\./g,"")},E0=function(i){try{return ig.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0=()=>w0().__FIREBASE_DEFAULTS__,I0=()=>{if(typeof process>"u"||typeof Up>"u")return;const i=Up.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},S0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&E0(i[1]);return e&&JSON.parse(e)},Bh=()=>{try{return T0()||I0()||S0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},C0=i=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},A0=i=>{const e=C0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},sg=()=>{var i;return(i=Bh())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Kl(JSON.stringify(n)),Kl(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x0(){var i;const e=(i=Bh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function V0(){return!x0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N0(){try{return typeof indexedDB=="object"}catch{return!1}}function D0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var c;e(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="FirebaseError";class qs extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=L0,Object.setPrototypeOf(this,qs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,og.prototype.create)}}class og{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,c=this.errors[e],f=c?O0(c,s):"Error",m=`${this.serviceName}: ${f} (${a}).`;return new qs(a,m,s)}}function O0(i,e){return i.replace(M0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const M0=/\{\$([^}]+)}/g;function ch(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const c=i[a],f=e[a];if(zp(c)&&zp(f)){if(!ch(c,f))return!1}else if(c!==f)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function zp(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ra(i){return i&&i._delegate?i._delegate:i}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new R0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(z0(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:a});s.resolve(c)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);s===m&&f.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),c=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&e(f,a),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:U0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function U0(i){return i===ki?void 0:i}function z0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(xe||(xe={}));const j0={debug:xe.DEBUG,verbose:xe.VERBOSE,info:xe.INFO,warn:xe.WARN,error:xe.ERROR,silent:xe.SILENT},b0=xe.INFO,$0={[xe.DEBUG]:"log",[xe.VERBOSE]:"log",[xe.INFO]:"info",[xe.WARN]:"warn",[xe.ERROR]:"error"},q0=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=$0[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ag{constructor(e){this.name=e,this._logLevel=b0,this._logHandler=q0,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?j0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xe.DEBUG,...e),this._logHandler(this,xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xe.VERBOSE,...e),this._logHandler(this,xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xe.INFO,...e),this._logHandler(this,xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xe.WARN,...e),this._logHandler(this,xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xe.ERROR,...e),this._logHandler(this,xe.ERROR,...e)}}const H0=(i,e)=>e.some(n=>i instanceof n);let Bp,jp;function Q0(){return Bp||(Bp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function W0(){return jp||(jp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lg=new WeakMap,hh=new WeakMap,ug=new WeakMap,Zc=new WeakMap,jh=new WeakMap;function K0(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{n(qr(i.result)),a()},f=()=>{s(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&lg.set(n,i)}).catch(()=>{}),jh.set(e,i),e}function G0(i){if(hh.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{n(),a()},f=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});hh.set(i,e)}let fh={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return hh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||ug.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return qr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Y0(i){fh=i(fh)}function X0(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(eh(this),e,...n);return ug.set(s,e.sort?e.sort():[e]),qr(s)}:W0().includes(i)?function(...e){return i.apply(eh(this),e),qr(lg.get(this))}:function(...e){return qr(i.apply(eh(this),e))}}function J0(i){return typeof i=="function"?X0(i):(i instanceof IDBTransaction&&G0(i),H0(i,Q0())?new Proxy(i,fh):i)}function qr(i){if(i instanceof IDBRequest)return K0(i);if(Zc.has(i))return Zc.get(i);const e=J0(i);return e!==i&&(Zc.set(i,e),jh.set(e,i)),e}const eh=i=>jh.get(i);function Z0(i,e,{blocked:n,upgrade:s,blocking:a,terminated:c}={}){const f=indexedDB.open(i,e),m=qr(f);return s&&f.addEventListener("upgradeneeded",g=>{s(qr(f.result),g.oldVersion,g.newVersion,qr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),a&&g.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const eE=["get","getKey","getAll","getAllKeys","count"],tE=["put","add","delete","clear"],th=new Map;function bp(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(th.get(e))return th.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=tE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||eE.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,a?"readwrite":"readonly");let _=g.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),a&&g.done]))[0]};return th.set(e,c),c}Y0(i=>({...i,get:(e,n,s)=>bp(e,n)||i.get(e,n,s),has:(e,n)=>!!bp(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function rE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dh="@firebase/app",$p="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new ag("@firebase/app"),iE="@firebase/app-compat",sE="@firebase/analytics-compat",oE="@firebase/analytics",aE="@firebase/app-check-compat",lE="@firebase/app-check",uE="@firebase/auth",cE="@firebase/auth-compat",hE="@firebase/database",fE="@firebase/data-connect",dE="@firebase/database-compat",pE="@firebase/functions",mE="@firebase/functions-compat",gE="@firebase/installations",yE="@firebase/installations-compat",vE="@firebase/messaging",_E="@firebase/messaging-compat",EE="@firebase/performance",wE="@firebase/performance-compat",TE="@firebase/remote-config",IE="@firebase/remote-config-compat",SE="@firebase/storage",CE="@firebase/storage-compat",AE="@firebase/firestore",RE="@firebase/vertexai",PE="@firebase/firestore-compat",kE="firebase",xE="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph="[DEFAULT]",VE={[dh]:"fire-core",[iE]:"fire-core-compat",[oE]:"fire-analytics",[sE]:"fire-analytics-compat",[lE]:"fire-app-check",[aE]:"fire-app-check-compat",[uE]:"fire-auth",[cE]:"fire-auth-compat",[hE]:"fire-rtdb",[fE]:"fire-data-connect",[dE]:"fire-rtdb-compat",[pE]:"fire-fn",[mE]:"fire-fn-compat",[gE]:"fire-iid",[yE]:"fire-iid-compat",[vE]:"fire-fcm",[_E]:"fire-fcm-compat",[EE]:"fire-perf",[wE]:"fire-perf-compat",[TE]:"fire-rc",[IE]:"fire-rc-compat",[SE]:"fire-gcs",[CE]:"fire-gcs-compat",[AE]:"fire-fst",[PE]:"fire-fst-compat",[RE]:"fire-vertex","fire-js":"fire-js",[kE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=new Map,NE=new Map,mh=new Map;function qp(i,e){try{i.container.addComponent(e)}catch(n){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Yl(i){const e=i.name;if(mh.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;mh.set(e,i);for(const n of Gl.values())qp(n,i);for(const n of NE.values())qp(n,i);return!0}function DE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new og("app","Firebase",LE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=xE;function cg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ph,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Hr.create("bad-app-name",{appName:String(a)});if(n||(n=sg()),!n)throw Hr.create("no-options");const c=Gl.get(a);if(c){if(ch(n,c.options)&&ch(s,c.config))return c;throw Hr.create("duplicate-app",{appName:a})}const f=new B0(a);for(const g of mh.values())f.addComponent(g);const m=new OE(n,s,f);return Gl.set(a,m),m}function FE(i=ph){const e=Gl.get(i);if(!e&&i===ph&&sg())return cg();if(!e)throw Hr.create("no-app",{appName:i});return e}function Ns(i,e,n){var s;let a=(s=VE[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const c=a.match(/\s|\//),f=e.match(/\s|\//);if(c||f){const m=[`Unable to register library "${a}" with version "${e}":`];c&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}Yl(new ia(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="firebase-heartbeat-database",zE=1,sa="firebase-heartbeat-store";let nh=null;function hg(){return nh||(nh=Z0(UE,zE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(sa)}catch(n){console.warn(n)}}}}).catch(i=>{throw Hr.create("idb-open",{originalErrorMessage:i.message})})),nh}async function BE(i){try{const n=(await hg()).transaction(sa),s=await n.objectStore(sa).get(fg(i));return await n.done,s}catch(e){if(e instanceof qs)dr.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(n.message)}}}async function Hp(i,e){try{const s=(await hg()).transaction(sa,"readwrite");await s.objectStore(sa).put(e,fg(i)),await s.done}catch(n){if(n instanceof qs)dr.warn(n.message);else{const s=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dr.warn(s.message)}}}function fg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=1024,bE=30*24*60*60*1e3;class $E{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new HE(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Qp();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const m=new Date(f.date).valueOf();return Date.now()-m<=bE}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qp(),{heartbeatsToSend:s,unsentEntries:a}=qE(this._heartbeatsCache.heartbeats),c=Kl(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return dr.warn(n),""}}}function Qp(){return new Date().toISOString().substring(0,10)}function qE(i,e=jE){const n=[];let s=i.slice();for(const a of i){const c=n.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Wp(n)>e){c.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),Wp(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class HE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N0()?D0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await BE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return Hp(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Wp(i){return Kl(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QE(i){Yl(new ia("platform-logger",e=>new nE(e),"PRIVATE")),Yl(new ia("heartbeat",e=>new $E(e),"PRIVATE")),Ns(dh,$p,i),Ns(dh,$p,"esm2017"),Ns("fire-js","")}QE("");var Kp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,dg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,T){function S(){}S.prototype=T.prototype,x.D=T.prototype,x.prototype=new S,x.prototype.constructor=x,x.C=function(k,N,L){for(var C=Array(arguments.length-2),et=2;et<arguments.length;et++)C[et-2]=arguments[et];return T.prototype[N].apply(k,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,T,S){S||(S=0);var k=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)k[N]=T.charCodeAt(S++)|T.charCodeAt(S++)<<8|T.charCodeAt(S++)<<16|T.charCodeAt(S++)<<24;else for(N=0;16>N;++N)k[N]=T[S++]|T[S++]<<8|T[S++]<<16|T[S++]<<24;T=x.g[0],S=x.g[1],N=x.g[2];var L=x.g[3],C=T+(L^S&(N^L))+k[0]+3614090360&4294967295;T=S+(C<<7&4294967295|C>>>25),C=L+(N^T&(S^N))+k[1]+3905402710&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(S^L&(T^S))+k[2]+606105819&4294967295,N=L+(C<<17&4294967295|C>>>15),C=S+(T^N&(L^T))+k[3]+3250441966&4294967295,S=N+(C<<22&4294967295|C>>>10),C=T+(L^S&(N^L))+k[4]+4118548399&4294967295,T=S+(C<<7&4294967295|C>>>25),C=L+(N^T&(S^N))+k[5]+1200080426&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(S^L&(T^S))+k[6]+2821735955&4294967295,N=L+(C<<17&4294967295|C>>>15),C=S+(T^N&(L^T))+k[7]+4249261313&4294967295,S=N+(C<<22&4294967295|C>>>10),C=T+(L^S&(N^L))+k[8]+1770035416&4294967295,T=S+(C<<7&4294967295|C>>>25),C=L+(N^T&(S^N))+k[9]+2336552879&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(S^L&(T^S))+k[10]+4294925233&4294967295,N=L+(C<<17&4294967295|C>>>15),C=S+(T^N&(L^T))+k[11]+2304563134&4294967295,S=N+(C<<22&4294967295|C>>>10),C=T+(L^S&(N^L))+k[12]+1804603682&4294967295,T=S+(C<<7&4294967295|C>>>25),C=L+(N^T&(S^N))+k[13]+4254626195&4294967295,L=T+(C<<12&4294967295|C>>>20),C=N+(S^L&(T^S))+k[14]+2792965006&4294967295,N=L+(C<<17&4294967295|C>>>15),C=S+(T^N&(L^T))+k[15]+1236535329&4294967295,S=N+(C<<22&4294967295|C>>>10),C=T+(N^L&(S^N))+k[1]+4129170786&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^N&(T^S))+k[6]+3225465664&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^S&(L^T))+k[11]+643717713&4294967295,N=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(N^L))+k[0]+3921069994&4294967295,S=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(S^N))+k[5]+3593408605&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^N&(T^S))+k[10]+38016083&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^S&(L^T))+k[15]+3634488961&4294967295,N=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(N^L))+k[4]+3889429448&4294967295,S=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(S^N))+k[9]+568446438&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^N&(T^S))+k[14]+3275163606&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^S&(L^T))+k[3]+4107603335&4294967295,N=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(N^L))+k[8]+1163531501&4294967295,S=N+(C<<20&4294967295|C>>>12),C=T+(N^L&(S^N))+k[13]+2850285829&4294967295,T=S+(C<<5&4294967295|C>>>27),C=L+(S^N&(T^S))+k[2]+4243563512&4294967295,L=T+(C<<9&4294967295|C>>>23),C=N+(T^S&(L^T))+k[7]+1735328473&4294967295,N=L+(C<<14&4294967295|C>>>18),C=S+(L^T&(N^L))+k[12]+2368359562&4294967295,S=N+(C<<20&4294967295|C>>>12),C=T+(S^N^L)+k[5]+4294588738&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^N)+k[8]+2272392833&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^S)+k[11]+1839030562&4294967295,N=L+(C<<16&4294967295|C>>>16),C=S+(N^L^T)+k[14]+4259657740&4294967295,S=N+(C<<23&4294967295|C>>>9),C=T+(S^N^L)+k[1]+2763975236&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^N)+k[4]+1272893353&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^S)+k[7]+4139469664&4294967295,N=L+(C<<16&4294967295|C>>>16),C=S+(N^L^T)+k[10]+3200236656&4294967295,S=N+(C<<23&4294967295|C>>>9),C=T+(S^N^L)+k[13]+681279174&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^N)+k[0]+3936430074&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^S)+k[3]+3572445317&4294967295,N=L+(C<<16&4294967295|C>>>16),C=S+(N^L^T)+k[6]+76029189&4294967295,S=N+(C<<23&4294967295|C>>>9),C=T+(S^N^L)+k[9]+3654602809&4294967295,T=S+(C<<4&4294967295|C>>>28),C=L+(T^S^N)+k[12]+3873151461&4294967295,L=T+(C<<11&4294967295|C>>>21),C=N+(L^T^S)+k[15]+530742520&4294967295,N=L+(C<<16&4294967295|C>>>16),C=S+(N^L^T)+k[2]+3299628645&4294967295,S=N+(C<<23&4294967295|C>>>9),C=T+(N^(S|~L))+k[0]+4096336452&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~N))+k[7]+1126891415&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~S))+k[14]+2878612391&4294967295,N=L+(C<<15&4294967295|C>>>17),C=S+(L^(N|~T))+k[5]+4237533241&4294967295,S=N+(C<<21&4294967295|C>>>11),C=T+(N^(S|~L))+k[12]+1700485571&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~N))+k[3]+2399980690&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~S))+k[10]+4293915773&4294967295,N=L+(C<<15&4294967295|C>>>17),C=S+(L^(N|~T))+k[1]+2240044497&4294967295,S=N+(C<<21&4294967295|C>>>11),C=T+(N^(S|~L))+k[8]+1873313359&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~N))+k[15]+4264355552&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~S))+k[6]+2734768916&4294967295,N=L+(C<<15&4294967295|C>>>17),C=S+(L^(N|~T))+k[13]+1309151649&4294967295,S=N+(C<<21&4294967295|C>>>11),C=T+(N^(S|~L))+k[4]+4149444226&4294967295,T=S+(C<<6&4294967295|C>>>26),C=L+(S^(T|~N))+k[11]+3174756917&4294967295,L=T+(C<<10&4294967295|C>>>22),C=N+(T^(L|~S))+k[2]+718787259&4294967295,N=L+(C<<15&4294967295|C>>>17),C=S+(L^(N|~T))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+T&4294967295,x.g[1]=x.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+L&4294967295}s.prototype.u=function(x,T){T===void 0&&(T=x.length);for(var S=T-this.blockSize,k=this.B,N=this.h,L=0;L<T;){if(N==0)for(;L<=S;)a(this,x,L),L+=this.blockSize;if(typeof x=="string"){for(;L<T;)if(k[N++]=x.charCodeAt(L++),N==this.blockSize){a(this,k),N=0;break}}else for(;L<T;)if(k[N++]=x[L++],N==this.blockSize){a(this,k),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var T=1;T<x.length-8;++T)x[T]=0;var S=8*this.o;for(T=x.length-8;T<x.length;++T)x[T]=S&255,S/=256;for(this.u(x),x=Array(16),T=S=0;4>T;++T)for(var k=0;32>k;k+=8)x[S++]=this.g[T]>>>k&255;return x};function c(x,T){var S=m;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=T(x)}function f(x,T){this.h=T;for(var S=[],k=!0,N=x.length-1;0<=N;N--){var L=x[N]|0;k&&L==T||(S[N]=L,k=!1)}this.g=S}var m={};function g(x){return-128<=x&&128>x?c(x,function(T){return new f([T|0],0>T?-1:0)}):new f([x|0],0>x?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return A;if(0>x)return z(_(-x));for(var T=[],S=1,k=0;x>=S;k++)T[k]=x/S|0,S*=4294967296;return new f(T,0)}function w(x,T){if(x.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(x.charAt(0)=="-")return z(w(x.substring(1),T));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=_(Math.pow(T,8)),k=A,N=0;N<x.length;N+=8){var L=Math.min(8,x.length-N),C=parseInt(x.substring(N,N+L),T);8>L?(L=_(Math.pow(T,L)),k=k.j(L).add(_(C))):(k=k.j(S),k=k.add(_(C)))}return k}var A=g(0),R=g(1),F=g(16777216);i=f.prototype,i.m=function(){if(q(this))return-z(this).m();for(var x=0,T=1,S=0;S<this.g.length;S++){var k=this.i(S);x+=(0<=k?k:4294967296+k)*T,T*=4294967296}return x},i.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(j(this))return"0";if(q(this))return"-"+z(this).toString(x);for(var T=_(Math.pow(x,6)),S=this,k="";;){var N=de(S,T).g;S=G(S,N.j(T));var L=((0<S.g.length?S.g[0]:S.h)>>>0).toString(x);if(S=N,j(S))return L+k;for(;6>L.length;)L="0"+L;k=L+k}},i.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function j(x){if(x.h!=0)return!1;for(var T=0;T<x.g.length;T++)if(x.g[T]!=0)return!1;return!0}function q(x){return x.h==-1}i.l=function(x){return x=G(this,x),q(x)?-1:j(x)?0:1};function z(x){for(var T=x.g.length,S=[],k=0;k<T;k++)S[k]=~x.g[k];return new f(S,~x.h).add(R)}i.abs=function(){return q(this)?z(this):this},i.add=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],k=0,N=0;N<=T;N++){var L=k+(this.i(N)&65535)+(x.i(N)&65535),C=(L>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);k=C>>>16,L&=65535,C&=65535,S[N]=C<<16|L}return new f(S,S[S.length-1]&-2147483648?-1:0)};function G(x,T){return x.add(z(T))}i.j=function(x){if(j(this)||j(x))return A;if(q(this))return q(x)?z(this).j(z(x)):z(z(this).j(x));if(q(x))return z(this.j(z(x)));if(0>this.l(F)&&0>x.l(F))return _(this.m()*x.m());for(var T=this.g.length+x.g.length,S=[],k=0;k<2*T;k++)S[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<x.g.length;N++){var L=this.i(k)>>>16,C=this.i(k)&65535,et=x.i(N)>>>16,Pt=x.i(N)&65535;S[2*k+2*N]+=C*Pt,ne(S,2*k+2*N),S[2*k+2*N+1]+=L*Pt,ne(S,2*k+2*N+1),S[2*k+2*N+1]+=C*et,ne(S,2*k+2*N+1),S[2*k+2*N+2]+=L*et,ne(S,2*k+2*N+2)}for(k=0;k<T;k++)S[k]=S[2*k+1]<<16|S[2*k];for(k=T;k<2*T;k++)S[k]=0;return new f(S,0)};function ne(x,T){for(;(x[T]&65535)!=x[T];)x[T+1]+=x[T]>>>16,x[T]&=65535,T++}function oe(x,T){this.g=x,this.h=T}function de(x,T){if(j(T))throw Error("division by zero");if(j(x))return new oe(A,A);if(q(x))return T=de(z(x),T),new oe(z(T.g),z(T.h));if(q(T))return T=de(x,z(T)),new oe(z(T.g),T.h);if(30<x.g.length){if(q(x)||q(T))throw Error("slowDivide_ only works with positive integers.");for(var S=R,k=T;0>=k.l(x);)S=Ce(S),k=Ce(k);var N=we(S,1),L=we(k,1);for(k=we(k,2),S=we(S,2);!j(k);){var C=L.add(k);0>=C.l(x)&&(N=N.add(S),L=C),k=we(k,1),S=we(S,1)}return T=G(x,N.j(T)),new oe(N,T)}for(N=A;0<=x.l(T);){for(S=Math.max(1,Math.floor(x.m()/T.m())),k=Math.ceil(Math.log(S)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),L=_(S),C=L.j(T);q(C)||0<C.l(x);)S-=k,L=_(S),C=L.j(T);j(L)&&(L=R),N=N.add(L),x=G(x,C)}return new oe(N,x)}i.A=function(x){return de(this,x).h},i.and=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],k=0;k<T;k++)S[k]=this.i(k)&x.i(k);return new f(S,this.h&x.h)},i.or=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],k=0;k<T;k++)S[k]=this.i(k)|x.i(k);return new f(S,this.h|x.h)},i.xor=function(x){for(var T=Math.max(this.g.length,x.g.length),S=[],k=0;k<T;k++)S[k]=this.i(k)^x.i(k);return new f(S,this.h^x.h)};function Ce(x){for(var T=x.g.length+1,S=[],k=0;k<T;k++)S[k]=x.i(k)<<1|x.i(k-1)>>>31;return new f(S,x.h)}function we(x,T){var S=T>>5;T%=32;for(var k=x.g.length-S,N=[],L=0;L<k;L++)N[L]=0<T?x.i(L+S)>>>T|x.i(L+S+1)<<32-T:x.i(L+S);return new f(N,x.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,dg=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=w,Vi=f}).apply(typeof Kp<"u"?Kp:typeof self<"u"?self:typeof window<"u"?window:{});var Ol=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pg,Ko,mg,bl,gh,gg,yg,vg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,y){return l==Array.prototype||l==Object.prototype||(l[d]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ol=="object"&&Ol];for(var d=0;d<l.length;++d){var y=l[d];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,d){if(d)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var O=l[E];if(!(O in y))break e;y=y[O]}l=l[l.length-1],E=y[l],d=d(E),d!=E&&d!=null&&e(y,l,{configurable:!0,writable:!0,value:d})}}function c(l,d){l instanceof String&&(l+="");var y=0,E=!1,O={next:function(){if(!E&&y<l.length){var b=y++;return{value:d(b,l[b]),done:!1}}return E=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}a("Array.prototype.values",function(l){return l||function(){return c(this,function(d,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function g(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function _(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function w(l,d,y){return l.call.apply(l.bind,arguments)}function A(l,d,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,E),l.apply(d,O)}}return function(){return l.apply(d,arguments)}}function R(l,d,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:A,R.apply(null,arguments)}function F(l,d){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function j(l,d){function y(){}y.prototype=d.prototype,l.aa=d.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,O,b){for(var Z=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)Z[Ue-2]=arguments[Ue];return d.prototype[O].apply(E,Z)}}function q(l){const d=l.length;if(0<d){const y=Array(d);for(let E=0;E<d;E++)y[E]=l[E];return y}return[]}function z(l,d){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const O=l.length||0,b=E.length||0;l.length=O+b;for(let Z=0;Z<b;Z++)l[O+Z]=E[Z]}else l.push(E)}}class G{constructor(d,y){this.i=d,this.j=y,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function ne(l){return/^[\s\xa0]*$/.test(l)}function oe(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function de(l){return de[" "](l),l}de[" "]=function(){};var Ce=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function we(l,d,y){for(const E in l)d.call(y,l[E],E,l)}function x(l,d){for(const y in l)d.call(void 0,l[y],y,l)}function T(l){const d={};for(const y in l)d[y]=l[y];return d}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,d){let y,E;for(let O=1;O<arguments.length;O++){E=arguments[O];for(y in E)l[y]=E[y];for(let b=0;b<S.length;b++)y=S[b],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function N(l){var d=1;l=l.split(":");const y=[];for(;0<d&&l.length;)y.push(l.shift()),d--;return l.length&&y.push(l.join(":")),y}function L(l){m.setTimeout(()=>{throw l},0)}function C(){var l=pe;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class et{constructor(){this.h=this.g=null}add(d,y){const E=Pt.get();E.set(d,y),this.h?this.h.next=E:this.g=E,this.h=E}}var Pt=new G(()=>new kt,l=>l.reset());class kt{constructor(){this.next=this.g=this.h=null}set(d,y){this.h=d,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,ee=!1,pe=new et,re=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(D)}};var D=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){L(y)}var d=Pt;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}ee=!1};function H(){this.s=this.s,this.C=this.C}H.prototype.s=!1,H.prototype.ma=function(){this.s||(this.s=!0,this.N())},H.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Te=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,d),m.removeEventListener("test",y,d)}catch{}return l}();function Ie(l,d){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(Ce){e:{try{de(d.nodeName);var O=!0;break e}catch{}O=!1}O||(d=null)}}else y=="mouseover"?d=l.fromElement:y=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Re[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,fe);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function je(l,d,y,E,O){this.listener=l,this.proxy=null,this.src=d,this.type=y,this.capture=!!E,this.ha=O,this.key=++Fe,this.da=this.fa=!1}function mt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Kn(l){this.src=l,this.g={},this.h=0}Kn.prototype.add=function(l,d,y,E,O){var b=l.toString();l=this.g[b],l||(l=this.g[b]=[],this.h++);var Z=mr(l,d,E,O);return-1<Z?(d=l[Z],y||(d.fa=!1)):(d=new je(d,this.src,b,!!E,O),d.fa=y,l.push(d)),d};function Mi(l,d){var y=d.type;if(y in l.g){var E=l.g[y],O=Array.prototype.indexOf.call(E,d,void 0),b;(b=0<=O)&&Array.prototype.splice.call(E,O,1),b&&(mt(d),l.g[y].length==0&&(delete l.g[y],l.h--))}}function mr(l,d,y,E){for(var O=0;O<l.length;++O){var b=l[O];if(!b.da&&b.listener==d&&b.capture==!!y&&b.ha==E)return O}return-1}var ti="closure_lm_"+(1e6*Math.random()|0),Fi={};function Ys(l,d,y,E,O){if(Array.isArray(d)){for(var b=0;b<d.length;b++)Ys(l,d[b],y,E,O);return null}return y=Zs(y),l&&l[Me]?l.K(d,y,_(E)?!!E.capture:!!E,O):Xs(l,d,y,!1,E,O)}function Xs(l,d,y,E,O,b){if(!d)throw Error("Invalid event type");var Z=_(O)?!!O.capture:!!O,Ue=zi(l);if(Ue||(l[ti]=Ue=new Kn(l)),y=Ue.add(d,y,E,Z,b),y.proxy)return y;if(E=va(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Te||(O=Z),O===void 0&&(O=!1),l.addEventListener(d.toString(),E,O);else if(l.attachEvent)l.attachEvent(Yn(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function va(){function l(y){return d.call(l.src,l.listener,y)}const d=Js;return l}function Ui(l,d,y,E,O){if(Array.isArray(d))for(var b=0;b<d.length;b++)Ui(l,d[b],y,E,O);else E=_(E)?!!E.capture:!!E,y=Zs(y),l&&l[Me]?(l=l.i,d=String(d).toString(),d in l.g&&(b=l.g[d],y=mr(b,y,E,O),-1<y&&(mt(b[y]),Array.prototype.splice.call(b,y,1),b.length==0&&(delete l.g[d],l.h--)))):l&&(l=zi(l))&&(d=l.g[d.toString()],l=-1,d&&(l=mr(d,y,E,O)),(y=-1<l?d[l]:null)&&Gn(y))}function Gn(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Me])Mi(d.i,l);else{var y=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(y,E,l.capture):d.detachEvent?d.detachEvent(Yn(y),E):d.addListener&&d.removeListener&&d.removeListener(E),(y=zi(d))?(Mi(y,l),y.h==0&&(y.src=null,d[ti]=null)):mt(l)}}}function Yn(l){return l in Fi?Fi[l]:Fi[l]="on"+l}function Js(l,d){if(l.da)l=!0;else{d=new Ie(d,this);var y=l.listener,E=l.ha||l.src;l.fa&&Gn(l),l=y.call(E,d)}return l}function zi(l){return l=l[ti],l instanceof Kn?l:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zs(l){return typeof l=="function"?l:(l[Bi]||(l[Bi]=function(d){return l.handleEvent(d)}),l[Bi])}function ut(){H.call(this),this.i=new Kn(this),this.M=this,this.F=null}j(ut,H),ut.prototype[Me]=!0,ut.prototype.removeEventListener=function(l,d,y,E){Ui(this,l,d,y,E)};function ct(l,d){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new fe(d,l);else if(d instanceof fe)d.target=d.target||l;else{var O=d;d=new fe(E,l),k(d,O)}if(O=!0,y)for(var b=y.length-1;0<=b;b--){var Z=d.g=y[b];O=Xn(Z,E,!0,d)&&O}if(Z=d.g=l,O=Xn(Z,E,!0,d)&&O,O=Xn(Z,E,!1,d)&&O,y)for(b=0;b<y.length;b++)Z=d.g=y[b],O=Xn(Z,E,!1,d)&&O}ut.prototype.N=function(){if(ut.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var y=l.g[d],E=0;E<y.length;E++)mt(y[E]);delete l.g[d],l.h--}}this.F=null},ut.prototype.K=function(l,d,y,E){return this.i.add(String(l),d,!1,y,E)},ut.prototype.L=function(l,d,y,E){return this.i.add(String(l),d,!0,y,E)};function Xn(l,d,y,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var O=!0,b=0;b<d.length;++b){var Z=d[b];if(Z&&!Z.da&&Z.capture==y){var Ue=Z.listener,ht=Z.ha||Z.src;Z.fa&&Mi(l.i,Z),O=Ue.call(ht,E)!==!1&&O}}return O&&!E.defaultPrevented}function eo(l,d,y){if(typeof l=="function")y&&(l=R(l,y));else if(l&&typeof l.handleEvent=="function")l=R(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:m.setTimeout(l,d||0)}function gr(l){l.g=eo(()=>{l.g=null,l.i&&(l.i=!1,gr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class ni extends H{constructor(d,y){super(),this.m=d,this.l=y,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(l){H.call(this),this.h=l,this.g={}}j(ri,H);var to=[];function no(l){we(l.g,function(d,y){this.g.hasOwnProperty(y)&&Gn(d)},l),l.g={}}ri.prototype.N=function(){ri.aa.N.call(this),no(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ro=m.JSON.stringify,io=m.JSON.parse,so=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ii(){}ii.prototype.h=null;function ji(l){return l.h||(l.h=l.i())}function bi(){}var on={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Nn(){fe.call(this,"d")}j(Nn,fe);function $i(){fe.call(this,"c")}j($i,fe);var Dn={},oo=null;function si(){return oo=oo||new ut}Dn.La="serverreachability";function ao(l){fe.call(this,Dn.La,l)}j(ao,fe);function Jn(l){const d=si();ct(d,new ao(d))}Dn.STAT_EVENT="statevent";function lo(l,d){fe.call(this,Dn.STAT_EVENT,l),this.stat=d}j(lo,fe);function tt(l){const d=si();ct(d,new lo(d,l))}Dn.Ma="timingevent";function qi(l,d){fe.call(this,Dn.Ma,l),this.size=d}j(qi,fe);function gn(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},d)}function oi(){this.g=!0}oi.prototype.xa=function(){this.g=!1};function ai(l,d,y,E,O,b){l.info(function(){if(l.g)if(b)for(var Z="",Ue=b.split("&"),ht=0;ht<Ue.length;ht++){var Pe=Ue[ht].split("=");if(1<Pe.length){var gt=Pe[0];Pe=Pe[1];var st=gt.split("_");Z=2<=st.length&&st[1]=="type"?Z+(gt+"="+Pe+"&"):Z+(gt+"=redacted&")}}else Z=null;else Z=b;return"XMLHTTP REQ ("+E+") [attempt "+O+"]: "+d+`
`+y+`
`+Z})}function Hi(l,d,y,E,O,b,Z){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+O+"]: "+d+`
`+y+`
`+b+" "+Z})}function yn(l,d,y,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+Eu(l,y)+(E?" "+E:"")})}function uo(l,d){l.info(function(){return"TIMEOUT: "+d})}oi.prototype.info=function(){};function Eu(l,d){if(!l.g)return d;if(!d)return null;try{var y=JSON.parse(d);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var O=E[1];if(Array.isArray(O)&&!(1>O.length)){var b=O[0];if(b!="noop"&&b!="stop"&&b!="close")for(var Z=1;Z<O.length;Z++)O[Z]=""}}}}return ro(y)}catch{return d}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_a={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vn;function li(){}j(li,ii),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},vn=new li;function _n(l,d,y,E){this.j=l,this.i=d,this.l=y,this.R=E||1,this.U=new ri(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ea}function Ea(){this.i=null,this.g="",this.h=!1}var co={},Wi={};function Ki(l,d,y){l.L=1,l.v=wr(Jt(d)),l.m=y,l.P=!0,ho(l,null)}function ho(l,d){l.F=Date.now(),be(l),l.A=Jt(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Ir(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Ea,l.g=Ua(l.j,y?d:null,!l.m),0<l.O&&(l.M=new ni(R(l.Y,l,l.g),l.O)),d=l.U,y=l.g,E=l.ca;var O="readystatechange";Array.isArray(O)||(O&&(to[0]=O.toString()),O=to);for(var b=0;b<O.length;b++){var Z=Ys(y,O[b],E||d.handleEvent,!1,d.h||d);if(!Z)break;d.g[Z.key]=Z}d=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),Jn(),ai(l.i,l.u,l.A,l.l,l.R,l.m)}_n.prototype.ca=function(l){l=l.target;const d=this.M;d&&$t(l)==3?d.j():this.Y(l)},_n.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var d=this.g.Ba();const un=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||vo(this.g)))){this.J||st!=4||d==7||(d==8||0>=un?Jn(3):Jn(2)),ui(this);var y=this.g.Z();this.X=y;t:if(wa(this)){var E=vo(this.g);l="";var O=E.length,b=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){an(this),yr(this);var Z="";break t}this.h.i=new m.TextDecoder}for(d=0;d<O;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(b&&d==O-1)});E.length=0,this.h.g+=l,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=y==200,Hi(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ht=this.g;if((Ue=ht.g?ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Ue)){var Pe=Ue;break t}}Pe=null}if(y=Pe)yn(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fo(this,y);else{this.o=!1,this.s=3,tt(12),an(this),yr(this);break e}}if(this.P){y=!0;let en;for(;!this.J&&this.C<Z.length;)if(en=wu(this,Z),en==Wi){st==4&&(this.s=4,tt(14),y=!1),yn(this.i,this.l,null,"[Incomplete Response]");break}else if(en==co){this.s=4,tt(15),yn(this.i,this.l,Z,"[Invalid Chunk]"),y=!1;break}else yn(this.i,this.l,en,null),fo(this,en);if(wa(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||Z.length!=0||this.h.h||(this.s=1,tt(16),y=!1),this.o=this.o&&y,!y)yn(this.i,this.l,Z,"[Invalid Chunked Response]"),an(this),yr(this);else if(0<Z.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Eo(gt),gt.M=!0,tt(11))}}else yn(this.i,this.l,Z,null),fo(this,Z);st==4&&an(this),this.o&&!this.J&&(st==4?ss(this.j,this):(this.o=!1,be(this)))}else es(this.g),y==400&&0<Z.indexOf("Unknown SID")?(this.s=3,tt(12)):(this.s=0,tt(13)),an(this),yr(this)}}}catch{}finally{}};function wa(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function wu(l,d){var y=l.C,E=d.indexOf(`
`,y);return E==-1?Wi:(y=Number(d.substring(y,E)),isNaN(y)?co:(E+=1,E+y>d.length?Wi:(d=d.slice(E,E+y),l.C=E+y,d)))}_n.prototype.cancel=function(){this.J=!0,an(this)};function be(l){l.S=Date.now()+l.I,Ta(l,l.I)}function Ta(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=gn(R(l.ba,l),d)}function ui(l){l.B&&(m.clearTimeout(l.B),l.B=null)}_n.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(uo(this.i,this.A),this.L!=2&&(Jn(),tt(17)),an(this),this.s=2,yr(this)):Ta(this,this.S-l)};function yr(l){l.j.G==0||l.J||ss(l.j,l)}function an(l){ui(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,no(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function fo(l,d){try{var y=l.j;if(y.G!=0&&(y.g==l||Ut(y.h,l))){if(!l.K&&Ut(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var O=E;if(O[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)is(y),Sn(y);else break e;rs(y),tt(18)}}else y.za=O[1],0<y.za-y.T&&37500>O[2]&&y.F&&y.v==0&&!y.C&&(y.C=gn(R(y.Za,y),6e3));if(1>=Sa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else rr(y,11)}else if((l.K||y.g==l)&&is(y),!ne(d))for(O=y.Da.g.parse(d),d=0;d<O.length;d++){let Pe=O[d];if(y.T=Pe[0],Pe=Pe[1],y.G==2)if(Pe[0]=="c"){y.K=Pe[1],y.ia=Pe[2];const gt=Pe[3];gt!=null&&(y.la=gt,y.j.info("VER="+y.la));const st=Pe[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const un=Pe[5];un!=null&&typeof un=="number"&&0<un&&(E=1.5*un,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const en=l.g;if(en){const gi=en.g?en.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var b=E.h;b.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(po(b,b.h),b.h=null))}if(E.D){const as=en.g?en.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(E.ya=as,Be(E.I,E.D,as))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var Z=l;if(E.qa=Fa(E,E.J?E.ia:null,E.W),Z.K){Ca(E.h,Z);var Ue=Z,ht=E.L;ht&&(Ue.I=ht),Ue.B&&(ui(Ue),be(Ue)),E.g=Z}else mi(E);0<y.i.length&&Fn(y)}else Pe[0]!="stop"&&Pe[0]!="close"||rr(y,7);else y.G==3&&(Pe[0]=="stop"||Pe[0]=="close"?Pe[0]=="stop"?rr(y,7):It(y):Pe[0]!="noop"&&y.l&&y.l.ta(Pe),y.v=0)}}Jn(4)}catch{}}var Ia=class{constructor(l,d){this.g=l,this.map=d}};function ci(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Sa(l){return l.h?1:l.g?l.g.size:0}function Ut(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function po(l,d){l.g?l.g.add(d):l.h=d}function Ca(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}ci.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Aa(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const y of l.g.values())d=d.concat(y.D);return d}return q(l.i)}function Gi(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var d=[],y=l.length,E=0;E<y;E++)d.push(l[E]);return d}d=[],y=0;for(E in l)d[y++]=l[E];return d}function Yi(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var d=[];l=l.length;for(var y=0;y<l;y++)d.push(y);return d}d=[],y=0;for(const E in l)d[y++]=E;return d}}}function vr(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var y=Yi(l),E=Gi(l),O=E.length,b=0;b<O;b++)d.call(void 0,E[b],y&&y[b],l)}var hi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Tu(l,d){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),O=null;if(0<=E){var b=l[y].substring(0,E);O=l[y].substring(E+1)}else b=l[y];d(b,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zn(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Zn){this.h=l.h,fi(this,l.j),this.o=l.o,this.g=l.g,_r(this,l.s),this.l=l.l;var d=l.i,y=new Ln;y.i=d.i,d.g&&(y.g=new Map(d.g),y.h=d.h),Er(this,y),this.m=l.m}else l&&(d=String(l).match(hi))?(this.h=!1,fi(this,d[1]||"",!0),this.o=Ae(d[2]||""),this.g=Ae(d[3]||"",!0),_r(this,d[4]),this.l=Ae(d[5]||"",!0),Er(this,d[6]||"",!0),this.m=Ae(d[7]||"")):(this.h=!1,this.i=new Ln(null,this.h))}Zn.prototype.toString=function(){var l=[],d=this.j;d&&l.push(Tr(d,Xi,!0),":");var y=this.g;return(y||d=="file")&&(l.push("//"),(d=this.o)&&l.push(Tr(d,Xi,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(Tr(y,y.charAt(0)=="/"?ka:Pa,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",Tr(y,mo)),l.join("")};function Jt(l){return new Zn(l)}function fi(l,d,y){l.j=y?Ae(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function _r(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Er(l,d,y){d instanceof Ln?(l.i=d,On(l.i,l.h)):(y||(d=Tr(d,xa)),l.i=new Ln(d,l.h))}function Be(l,d,y){l.i.set(d,y)}function wr(l){return Be(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Ae(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function Tr(l,d,y){return typeof l=="string"?(l=encodeURI(l).replace(d,Ra),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Ra(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Xi=/[#\/\?@]/g,Pa=/[#\?:]/g,ka=/[#\?]/g,xa=/[#\?@]/g,mo=/#/g;function Ln(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&Tu(l.i,function(d,y){l.add(decodeURIComponent(d.replace(/\+/g," ")),y)}))}i=Ln.prototype,i.add=function(l,d){Tt(this),this.i=null,l=ln(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(d),this.h+=1,this};function En(l,d){Tt(l),d=ln(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function wn(l,d){return Tt(l),d=ln(l,d),l.g.has(d)}i.forEach=function(l,d){Tt(this),this.g.forEach(function(y,E){y.forEach(function(O){l.call(d,O,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),y=[];for(let E=0;E<d.length;E++){const O=l[E];for(let b=0;b<O.length;b++)y.push(d[E])}return y},i.V=function(l){Tt(this);let d=[];if(typeof l=="string")wn(this,l)&&(d=d.concat(this.g.get(ln(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)d=d.concat(l[y])}return d},i.set=function(l,d){return Tt(this),this.i=null,l=ln(this,l),wn(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},i.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Ir(l,d,y){En(l,d),0<y.length&&(l.i=null,l.g.set(ln(l,d),q(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var y=0;y<d.length;y++){var E=d[y];const b=encodeURIComponent(String(E)),Z=this.V(E);for(E=0;E<Z.length;E++){var O=b;Z[E]!==""&&(O+="="+encodeURIComponent(String(Z[E]))),l.push(O)}}return this.i=l.join("&")};function ln(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function On(l,d){d&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var O=E.toLowerCase();E!=O&&(En(this,E),Ir(this,O,y))},l)),l.j=d}function Iu(l,d){const y=new oi;if(m.Image){const E=new Image;E.onload=F(bt,y,"TestLoadImage: loaded",!0,d,E),E.onerror=F(bt,y,"TestLoadImage: error",!1,d,E),E.onabort=F(bt,y,"TestLoadImage: abort",!1,d,E),E.ontimeout=F(bt,y,"TestLoadImage: timeout",!1,d,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function Va(l,d){const y=new oi,E=new AbortController,O=setTimeout(()=>{E.abort(),bt(y,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(b=>{clearTimeout(O),b.ok?bt(y,"TestPingServer: ok",!0,d):bt(y,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(O),bt(y,"TestPingServer: error",!1,d)})}function bt(l,d,y,E,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),E(y)}catch{}}function Su(){this.g=new so}function Na(l,d,y){const E=y||"";try{vr(l,function(O,b){let Z=O;_(O)&&(Z=ro(O)),d.push(E+b+"="+encodeURIComponent(Z))})}catch(O){throw d.push(E+"type="+encodeURIComponent("_badmap")),O}}function er(l){this.l=l.Ub||null,this.j=l.eb||!1}j(er,ii),er.prototype.g=function(){return new di(this.l,this.j)},er.prototype.i=function(l){return function(){return l}}({});function di(l,d){ut.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(di,ut),i=di.prototype,i.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,In(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||m).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Da(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Da(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?Tn(this):In(this),this.readyState==3&&Da(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Tn(this))},i.Qa=function(l){this.g&&(this.response=l,Tn(this))},i.ga=function(){this.g&&Tn(this)};function Tn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,In(l)}i.setRequestHeader=function(l,d){this.u.append(l,d)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var y=d.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=d.next();return l.join(`\r
`)};function In(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function tr(l){let d="";return we(l,function(y,E){d+=E,d+=":",d+=y,d+=`\r
`}),d}function Sr(l,d,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=tr(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):Be(l,d,y))}function We(l){ut.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(We,ut);var Cu=/^https?$/i,go=["POST","PUT"];i=We.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,d,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vn.g(),this.v=this.o?ji(this.o):ji(vn),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(b){pi(this,b);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var O in E)y.set(O,E[O]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const b of E.keys())y.set(b,E.get(b));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(b=>b.toLowerCase()=="content-type"),O=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(go,d,void 0))||E||O||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,Z]of y)this.g.setRequestHeader(b,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zi(this),this.u=!0,this.g.send(l),this.u=!1}catch(b){pi(this,b)}};function pi(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ji(l),Zt(l)}function Ji(l){l.A||(l.A=!0,ct(l,"complete"),ct(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ct(this,"complete"),ct(this,"abort"),Zt(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Zt(this,!0)),We.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?yo(this):this.bb())},i.bb=function(){yo(this)};function yo(l){if(l.h&&typeof f<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)eo(l.Ea,0,l);else if(ct(l,"readystatechange"),$t(l)==4){l.h=!1;try{const Z=l.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var y;if(!(y=d)){var E;if(E=Z===0){var O=String(l.D).match(hi)[1]||null;!O&&m.self&&m.self.location&&(O=m.self.location.protocol.slice(0,-1)),E=!Cu.test(O?O.toLowerCase():"")}y=E}if(y)ct(l,"complete"),ct(l,"success");else{l.m=6;try{var b=2<$t(l)?l.g.statusText:""}catch{b=""}l.l=b+" ["+l.Z()+"]",Ji(l)}}finally{Zt(l)}}}}function Zt(l,d){if(l.g){Zi(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||ct(l,"ready");try{y.onreadystatechange=E}catch{}}}function Zi(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),io(d)}};function vo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function es(l){const d={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(ne(l[E]))continue;var y=N(l[E]);const O=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const b=d[O]||[];d[O]=b,b.push(y)}x(d,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mn(l,d,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||d}function _o(l){this.Aa=0,this.i=[],this.j=new oi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Mn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Mn("baseRetryDelayMs",5e3,l),this.cb=Mn("retryDelaySeedMs",1e4,l),this.Wa=Mn("forwardChannelMaxRetries",2,l),this.wa=Mn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new ci(l&&l.concurrentRequestLimit),this.Da=new Su,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=_o.prototype,i.la=8,i.G=1,i.connect=function(l,d,y,E){tt(0),this.W=l,this.H=d||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=Fa(this,null,this.W),Fn(this)};function It(l){if(ts(l),l.G==3){var d=l.U++,y=Jt(l.I);if(Be(y,"SID",l.K),Be(y,"RID",d),Be(y,"TYPE","terminate"),nr(l,y),d=new _n(l,l.j,d),d.L=2,d.v=wr(Jt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(d.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=d.v,y=!0),y||(d.g=Ua(d.j,null),d.g.ea(d.v)),d.F=Date.now(),be(d)}Ma(l)}function Sn(l){l.g&&(Eo(l),l.g.cancel(),l.g=null)}function ts(l){Sn(l),l.u&&(m.clearTimeout(l.u),l.u=null),is(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Fn(l){if(!Xt(l.h)&&!l.s){l.s=!0;var d=l.Ga;ze||re(),ee||(ze(),ee=!0),pe.add(d,l),l.B=0}}function Au(l,d){return Sa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=gn(R(l.Ga,l,d),Oa(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const O=new _n(this,this.j,l);let b=this.o;if(this.S&&(b?(b=T(b),k(b,this.S)):b=this.S),this.m!==null||this.O||(O.H=b,b=null),this.P)e:{for(var d=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=y;break e}if(d===4096||y===this.i.length-1){d=y+1;break e}}d=1e3}else d=1e3;d=Cr(this,O,d),y=Jt(this.I),Be(y,"RID",l),Be(y,"CVER",22),this.D&&Be(y,"X-HTTP-Session-Id",this.D),nr(this,y),b&&(this.O?d="headers="+encodeURIComponent(String(tr(b)))+"&"+d:this.m&&Sr(y,this.m,b)),po(this.h,O),this.Ua&&Be(y,"TYPE","init"),this.P?(Be(y,"$req",d),Be(y,"SID","null"),O.T=!0,Ki(O,y,null)):Ki(O,y,d),this.G=2}}else this.G==3&&(l?ns(this,l):this.i.length==0||Xt(this.h)||ns(this))};function ns(l,d){var y;d?y=d.l:y=l.U++;const E=Jt(l.I);Be(E,"SID",l.K),Be(E,"RID",y),Be(E,"AID",l.T),nr(l,E),l.m&&l.o&&Sr(E,l.m,l.o),y=new _n(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Cr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),po(l.h,y),Ki(y,E,d)}function nr(l,d){l.H&&we(l.H,function(y,E){Be(d,E,y)}),l.l&&vr({},function(y,E){Be(d,E,y)})}function Cr(l,d,y){y=Math.min(l.i.length,y);var E=l.l?R(l.l.Na,l.l,l):null;e:{var O=l.i;let b=-1;for(;;){const Z=["count="+y];b==-1?0<y?(b=O[0].g,Z.push("ofs="+b)):b=0:Z.push("ofs="+b);let Ue=!0;for(let ht=0;ht<y;ht++){let Pe=O[ht].g;const gt=O[ht].map;if(Pe-=b,0>Pe)b=Math.max(0,O[ht].g-100),Ue=!1;else try{Na(gt,Z,"req"+Pe+"_")}catch{E&&E(gt)}}if(Ue){E=Z.join("&");break e}}}return l=l.i.splice(0,y),d.D=l,E}function mi(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ze||re(),ee||(ze(),ee=!0),pe.add(d,l),l.v=0}}function rs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=gn(R(l.Fa,l),Oa(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,La(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=gn(R(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,tt(10),Sn(this),La(this))};function Eo(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function La(l){l.g=new _n(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=Jt(l.qa);Be(d,"RID","rpc"),Be(d,"SID",l.K),Be(d,"AID",l.T),Be(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Be(d,"TO",l.ja),Be(d,"TYPE","xmlhttp"),nr(l,d),l.m&&l.o&&Sr(d,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=wr(Jt(d)),y.m=null,y.P=!0,ho(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Sn(this),rs(this),tt(19))};function is(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ss(l,d){var y=null;if(l.g==d){is(l),Eo(l),l.g=null;var E=2}else if(Ut(l.h,d))y=d.D,Ca(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){y=d.m?d.m.length:0,d=Date.now()-d.F;var O=l.B;E=si(),ct(E,new qi(E,y)),Fn(l)}else mi(l);else if(O=d.s,O==3||O==0&&0<d.X||!(E==1&&Au(l,d)||E==2&&rs(l)))switch(y&&0<y.length&&(d=l.h,d.i=d.i.concat(y)),O){case 1:rr(l,5);break;case 4:rr(l,10);break;case 3:rr(l,6);break;default:rr(l,2)}}}function Oa(l,d){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*d}function rr(l,d){if(l.j.info("Error code "+d),d==2){var y=R(l.fb,l),E=l.Xa;const O=!E;E=new Zn(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||fi(E,"https"),wr(E),O?Iu(E.toString(),y):Va(E.toString(),y)}else tt(2);l.G=0,l.l&&l.l.sa(d),Ma(l),ts(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),tt(2)):(this.j.info("Failed to ping google.com"),tt(1))};function Ma(l){if(l.G=0,l.ka=[],l.l){const d=Aa(l.h);(d.length!=0||l.i.length!=0)&&(z(l.ka,d),z(l.ka,l.i),l.h.i.length=0,q(l.i),l.i.length=0),l.l.ra()}}function Fa(l,d,y){var E=y instanceof Zn?Jt(y):new Zn(y);if(E.g!="")d&&(E.g=d+"."+E.g),_r(E,E.s);else{var O=m.location;E=O.protocol,d=d?d+"."+O.hostname:O.hostname,O=+O.port;var b=new Zn(null);E&&fi(b,E),d&&(b.g=d),O&&_r(b,O),y&&(b.l=y),E=b}return y=l.D,d=l.ya,y&&d&&Be(E,y,d),Be(E,"VER",l.la),nr(l,E),E}function Ua(l,d,y){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new We(new er({eb:y})):new We(l.pa),d.Ha(l.J),d}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function wo(){}i=wo.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function os(){}os.prototype.g=function(l,d){return new zt(l,d)};function zt(l,d){ut.call(this),this.g=new _o(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!ne(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!ne(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Un(this)}j(zt,ut),zt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zt.prototype.close=function(){It(this.g)},zt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=ro(l),l=y);d.i.push(new Ia(d.Ya++,l)),d.G==3&&Fn(d)},zt.prototype.N=function(){this.g.l=null,delete this.j,It(this.g),delete this.g,zt.aa.N.call(this)};function za(l){Nn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const y in d){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}j(za,Nn);function Ba(){$i.call(this),this.status=1}j(Ba,$i);function Un(l){this.g=l}j(Un,wo),Un.prototype.ua=function(){ct(this.g,"a")},Un.prototype.ta=function(l){ct(this.g,new za(l))},Un.prototype.sa=function(l){ct(this.g,new Ba)},Un.prototype.ra=function(){ct(this.g,"b")},os.prototype.createWebChannel=os.prototype.g,zt.prototype.send=zt.prototype.o,zt.prototype.open=zt.prototype.m,zt.prototype.close=zt.prototype.close,vg=function(){return new os},yg=function(){return si()},gg=Dn,gh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,bl=Qi,_a.COMPLETE="complete",mg=_a,bi.EventType=on,on.OPEN="a",on.CLOSE="b",on.ERROR="c",on.MESSAGE="d",ut.prototype.listen=ut.prototype.K,Ko=bi,We.prototype.listenOnce=We.prototype.L,We.prototype.getLastError=We.prototype.Ka,We.prototype.getLastErrorCode=We.prototype.Ba,We.prototype.getStatus=We.prototype.Z,We.prototype.getResponseJson=We.prototype.Oa,We.prototype.getResponseText=We.prototype.oa,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Ha,pg=We}).apply(typeof Ol<"u"?Ol:typeof self<"u"?self:typeof window<"u"?window:{});const Gp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ot.UNAUTHENTICATED=new Ot(null),Ot.GOOGLE_CREDENTIALS=new Ot("google-credentials-uid"),Ot.FIRST_PARTY=new Ot("first-party-uid"),Ot.MOCK_USER=new Ot("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new ag("@firebase/firestore");function Ps(){return Di.logLevel}function ie(i,...e){if(Di.logLevel<=xe.DEBUG){const n=e.map(bh);Di.debug(`Firestore (${Hs}): ${i}`,...n)}}function pr(i,...e){if(Di.logLevel<=xe.ERROR){const n=e.map(bh);Di.error(`Firestore (${Hs}): ${i}`,...n)}}function Os(i,...e){if(Di.logLevel<=xe.WARN){const n=e.map(bh);Di.warn(`Firestore (${Hs}): ${i}`,...n)}}function bh(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Je(i,e){i||Ee()}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends qs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ot.UNAUTHENTICATED))}shutdown(){}}class KE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GE{constructor(e){this.t=e,this.currentUser=Ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let c=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Qr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const g=c;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Qr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string"),new _g(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new Ot(e)}}class YE{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Ot.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class XE{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new YE(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Je(this.o===void 0);const s=c=>{c.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.R;return this.R=c.token,ie("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const a=c=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>a(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?a(c):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Je(typeof n.token=="string"),this.R=n.token,new JE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=ew(40);for(let c=0;c<a.length;++c)s.length<20&&a[c]<n&&(s+=e.charAt(a[c]%e.length))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Ms(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{static now(){return wt.fromMillis(Date.now())}static fromDate(e){return wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new wt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{static fromTimestamp(e){return new _e(e)}static min(){return new _e(new wt(0,0))}static max(){return new _e(new wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return oa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof oa?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const c=e.get(a),f=n.get(a);if(c<f)return-1;if(c>f)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Qe extends oa{construct(e,n,s){return new Qe(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Qe(n)}static emptyPath(){return new Qe([])}}const tw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends oa{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return tw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ft(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const c=()=>{if(s.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(f=!f,a++):m!=="."||f?(s+=m,a++):(c(),a++)}if(c(),f)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(Qe.fromString(e))}static fromName(e){return new me(Qe.fromString(e).popFirst(5))}static empty(){return new me(Qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new Qe(e.slice()))}}function nw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=_e.fromTimestamp(s===1e9?new wt(n+1,0):new wt(n,s));return new Gr(a,me.empty(),e)}function rw(i){return new Gr(i.readTime,i.key,-1)}class Gr{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Gr(_e.min(),me.empty(),-1)}static max(){return new Gr(_e.max(),me.empty(),-1)}}function iw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=me.comparator(i.documentKey,e.documentKey),n!==0?n:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ow{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==sw)throw i;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((s,a)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,a)},this.catchCallback=c=>{this.wrapFailure(n,c).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,s)=>{n(e)})}static reject(e){return new Q((n,s)=>{s(e)})}static waitFor(e){return new Q((n,s)=>{let a=0,c=0,f=!1;e.forEach(m=>{++a,m.next(()=>{++c,f&&c===a&&n()},g=>s(g))}),f=!0,c===a&&n()})}static or(e){let n=Q.resolve(!1);for(const s of e)n=n.next(a=>a?Q.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,c)=>{s.push(n.call(this,a,c))}),this.waitFor(s)}static mapArray(e,n){return new Q((s,a)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const _=g;n(e[_]).next(w=>{f[_]=w,++m,m===c&&s(f)},w=>a(w))}})}static doWhile(e,n){return new Q((s,a)=>{const c=()=>{e()===!0?n().next(()=>{c()},a):s()};c()})}}function aw(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qs(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}au.oe=-1;function lu(i){return i==null}function Xl(i){return i===0&&1/i==-1/0}function lw(i){return typeof i=="number"&&Number.isInteger(i)&&!Xl(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Yp(e)),e=cw(i.get(n),e);return Yp(e)}function cw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const c=i.charAt(a);switch(c){case"\0":n+="";break;case"":n+="";break;default:n+=c}}return n}function Yp(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function Ws(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function wg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ml(this.root,e,this.comparator,!0)}}class Ml{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?s(e.key,n):1,n&&a&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,c){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=c??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,c){return new At(e??this.key,n??this.value,s??this.color,a??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const c=s(e,a.key);return a=c<0?a.copy(null,null,null,a.left.insert(e,n,s),null):c===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,a,c){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jp(this.data.getIterator())}getIteratorFrom(e){return new Jp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(this.comparator(a,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Jp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new br([])}unionWith(e){let n=new pt(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new br(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ms(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Tg("Invalid base64 string: "+c):c}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(a){let c="";for(let f=0;f<a.length;++f)c+=String.fromCharCode(a[f]);return c}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const hw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(i){if(Je(!!i),typeof i=="string"){let e=0;const n=hw.exec(i);if(Je(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:rt(i.seconds),nanos:rt(i.nanos)}}function rt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Xr(i){return typeof i=="string"?Rt.fromBase64String(i):Rt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uu(i){const e=i.mapValue.fields.__previous_value__;return $h(e)?uu(e):e}function aa(i){const e=Yr(i.mapValue.fields.__local_write_time__.timestampValue);return new wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(e,n,s,a,c,f,m,g,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=_}}class la{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new la("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof la&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Jr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$h(i)?4:pw(i)?9007199254740991:dw(i)?10:11:Ee()}function Hn(i,e){if(i===e)return!0;const n=Jr(i);if(n!==Jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return aa(i).isEqual(aa(e));case 3:return function(a,c){if(typeof a.timestampValue=="string"&&typeof c.timestampValue=="string"&&a.timestampValue.length===c.timestampValue.length)return a.timestampValue===c.timestampValue;const f=Yr(a.timestampValue),m=Yr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,c){return Xr(a.bytesValue).isEqual(Xr(c.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,c){return rt(a.geoPointValue.latitude)===rt(c.geoPointValue.latitude)&&rt(a.geoPointValue.longitude)===rt(c.geoPointValue.longitude)}(i,e);case 2:return function(a,c){if("integerValue"in a&&"integerValue"in c)return rt(a.integerValue)===rt(c.integerValue);if("doubleValue"in a&&"doubleValue"in c){const f=rt(a.doubleValue),m=rt(c.doubleValue);return f===m?Xl(f)===Xl(m):isNaN(f)&&isNaN(m)}return!1}(i,e);case 9:return Ms(i.arrayValue.values||[],e.arrayValue.values||[],Hn);case 10:case 11:return function(a,c){const f=a.mapValue.fields||{},m=c.mapValue.fields||{};if(Xp(f)!==Xp(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Hn(f[g],m[g])))return!1;return!0}(i,e);default:return Ee()}}function ua(i,e){return(i.values||[]).find(n=>Hn(n,e))!==void 0}function Fs(i,e){if(i===e)return 0;const n=Jr(i),s=Jr(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(c,f){const m=rt(c.integerValue||c.doubleValue),g=rt(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return Zp(i.timestampValue,e.timestampValue);case 4:return Zp(aa(i),aa(e));case 5:return Ve(i.stringValue,e.stringValue);case 6:return function(c,f){const m=Xr(c),g=Xr(f);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(c,f){const m=c.split("/"),g=f.split("/");for(let _=0;_<m.length&&_<g.length;_++){const w=Ve(m[_],g[_]);if(w!==0)return w}return Ve(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(c,f){const m=Ve(rt(c.latitude),rt(f.latitude));return m!==0?m:Ve(rt(c.longitude),rt(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return em(i.arrayValue,e.arrayValue);case 10:return function(c,f){var m,g,_,w;const A=c.fields||{},R=f.fields||{},F=(m=A.value)===null||m===void 0?void 0:m.arrayValue,j=(g=R.value)===null||g===void 0?void 0:g.arrayValue,q=Ve(((_=F==null?void 0:F.values)===null||_===void 0?void 0:_.length)||0,((w=j==null?void 0:j.values)===null||w===void 0?void 0:w.length)||0);return q!==0?q:em(F,j)}(i.mapValue,e.mapValue);case 11:return function(c,f){if(c===Fl.mapValue&&f===Fl.mapValue)return 0;if(c===Fl.mapValue)return 1;if(f===Fl.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),_=f.fields||{},w=Object.keys(_);g.sort(),w.sort();for(let A=0;A<g.length&&A<w.length;++A){const R=Ve(g[A],w[A]);if(R!==0)return R;const F=Fs(m[g[A]],_[w[A]]);if(F!==0)return F}return Ve(g.length,w.length)}(i.mapValue,e.mapValue);default:throw Ee()}}function Zp(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const n=Yr(i),s=Yr(e),a=Ve(n.seconds,s.seconds);return a!==0?a:Ve(n.nanos,s.nanos)}function em(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const c=Fs(n[a],s[a]);if(c)return c}return Ve(n.length,s.length)}function Us(i){return yh(i)}function yh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=Yr(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return Xr(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return me.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const c of n.values||[])a?a=!1:s+=",",s+=yh(c);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",c=!0;for(const f of s)c?c=!1:a+=",",a+=`${f}:${yh(n.fields[f])}`;return a+"}"}(i.mapValue):Ee()}function $l(i){switch(Jr(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uu(i);return e?16+$l(e):16;case 5:return 2*i.stringValue.length;case 6:return Xr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,c)=>a+$l(c),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return Ws(s.fields,(c,f)=>{a+=c.length+$l(f)}),a}(i.mapValue);default:throw Ee()}}function tm(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function vh(i){return!!i&&"integerValue"in i}function qh(i){return!!i&&"arrayValue"in i}function nm(i){return!!i&&"nullValue"in i}function rm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function rh(i){return!!i&&"mapValue"in i}function dw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Jo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Ws(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jo(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jo(i.arrayValue.values[n]);return e}return Object.assign({},i)}function pw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!rh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jo(n)}setAll(e){let n=Ft.emptyPath(),s={},a=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}f?s[m.lastSegment()]=Jo(f):a.push(m.lastSegment())});const c=this.getFieldsMap(n);this.applyChanges(c,s,a)}delete(e){const n=this.field(e.popLast());rh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];rh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){Ws(n,(a,c)=>e[a]=c);for(const a of s)delete e[a]}clone(){return new $n(Jo(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,s,a,c,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Mt(e,0,_e.min(),_e.min(),_e.min(),$n.empty(),0)}static newFoundDocument(e,n,s,a){return new Mt(e,1,n,_e.min(),s,a,0)}static newNoDocument(e,n){return new Mt(e,2,n,_e.min(),_e.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,_e.min(),_e.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_e.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_e.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.position=e,this.inclusive=n}}function im(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const c=e[a],f=i.position[a];if(c.field.isKeyField()?s=me.comparator(me.fromName(f.referenceValue),n.key):s=Fs(f,n.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function sm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Hn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n="asc"){this.field=e,this.dir=n}}function mw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{}class lt extends Ig{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new yw(e,n,s):n==="array-contains"?new Ew(e,s):n==="in"?new ww(e,s):n==="not-in"?new Tw(e,s):n==="array-contains-any"?new Iw(e,s):new lt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new vw(e,s):new _w(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fs(n,this.value)):n!==null&&Jr(this.value)===Jr(n)&&this.matchesComparison(Fs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vn extends Ig{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Vn(e,n)}matches(e){return Sg(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Sg(i){return i.op==="and"}function Cg(i){return gw(i)&&Sg(i)}function gw(i){for(const e of i.filters)if(e instanceof Vn)return!1;return!0}function _h(i){if(i instanceof lt)return i.field.canonicalString()+i.op.toString()+Us(i.value);if(Cg(i))return i.filters.map(e=>_h(e)).join(",");{const e=i.filters.map(n=>_h(n)).join(",");return`${i.op}(${e})`}}function Ag(i,e){return i instanceof lt?function(s,a){return a instanceof lt&&s.op===a.op&&s.field.isEqual(a.field)&&Hn(s.value,a.value)}(i,e):i instanceof Vn?function(s,a){return a instanceof Vn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((c,f,m)=>c&&Ag(f,a.filters[m]),!0):!1}(i,e):void Ee()}function Rg(i){return i instanceof lt?function(n){return`${n.field.canonicalString()} ${n.op} ${Us(n.value)}`}(i):i instanceof Vn?function(n){return n.op.toString()+" {"+n.getFilters().map(Rg).join(" ,")+"}"}(i):"Filter"}class yw extends lt{constructor(e,n,s){super(e,n,s),this.key=me.fromName(s.referenceValue)}matches(e){const n=me.comparator(e.key,this.key);return this.matchesComparison(n)}}class vw extends lt{constructor(e,n){super(e,"in",n),this.keys=Pg("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class _w extends lt{constructor(e,n){super(e,"not-in",n),this.keys=Pg("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Pg(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>me.fromName(s.referenceValue))}class Ew extends lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qh(n)&&ua(n.arrayValue,this.value)}}class ww extends lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ua(this.value.arrayValue,n)}}class Tw extends lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ua(this.value.arrayValue,n)}}class Iw extends lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ua(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n=null,s=[],a=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=c,this.startAt=f,this.endAt=m,this.ue=null}}function om(i,e=null,n=[],s=[],a=null,c=null,f=null){return new Sw(i,e,n,s,a,c,f)}function Hh(i){const e=Ne(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>_h(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),lu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Us(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Us(s)).join(",")),e.ue=n}return e.ue}function Qh(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!mw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Ag(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!sm(i.startAt,e.startAt)&&sm(i.endAt,e.endAt)}function Eh(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n=null,s=[],a=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Cw(i,e,n,s,a,c,f,m){return new pa(i,e,n,s,a,c,f,m)}function Wh(i){return new pa(i)}function am(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function kg(i){return i.collectionGroup!==null}function Zo(i){const e=Ne(i);if(e.ce===null){e.ce=[];const n=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),n.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new pt(Ft.comparator);return f.filters.forEach(g=>{g.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(c=>{n.has(c.canonicalString())||c.isKeyField()||e.ce.push(new Zl(c,s))}),n.has(Ft.keyField().canonicalString())||e.ce.push(new Zl(Ft.keyField(),s))}return e.ce}function qn(i){const e=Ne(i);return e.le||(e.le=Aw(e,Zo(i))),e.le}function Aw(i,e){if(i.limitType==="F")return om(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const c=a.dir==="desc"?"asc":"desc";return new Zl(a.field,c)});const n=i.endAt?new Jl(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Jl(i.startAt.position,i.startAt.inclusive):null;return om(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function wh(i,e){const n=i.filters.concat([e]);return new pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Th(i,e,n){return new pa(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function cu(i,e){return Qh(qn(i),qn(e))&&i.limitType===e.limitType}function xg(i){return`${Hh(qn(i))}|lt:${i.limitType}`}function ks(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>Rg(a)).join(", ")}]`),lu(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>Us(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>Us(a)).join(",")),`Target(${s})`}(qn(i))}; limitType=${i.limitType})`}function hu(i,e){return e.isFoundDocument()&&function(s,a){const c=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):me.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(i,e)&&function(s,a){for(const c of Zo(s))if(!c.field.isKeyField()&&a.data.field(c.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const c of s.filters)if(!c.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(f,m,g){const _=im(f,m,g);return f.inclusive?_<=0:_<0}(s.startAt,Zo(s),a)||s.endAt&&!function(f,m,g){const _=im(f,m,g);return f.inclusive?_>=0:_>0}(s.endAt,Zo(s),a))}(i,e)}function Rw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Vg(i){return(e,n)=>{let s=!1;for(const a of Zo(i)){const c=Pw(a,e,n);if(c!==0)return c;s=s||a.field.isKeyField()}return 0}}function Pw(i,e,n){const s=i.field.isKeyField()?me.comparator(e.key,n.key):function(c,f,m){const g=f.data.field(c),_=m.data.field(c);return g!==null&&_!==null?Fs(g,_):Ee()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,c]of s)if(this.equalsFn(a,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let c=0;c<a.length;c++)if(this.equalsFn(a[c][0],e))return void(a[c]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ws(this.inner,(n,s)=>{for(const[a,c]of s)e(a,c)})}isEmpty(){return wg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new it(me.comparator);function Zr(){return kw}const Ng=new it(me.comparator);function Go(...i){let e=Ng;for(const n of i)e=e.insert(n.key,n);return e}function xw(i){let e=Ng;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function xi(){return ea()}function Dg(){return ea()}function ea(){return new Oi(i=>i.toString(),(i,e)=>i.isEqual(e))}const Vw=new pt(me.comparator);function Le(...i){let e=Vw;for(const n of i)e=e.add(n);return e}const Nw=new pt(Ve);function Dw(){return Nw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Xl(e)?"-0":e}}function Lg(i){return{integerValue:""+i}}function Lw(i,e){return lw(e)?Lg(e):Kh(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(){this._=void 0}}function Ow(i,e,n){return i instanceof Ih?function(a,c){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return c&&$h(c)&&(c=uu(c)),c&&(f.fields.__previous_value__=c),{mapValue:f}}(n,e):i instanceof eu?Og(i,e):i instanceof tu?Mg(i,e):function(a,c){const f=Fw(a,c),m=lm(f)+lm(a.Pe);return vh(f)&&vh(a.Pe)?Lg(m):Kh(a.serializer,m)}(i,e)}function Mw(i,e,n){return i instanceof eu?Og(i,e):i instanceof tu?Mg(i,e):n}function Fw(i,e){return i instanceof Sh?function(s){return vh(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class Ih extends fu{}class eu extends fu{constructor(e){super(),this.elements=e}}function Og(i,e){const n=Fg(e);for(const s of i.elements)n.some(a=>Hn(a,s))||n.push(s);return{arrayValue:{values:n}}}class tu extends fu{constructor(e){super(),this.elements=e}}function Mg(i,e){let n=Fg(e);for(const s of i.elements)n=n.filter(a=>!Hn(a,s));return{arrayValue:{values:n}}}class Sh extends fu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function lm(i){return rt(i.integerValue||i.doubleValue)}function Fg(i){return qh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Uw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof eu&&a instanceof eu||s instanceof tu&&a instanceof tu?Ms(s.elements,a.elements,Hn):s instanceof Sh&&a instanceof Sh?Hn(s.Pe,a.Pe):s instanceof Ih&&a instanceof Ih}(i.transform,e.transform)}class Ni{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ql(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Gh{}function Ug(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Bw(i.key,Ni.none()):new Yh(i.key,i.data,Ni.none());{const n=i.data,s=$n.empty();let a=new pt(Ft.comparator);for(let c of e.fields)if(!a.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?s.delete(c):s.set(c,f),a=a.add(c)}return new du(i.key,s,new br(a.toArray()),Ni.none())}}function zw(i,e,n){i instanceof Yh?function(a,c,f){const m=a.value.clone(),g=cm(a.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(i,e,n):i instanceof du?function(a,c,f){if(!ql(a.precondition,c))return void c.convertToUnknownDocument(f.version);const m=cm(a.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(zg(a)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()}(i,e,n):function(a,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ta(i,e,n,s){return i instanceof Yh?function(c,f,m,g){if(!ql(c.precondition,f))return m;const _=c.value.clone(),w=hm(c.fieldTransforms,g,f);return _.setAll(w),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(i,e,n,s):i instanceof du?function(c,f,m,g){if(!ql(c.precondition,f))return m;const _=hm(c.fieldTransforms,g,f),w=f.data;return w.setAll(zg(c)),w.setAll(_),f.convertToFoundDocument(f.version,w).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(A=>A.field))}(i,e,n,s):function(c,f,m){return ql(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(i,e,n)}function um(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Ms(s,a,(c,f)=>Uw(c,f))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Yh extends Gh{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class du extends Gh{constructor(e,n,s,a,c=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function zg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function cm(i,e,n){const s=new Map;Je(i.length===n.length);for(let a=0;a<n.length;a++){const c=i[a],f=c.transform,m=e.data.field(c.field);s.set(c.field,Mw(f,m,n[a]))}return s}function hm(i,e,n){const s=new Map;for(const a of i){const c=a.transform,f=n.data.field(a.field);s.set(a.field,Ow(c,f,e))}return s}class Bw extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const c=this.mutations[a];c.key.isEqual(e.key)&&zw(c,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ta(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Dg();return this.mutations.forEach(a=>{const c=e.get(a.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(a.key)?null:m;const g=Ug(f,m);g!==null&&s.set(a.key,g),f.isValidDocument()||f.convertToNoDocument(_e.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Le())}isEqual(e){return this.batchId===e.batchId&&Ms(this.mutations,e.mutations,(n,s)=>um(n,s))&&Ms(this.baseMutations,e.baseMutations,(n,s)=>um(n,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,ke;function Bg(i){if(i===void 0)return pr("GRPC error has no .code"),X.UNKNOWN;switch(i){case at.OK:return X.OK;case at.CANCELLED:return X.CANCELLED;case at.UNKNOWN:return X.UNKNOWN;case at.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case at.INTERNAL:return X.INTERNAL;case at.UNAVAILABLE:return X.UNAVAILABLE;case at.UNAUTHENTICATED:return X.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case at.NOT_FOUND:return X.NOT_FOUND;case at.ALREADY_EXISTS:return X.ALREADY_EXISTS;case at.PERMISSION_DENIED:return X.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case at.ABORTED:return X.ABORTED;case at.OUT_OF_RANGE:return X.OUT_OF_RANGE;case at.UNIMPLEMENTED:return X.UNIMPLEMENTED;case at.DATA_LOSS:return X.DATA_LOSS;default:return Ee()}}(ke=at||(at={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hw=new Vi([4294967295,4294967295],0);function fm(i){const e=qw().encode(i),n=new dg;return n.update(e),new Uint8Array(n.digest())}function dm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Vi([n,s],0),new Vi([a,c],0)]}class Xh{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yo(`Invalid padding: ${n}`);if(s<0)throw new Yo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yo(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=Vi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(Vi.fromNumber(s)));return a.compare(Hw)===1&&(a=new Vi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=fm(e),[s,a]=dm(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);if(!this.de(f))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Xh(c,a,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Te===0)return;const n=fm(e),[s,a]=dm(n);for(let c=0;c<this.hashCount;c++){const f=this.Ee(s,a,c);this.Ae(f)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n,s,a,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,ma.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new pu(_e.min(),a,new it(Ve),Zr(),Le())}}class ma{constructor(e,n,s,a,c){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ma(s,n,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class jg{constructor(e,n){this.targetId=e,this.me=n}}class bg{constructor(e,n,s=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class pm{constructor(){this.fe=0,this.ge=mm(),this.pe=Rt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),n=Le(),s=Le();return this.ge.forEach((a,c)=>{switch(c){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:Ee()}}),new ma(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=mm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qw{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=Ul(),this.Qe=Ul(),this.Ke=new it(Ve)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const c=a.target;if(Eh(c))if(s===0){const f=new me(c.path);this.We(n,f,Mt.newNoDocument(f,_e.min()))}else Je(s===1);else{const f=this.Ze(n);if(f!==s){const m=this.Xe(e),g=m?this.et(m,e,f):1;if(g!==0){this.He(n);const _=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,_)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:c=0}=n;let f,m;try{f=Xr(s).toUint8Array()}catch(g){if(g instanceof Tg)return Os("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Xh(f,a,c)}catch(g){return Os(g instanceof Yo?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(c=>{const f=this.Le.nt(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.We(n,c,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((c,f)=>{const m=this.Ye(f);if(m){if(c.current&&Eh(m.target)){const g=new me(m.target.path);this.st(g).has(f)||this.ot(f,g)||this.We(f,g,Mt.newNoDocument(g,e))}c.be&&(n.set(f,c.ve()),c.Ce())}});let s=Le();this.Qe.forEach((c,f)=>{let m=!0;f.forEachWhile(g=>{const _=this.Ye(g);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(c))}),this.ke.forEach((c,f)=>f.setReadTime(e));const a=new pu(e,n,this.Ke,this.ke,s);return this.ke=Zr(),this.qe=Ul(),this.Qe=Ul(),this.Ke=new it(Ve),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new pm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new pt(Ve),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new pt(Ve),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ie("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new pm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ul(){return new it(me.comparator)}function mm(){return new it(me.comparator)}const Ww={asc:"ASCENDING",desc:"DESCENDING"},Kw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gw={and:"AND",or:"OR"};class Yw{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ch(i,e){return i.useProto3Json||lu(e)?e:{value:e}}function Ah(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function $g(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ds(i){return Je(!!i),_e.fromTimestamp(function(n){const s=Yr(n);return new wt(s.seconds,s.nanos)}(i))}function qg(i,e){return Rh(i,e).canonicalString()}function Rh(i,e){const n=function(a){return new Qe(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Hg(i){const e=Qe.fromString(i);return Je(Yg(e)),e}function ih(i,e){const n=Hg(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new me(Wg(n))}function Qg(i,e){return qg(i.databaseId,e)}function Xw(i){const e=Hg(i);return e.length===4?Qe.emptyPath():Wg(e)}function gm(i){return new Qe(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Wg(i){return Je(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Jw(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],c=function(_,w){return _.useProto3Json?(Je(w===void 0||typeof w=="string"),Rt.fromBase64String(w||"")):(Je(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Rt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const w=_.code===void 0?X.UNKNOWN:Bg(_.code);return new ue(w,_.message||"")}(f);n=new bg(s,a,c,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=ih(i,s.document.name),c=Ds(s.document.updateTime),f=s.document.createTime?Ds(s.document.createTime):_e.min(),m=new $n({mapValue:{fields:s.document.fields}}),g=Mt.newFoundDocument(a,c,f,m),_=s.targetIds||[],w=s.removedTargetIds||[];n=new Hl(_,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=ih(i,s.document),c=s.readTime?Ds(s.readTime):_e.min(),f=Mt.newNoDocument(a,c),m=s.removedTargetIds||[];n=new Hl([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=ih(i,s.document),c=s.removedTargetIds||[];n=new Hl([],c,a,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:c}=s,f=new $w(a,c),m=s.targetId;n=new jg(m,f)}}return n}function Zw(i,e){return{documents:[Qg(i,e.path)]}}function e1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Qg(i,a);const c=function(_){if(_.length!==0)return Gg(Vn.create(_,"and"))}(e.filters);c&&(n.structuredQuery.where=c);const f=function(_){if(_.length!==0)return _.map(w=>function(R){return{field:xs(R.field),direction:r1(R.dir)}}(w))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Ch(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ct:n,parent:a}}function t1(i){let e=Xw(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){Je(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let c=[];n.where&&(c=function(A){const R=Kg(A);return R instanceof Vn&&Cg(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(j){return new Zl(Vs(j.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,lu(R)?null:R}(n.limit));let g=null;n.startAt&&(g=function(A){const R=!!A.before,F=A.values||[];return new Jl(F,R)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const R=!A.before,F=A.values||[];return new Jl(F,R)}(n.endAt)),Cw(e,a,f,c,m,"F",g,_)}function n1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kg(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Vs(n.unaryFilter.field);return lt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=Vs(n.unaryFilter.field);return lt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Vs(n.unaryFilter.field);return lt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Vs(n.unaryFilter.field);return lt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(i):i.fieldFilter!==void 0?function(n){return lt.create(Vs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Vn.create(n.compositeFilter.filters.map(s=>Kg(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(i):Ee()}function r1(i){return Ww[i]}function i1(i){return Kw[i]}function s1(i){return Gw[i]}function xs(i){return{fieldPath:i.canonicalString()}}function Vs(i){return Ft.fromServerFormat(i.fieldPath)}function Gg(i){return i instanceof lt?function(n){if(n.op==="=="){if(rm(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(nm(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rm(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(nm(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:i1(n.op),value:n.value}}}(i):i instanceof Vn?function(n){const s=n.getFilters().map(a=>Gg(a));return s.length===1?s[0]:{compositeFilter:{op:s1(n.op),filters:s}}}(i):Ee()}function Yg(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,n,s,a,c=_e.min(),f=_e.min(),m=Rt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new $r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.ht=e}}function a1(i){const e=t1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Th(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.ln=new u1}addToCollectionParentIndex(e,n){return this.ln.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Gr.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Gr.min())}updateCollectionGroup(e,n,s){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class u1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new pt(Qe.comparator),c=!a.has(s);return this.index[n]=a.add(s),c}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new pt(Qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yt{static withCacheSize(e){return new Yt(e,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yt.DEFAULT_COLLECTION_PERCENTILE=10,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yt.DEFAULT=new Yt(41943040,Yt.DEFAULT_COLLECTION_PERCENTILE,Yt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yt.DISABLED=new Yt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new zs(0)}static Qn(){return new zs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm([i,e],[n,s]){const a=Ve(i,n);return a===0?Ve(e,s):a}class c1{constructor(e){this.Gn=e,this.buffer=new pt(vm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();vm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ie("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qs(n)?ie("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await ou(n)}await this.Yn(3e5)})}}class f1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(au.oe);const s=new c1(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(ym)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ym):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,c,f,m,g,_;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),a=this.params.maximumSequenceNumbersToCollect):a=A,f=Date.now(),this.nthSequenceNumber(e,a))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(c=A,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(_=Date.now(),Ps()<=xe.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-w}ms
	Determined least recently used ${a} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${A} documents in `+(_-g)+`ms
Total Duration: ${_-w}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:c,documentsRemoved:A})))}}function d1(i,e){return new f1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Q.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&ta(s.mutation,a,br.empty(),wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Le()){const a=xi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(c=>{let f=Go();return c.forEach((m,g)=>{f=f.insert(m,g.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=xi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Le()))}populateOverlays(e,n,s){const a=[];return s.forEach(c=>{n.has(c)||a.push(c)}),this.documentOverlayCache.getOverlays(e,a).next(c=>{c.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,a){let c=Zr();const f=ea(),m=function(){return ea()}();return n.forEach((g,_)=>{const w=s.get(_.key);a.has(_.key)&&(w===void 0||w.mutation instanceof du)?c=c.insert(_.key,_):w!==void 0?(f.set(_.key,w.mutation.getFieldMask()),ta(w.mutation,_,w.mutation.getFieldMask(),wt.now())):f.set(_.key,br.empty())}),this.recalculateAndSaveOverlays(e,c).next(g=>(g.forEach((_,w)=>f.set(_,w)),n.forEach((_,w)=>{var A;return m.set(_,new m1(w,(A=f.get(_))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ea();let a=new it((f,m)=>f-m),c=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(g=>{const _=n.get(g);if(_===null)return;let w=s.get(g)||br.empty();w=m.applyToLocalView(_,w),s.set(g,w);const A=(a.get(m.batchId)||Le()).add(g);a=a.insert(m.batchId,A)})}).next(()=>{const f=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),_=g.key,w=g.value,A=Dg();w.forEach(R=>{if(!c.has(R)){const F=Ug(n.get(R),s.get(R));F!==null&&A.set(R,F),c=c.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,A))}return Q.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(f){return me.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(c=>{const f=a-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-c.size):Q.resolve(xi());let m=-1,g=c;return f.next(_=>Q.forEach(_,(w,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),c.get(w)?Q.resolve():this.remoteDocumentCache.getEntry(e,w).next(R=>{g=g.insert(w,R)}))).next(()=>this.populateOverlays(e,_,c)).next(()=>this.computeViews(e,g,_,Le())).next(w=>({batchId:m,changes:xw(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new me(n)).next(s=>{let a=Go();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const c=n.collectionGroup;let f=Go();return this.indexManager.getCollectionParents(e,c).next(m=>Q.forEach(m,g=>{const _=function(A,R){return new pa(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,s,a).next(w=>{w.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,a){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,c,a))).next(f=>{c.forEach((g,_)=>{const w=_.getKey();f.get(w)===null&&(f=f.insert(w,Mt.newInvalidDocument(w)))});let m=Go();return f.forEach((g,_)=>{const w=c.get(g);w!==void 0&&ta(w.mutation,_,br.empty(),wt.now()),hu(n,_)&&(m=m.insert(g,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return Q.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Ds(a.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:a1(a.bundledQuery),readTime:Ds(a.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(){this.overlays=new it(me.comparator),this.Er=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const s=xi();return Q.forEach(n,a=>this.getOverlay(e,a).next(c=>{c!==null&&s.set(a,c)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,c)=>{this.Tt(e,n,c)}),Q.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(c=>this.overlays=this.overlays.remove(c)),this.Er.delete(s)),Q.resolve()}getOverlaysForCollection(e,n,s){const a=xi(),c=n.length+1,f=new me(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,_=g.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&g.largestBatchId>s&&a.set(g.getKey(),g)}return Q.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let c=new it((_,w)=>_-w);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let w=c.get(_.largestBatchId);w===null&&(w=xi(),c=c.insert(_.largestBatchId,w)),w.set(_.getKey(),_)}}const m=xi(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((_,w)=>m.set(_,w)),!(m.size()>=a)););return Q.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const f=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new bw(n,s));let c=this.Er.get(n);c===void 0&&(c=Le(),this.Er.set(n,c)),this.Er.set(n,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this.dr=new pt(Et.Ar),this.Rr=new pt(Et.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new Et(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new Et(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new me(new Qe([])),s=new Et(n,e),a=new Et(n,e+1),c=[];return this.Rr.forEachInRange([s,a],f=>{this.gr(f),c.push(f.key)}),c}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new me(new Qe([])),s=new Et(n,e),a=new Et(n,e+1);let c=Le();return this.Rr.forEachInRange([s,a],f=>{c=c.add(f.key)}),c}containsKey(e){const n=new Et(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Et{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return me.comparator(e.key,n.key)||Ve(e.br,n.br)}static Vr(e,n){return Ve(e.br,n.br)||me.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new pt(Et.Ar)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const c=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jw(c,n,s,a);this.mutationQueue.push(f);for(const m of a)this.vr=this.vr.add(new Et(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Q.resolve(f)}lookupMutationBatch(e,n){return Q.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),c=a<0?0:a;return Q.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Et(n,0),a=new Et(n,Number.POSITIVE_INFINITY),c=[];return this.vr.forEachInRange([s,a],f=>{const m=this.Cr(f.br);c.push(m)}),Q.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(Ve);return n.forEach(a=>{const c=new Et(a,0),f=new Et(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([c,f],m=>{s=s.add(m.br)})}),Q.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let c=s;me.isDocumentKey(c)||(c=c.child(""));const f=new Et(new me(c),0);let m=new pt(Ve);return this.vr.forEachWhile(g=>{const _=g.key.path;return!!s.isPrefixOf(_)&&(_.length===a&&(m=m.add(g.br)),!0)},f),Q.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Je(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return Q.forEach(n.mutations,a=>{const c=new Et(a.key,n.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new Et(n,0),a=this.vr.firstAfterOrEqual(s);return Q.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e){this.Nr=e,this.docs=function(){return new it(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),c=a?a.size:0,f=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Q.resolve(s?s.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let s=Zr();return n.forEach(a=>{const c=this.docs.get(a);s=s.insert(a,c?c.document.mutableCopy():Mt.newInvalidDocument(a))}),Q.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let c=Zr();const f=n.path,m=new me(f.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:_,value:{document:w}}=g.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||iw(rw(w),s)<=0||(a.has(w.key)||hu(n,w))&&(c=c.insert(w.key,w.mutableCopy()))}return Q.resolve(c)}getAllFromCollectionGroup(e,n,s,a){Ee()}Lr(e,n){return Q.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new T1(this)}getSize(e){return Q.resolve(this.size)}}class T1 extends p1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),Q.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e){this.persistence=e,this.Br=new Oi(n=>Hh(n),Qh),this.lastRemoteSnapshotVersion=_e.min(),this.highestTargetId=0,this.kr=0,this.qr=new Jh,this.targetCount=0,this.Qr=zs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),Q.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new zs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.Un(n),Q.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,s){let a=0;const c=[];return this.Br.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),Q.waitFor(c).next(()=>a)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return Q.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),Q.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,c=[];return a&&n.forEach(f=>{c.push(a.markPotentiallyOrphaned(e,f))}),Q.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return Q.resolve(s)}containsKey(e,n){return Q.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n){this.Kr={},this.overlays={},this.$r=new au(0),this.Ur=!1,this.Ur=!0,this.Wr=new _1,this.referenceDelegate=e(this),this.Gr=new I1(this),this.indexManager=new l1,this.remoteDocumentCache=function(a){return new w1(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new o1(n),this.jr=new y1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new E1(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ie("MemoryPersistence","Starting transaction:",e);const a=new S1(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(c=>this.referenceDelegate.Jr(a).next(()=>c)).toPromise().then(c=>(a.raiseOnCommittedEvent(),c))}Yr(e,n){return Q.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class S1 extends ow{constructor(e){super(),this.currentSequenceNumber=e}}class Zh{constructor(e){this.persistence=e,this.Zr=new Jh,this.Xr=null}static ei(e){return new Zh(e)}get ti(){if(this.Xr)return this.Xr;throw Ee()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),Q.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),Q.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(c=>this.ti.add(c.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ti,s=>{const a=me.fromPath(s);return this.ni(e,a).next(c=>{c||n.removeEntry(a,_e.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return Q.or([()=>Q.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class nu{constructor(e,n){this.persistence=e,this.ri=new Oi(s=>uw(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=d1(this,n)}static ei(e,n){return new nu(e,n)}Hr(){}Jr(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return Q.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(c=>c?Q.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),c=a.newChangeBuffer();return a.Lr(e,f=>this.ir(e,f,n).next(m=>{m||(s++,c.removeEntry(f,_e.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),Q.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=$l(e.data.value)),n}ir(e,n,s){return Q.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return Q.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Le(),a=Le();for(const c of n.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:a=a.add(c.doc.key)}return new ef(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return V0()?8:aw(k0())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const c={result:null};return this.Xi(e,n).next(f=>{c.result=f}).next(()=>{if(!c.result)return this.es(e,n,a,s).next(f=>{c.result=f})}).next(()=>{if(c.result)return;const f=new C1;return this.ts(e,n,f).next(m=>{if(c.result=m,this.Hi)return this.ns(e,n,f,m.size)})}).next(()=>c.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Ps()<=xe.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),Q.resolve()):(Ps()<=xe.DEBUG&&ie("QueryEngine","Query:",ks(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Ps()<=xe.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,qn(n))):Q.resolve())}Xi(e,n){if(am(n))return Q.resolve(null);let s=qn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Th(n,null,"F"),s=qn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const f=Le(...c);return this.Zi.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const _=this.rs(n,m);return this.ss(n,_,f,g.readTime)?this.Xi(e,Th(n,null,"F")):this.os(e,_,n,g)}))})))}es(e,n,s,a){return am(n)||a.isEqual(_e.min())?Q.resolve(null):this.Zi.getDocuments(e,s).next(c=>{const f=this.rs(n,c);return this.ss(n,f,s,a)?Q.resolve(null):(Ps()<=xe.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),ks(n)),this.os(e,f,n,nw(a,-1)).next(m=>m))})}rs(e,n){let s=new pt(Vg(e));return n.forEach((a,c)=>{hu(e,c)&&(s=s.add(c))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(a)>0)}ts(e,n,s){return Ps()<=xe.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",ks(n)),this.Zi.getDocumentsMatchingQuery(e,n,Gr.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(c=>(n.forEach(f=>{c=c.insert(f.key,f)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new it(Ve),this.cs=new Oi(c=>Hh(c),Qh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new g1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function P1(i,e,n,s){return new R1(i,e,n,s)}async function Jg(i,e){const n=Ne(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(c=>(a=c,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(c=>{const f=[],m=[];let g=Le();for(const _ of a){f.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}for(const _ of c){m.push(_.batchId);for(const w of _.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(_=>({Ts:_,removedBatchIds:f,addedBatchIds:m}))})})}function Zg(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function k1(i,e){const n=Ne(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const f=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,A)=>{const R=a.get(A);if(!R)return;m.push(n.Gr.removeMatchingKeys(c,w.removedDocuments,A).next(()=>n.Gr.addMatchingKeys(c,w.addedDocuments,A)));let F=R.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(A)!==null?F=F.withResumeToken(Rt.EMPTY_BYTE_STRING,_e.min()).withLastLimboFreeSnapshotVersion(_e.min()):w.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(w.resumeToken,s)),a=a.insert(A,F),function(q,z,G){return q.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,F,w)&&m.push(n.Gr.updateTargetData(c,F))});let g=Zr(),_=Le();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,w))}),m.push(x1(c,f,e.documentUpdates).next(w=>{g=w.Is,_=w.Es})),!s.isEqual(_e.min())){const w=n.Gr.getLastRemoteSnapshotVersion(c).next(A=>n.Gr.setTargetsMetadata(c,c.currentSequenceNumber,s));m.push(w)}return Q.waitFor(m).next(()=>f.apply(c)).next(()=>n.localDocuments.getLocalViewOfDocuments(c,g,_)).next(()=>g)}).then(c=>(n.us=a,c))}function x1(i,e,n){let s=Le(),a=Le();return n.forEach(c=>s=s.add(c)),e.getEntries(i,s).next(c=>{let f=Zr();return n.forEach((m,g)=>{const _=c.get(m);g.isFoundDocument()!==_.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(_e.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!_.isValidDocument()||g.version.compareTo(_.version)>0||g.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):ie("LocalStore","Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",g.version)}),{Is:f,Es:a}})}function V1(i,e){const n=Ne(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(c=>c?(a=c,Q.resolve(a)):n.Gr.allocateTargetId(s).next(f=>(a=new $r(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Ph(i,e,n){const s=Ne(i),a=s.us.get(e),c=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",c,f=>s.persistence.referenceDelegate.removeTarget(f,a))}catch(f){if(!Qs(f))throw f;ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${f}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function _m(i,e,n){const s=Ne(i);let a=_e.min(),c=Le();return s.persistence.runTransaction("Execute query","readwrite",f=>function(g,_,w){const A=Ne(g),R=A.cs.get(w);return R!==void 0?Q.resolve(A.us.get(R)):A.Gr.getTargetData(_,w)}(s,f,qn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(f,m.targetId).next(g=>{c=g})}).next(()=>s._s.getDocumentsMatchingQuery(f,e,n?a:_e.min(),n?c:Le())).next(m=>(N1(s,Rw(e),m),{documents:m,ds:c})))}function N1(i,e,n){let s=i.ls.get(e)||_e.min();n.forEach((a,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),i.ls.set(e,s)}class Em{constructor(){this.activeTargetIds=Dw()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class D1{constructor(){this._o=new Em,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Em,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl=null;function sh(){return zl===null?zl=function(){return 268435456+Math.round(2147483648*Math.random())}():zl++,"0x"+zl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class F1 extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${c}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${c}`}Oo(n,s,a,c,f){const m=sh(),g=this.No(n,s.toUriEncodedString());ie("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const _={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(_,c,f),this.Bo(n,g,_,a).then(w=>(ie("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw Os("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,c,f,m){return this.Oo(n,s,a,c,f)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((c,f)=>n[f]=c),a&&a.headers.forEach((c,f)=>n[f]=c)}No(n,s){const a=O1[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const c=sh();return new Promise((f,m)=>{const g=new pg;g.setWithCredentials(!0),g.listenOnce(mg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case bl.NO_ERROR:const w=g.getResponseJson();ie(Lt,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(w)),f(w);break;case bl.TIMEOUT:ie(Lt,`RPC '${e}' ${c} timed out`),m(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case bl.HTTP_ERROR:const A=g.getStatus();if(ie(Lt,`RPC '${e}' ${c} failed with status:`,A,"response text:",g.getResponseText()),A>0){let R=g.getResponseJson();Array.isArray(R)&&(R=R[0]);const F=R==null?void 0:R.error;if(F&&F.status&&F.message){const j=function(z){const G=z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(G)>=0?G:X.UNKNOWN}(F.status);m(new ue(j,F.message))}else m(new ue(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new ue(X.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ie(Lt,`RPC '${e}' ${c} completed.`)}});const _=JSON.stringify(a);ie(Lt,`RPC '${e}' ${c} sending request:`,a),g.send(n,"POST",_,s,15)})}qo(e,n,s){const a=sh(),c=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=vg(),m=yg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(g.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=c.join("");ie(Lt,`Creating RPC '${e}' stream ${a}: ${w}`,g);const A=f.createWebChannel(w,g);let R=!1,F=!1;const j=new M1({Eo:z=>{F?ie(Lt,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(R||(ie(Lt,`Opening RPC '${e}' stream ${a} transport.`),A.open(),R=!0),ie(Lt,`RPC '${e}' stream ${a} sending:`,z),A.send(z))},Ao:()=>A.close()}),q=(z,G,ne)=>{z.listen(G,oe=>{try{ne(oe)}catch(de){setTimeout(()=>{throw de},0)}})};return q(A,Ko.EventType.OPEN,()=>{F||(ie(Lt,`RPC '${e}' stream ${a} transport opened.`),j.So())}),q(A,Ko.EventType.CLOSE,()=>{F||(F=!0,ie(Lt,`RPC '${e}' stream ${a} transport closed`),j.Do())}),q(A,Ko.EventType.ERROR,z=>{F||(F=!0,Os(Lt,`RPC '${e}' stream ${a} transport errored:`,z),j.Do(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),q(A,Ko.EventType.MESSAGE,z=>{var G;if(!F){const ne=z.data[0];Je(!!ne);const oe=ne,de=(oe==null?void 0:oe.error)||((G=oe[0])===null||G===void 0?void 0:G.error);if(de){ie(Lt,`RPC '${e}' stream ${a} received error:`,de);const Ce=de.status;let we=function(S){const k=at[S];if(k!==void 0)return Bg(k)}(Ce),x=de.message;we===void 0&&(we=X.INTERNAL,x="Unknown error status: "+Ce+" with message "+de.message),F=!0,j.Do(new ue(we,x)),A.close()}else ie(Lt,`RPC '${e}' stream ${a} received:`,ne),j.vo(ne)}}),q(m,gg.STAT_EVENT,z=>{z.stat===gh.PROXY?ie(Lt,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===gh.NOPROXY&&ie(Lt,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{j.bo()},0),j}}function oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(i){return new Yw(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e,n,s=1e3,a=1.5,c=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=c,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n,s,a,c,f,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new ey(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new ue(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class z1 extends U1{constructor(e,n,s,a,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,f),this.serializer=c}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=Jw(this.serializer,e),s=function(c){if(!("targetChange"in c))return _e.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?_e.min():f.readTime?Ds(f.readTime):_e.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=gm(this.serializer),n.addTarget=function(c,f){let m;const g=f.target;if(m=Eh(g)?{documents:Zw(c,g)}:{query:e1(c,g).ct},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=$g(c,f.resumeToken);const _=Ch(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(_e.min())>0){m.readTime=Ah(c,f.snapshotVersion.toTimestamp());const _=Ch(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=n1(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=gm(this.serializer),n.removeTarget=e,this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1 extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,f])=>this.connection.Oo(e,Rh(n,s),a,c,f)).catch(c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ue(X.UNKNOWN,c.toString())})}ko(e,n,s,a,c){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.ko(e,Rh(n,s),a,f,m,c)).catch(f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(X.UNKNOWN,f.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class j1{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pr(n),this.C_=!1):ie("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n,s,a,c){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=c,this.Q_.uo(f=>{s.enqueueAndForget(async()=>{ya(this)&&(ie("RemoteStore","Restarting streams for network reachability change."),await async function(g){const _=Ne(g);_.k_.add(4),await ga(_),_.K_.set("Unknown"),_.k_.delete(4),await gu(_)}(this))})}),this.K_=new j1(s,a)}}async function gu(i){if(ya(i))for(const e of i.q_)await e(!0)}async function ga(i){for(const e of i.q_)await e(!1)}function ty(i,e){const n=Ne(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),sf(n)?rf(n):Ks(n).s_()&&nf(n,e))}function tf(i,e){const n=Ne(i),s=Ks(n);n.B_.delete(e),s.s_()&&ny(n,e),n.B_.size===0&&(s.s_()?s.a_():ya(n)&&n.K_.set("Unknown"))}function nf(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_e.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ks(i).V_(e)}function ny(i,e){i.U_.xe(e),Ks(i).m_(e)}function rf(i){i.U_=new Qw({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),Ks(i).start(),i.K_.F_()}function sf(i){return ya(i)&&!Ks(i).i_()&&i.B_.size>0}function ya(i){return Ne(i).k_.size===0}function ry(i){i.U_=void 0}async function $1(i){i.K_.set("Online")}async function q1(i){i.B_.forEach((e,n)=>{nf(i,e)})}async function H1(i,e){ry(i),sf(i)?(i.K_.O_(e),rf(i)):i.K_.set("Unknown")}async function Q1(i,e,n){if(i.K_.set("Online"),e instanceof bg&&e.state===2&&e.cause)try{await async function(a,c){const f=c.cause;for(const m of c.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,f),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Tm(i,s)}else if(e instanceof Hl?i.U_.$e(e):e instanceof jg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(_e.min()))try{const s=await Zg(i.localStore);n.compareTo(s)>=0&&await function(c,f){const m=c.U_.it(f);return m.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const w=c.B_.get(_);w&&c.B_.set(_,w.withResumeToken(g.resumeToken,f))}}),m.targetMismatches.forEach((g,_)=>{const w=c.B_.get(g);if(!w)return;c.B_.set(g,w.withResumeToken(Rt.EMPTY_BYTE_STRING,w.snapshotVersion)),ny(c,g);const A=new $r(w.target,g,_,w.sequenceNumber);nf(c,A)}),c.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ie("RemoteStore","Failed to raise snapshot:",s),await Tm(i,s)}}async function Tm(i,e,n){if(!Qs(e))throw e;i.k_.add(1),await ga(i),i.K_.set("Offline"),n||(n=()=>Zg(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ie("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await gu(i)})}async function Im(i,e){const n=Ne(i);n.asyncQueue.verifyOperationInProgress(),ie("RemoteStore","RemoteStore received new credentials");const s=ya(n);n.k_.add(3),await ga(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await gu(n)}async function W1(i,e){const n=Ne(i);e?(n.k_.delete(2),await gu(n)):e||(n.k_.add(2),await ga(n),n.K_.set("Unknown"))}function Ks(i){return i.W_||(i.W_=function(n,s,a){const c=Ne(n);return c.b_(),new z1(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,a)}(i.datastore,i.asyncQueue,{Ro:$1.bind(null,i),mo:q1.bind(null,i),po:H1.bind(null,i),R_:Q1.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),sf(i)?rf(i):i.K_.set("Unknown")):(await i.W_.stop(),ry(i))})),i.W_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n,s,a,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=c,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,c){const f=Date.now()+s,m=new of(e,n,f,a,c);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(i,e){if(pr("AsyncQueue",`${e}: ${i}`),Qs(i))return new ue(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(e){return new Ls(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||me.comparator(n.key,s.key):(n,s)=>me.comparator(n.key,s.key),this.keyedMap=Go(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,c=s.getNext().key;if(!a.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Ls;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(){this.z_=new it(me.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):Ee():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Bs{constructor(e,n,s,a,c,f,m,g,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,a,c){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Bs(e,n,Ls.emptySet(n),f,s,a,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class G1{constructor(){this.queries=Cm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Ne(n),c=a.queries;a.queries=Cm(),c.forEach((f,m)=>{for(const g of m.J_)g.onError(s)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function Cm(){return new Oi(i=>xg(i),cu)}async function sy(i,e){const n=Ne(i);let s=3;const a=e.query;let c=n.queries.get(a);c?!c.Y_()&&e.Z_()&&(s=2):(c=new K1,s=e.Z_()?0:1);try{switch(s){case 0:c.H_=await n.onListen(a,!0);break;case 1:c.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(f){const m=iy(f,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,c),c.J_.push(e),e.ea(n.onlineState),c.H_&&e.ta(c.H_)&&af(n)}async function oy(i,e){const n=Ne(i),s=e.query;let a=3;const c=n.queries.get(s);if(c){const f=c.J_.indexOf(e);f>=0&&(c.J_.splice(f,1),c.J_.length===0?a=e.Z_()?0:1:!c.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Y1(i,e){const n=Ne(i);let s=!1;for(const a of e){const c=a.query,f=n.queries.get(c);if(f){for(const m of f.J_)m.ta(a)&&(s=!0);f.H_=a}}s&&af(n)}function X1(i,e,n){const s=Ne(i),a=s.queries.get(e);if(a)for(const c of a.J_)c.onError(n);s.queries.delete(e)}function af(i){i.X_.forEach(e=>{e.next()})}var kh,Am;(Am=kh||(kh={})).na="default",Am.Cache="cache";class ay{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Bs(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==kh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class J1{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Le(),this.mutatedKeys=Le(),this.Va=Vg(e),this.ma=new Ls(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new Sm,a=n?n.ma:this.ma;let c=n?n.mutatedKeys:this.mutatedKeys,f=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,_=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,A)=>{const R=a.get(w),F=hu(this.query,A)?A:null,j=!!R&&this.mutatedKeys.has(R.key),q=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let z=!1;R&&F?R.data.isEqual(F.data)?j!==q&&(s.track({type:3,doc:F}),z=!0):this.ya(R,F)||(s.track({type:2,doc:F}),z=!0,(g&&this.Va(F,g)>0||_&&this.Va(F,_)<0)&&(m=!0)):!R&&F?(s.track({type:0,doc:F}),z=!0):R&&!F&&(s.track({type:1,doc:R}),z=!0,(g||_)&&(m=!0)),z&&(F?(f=f.add(F),c=q?c.add(w):c.delete(w)):(f=f.delete(w),c=c.delete(w)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const w=this.query.limitType==="F"?f.last():f.first();f=f.delete(w.key),c=c.delete(w.key),s.track({type:1,doc:w})}return{ma:f,pa:s,ss:m,mutatedKeys:c}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const c=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const f=e.pa.j_();f.sort((w,A)=>function(F,j){const q=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return q(F)-q(j)}(w.type,A.type)||this.Va(w.doc,A.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,_=g!==this.Aa;return this.Aa=g,f.length!==0||_?{snapshot:new Bs(this.query,e.ma,c,f,e.mutatedKeys,g===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Sm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Le(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new uy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new ly(s))}),n}va(e){this.da=e.ds,this.Ra=Le();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Bs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class Z1{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class eT{constructor(e){this.key=e,this.Fa=!1}}class tT{constructor(e,n,s,a,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Ma={},this.xa=new Oi(m=>xg(m),cu),this.Oa=new Map,this.Na=new Set,this.La=new it(me.comparator),this.Ba=new Map,this.ka=new Jh,this.qa={},this.Qa=new Map,this.Ka=zs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function nT(i,e,n=!0){const s=py(i);let a;const c=s.xa.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),a=c.view.Ca()):a=await cy(s,e,n,!0),a}async function rT(i,e){const n=py(i);await cy(n,e,!0,!1)}async function cy(i,e,n,s){const a=await V1(i.localStore,qn(e)),c=a.targetId,f=i.sharedClientState.addLocalQueryTarget(c,n);let m;return s&&(m=await iT(i,e,c,f==="current",a.resumeToken)),i.isPrimaryClient&&n&&ty(i.remoteStore,a),m}async function iT(i,e,n,s,a){i.Ua=(A,R,F)=>async function(q,z,G,ne){let oe=z.view.ga(G);oe.ss&&(oe=await _m(q.localStore,z.query,!1).then(({documents:x})=>z.view.ga(x,oe)));const de=ne&&ne.targetChanges.get(z.targetId),Ce=ne&&ne.targetMismatches.get(z.targetId)!=null,we=z.view.applyChanges(oe,q.isPrimaryClient,de,Ce);return Pm(q,z.targetId,we.ba),we.snapshot}(i,A,R,F);const c=await _m(i.localStore,e,!0),f=new J1(e,c.ds),m=f.ga(c.documents),g=ma.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),_=f.applyChanges(m,i.isPrimaryClient,g);Pm(i,n,_.ba);const w=new Z1(e,n,f);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),_.snapshot}async function sT(i,e,n){const s=Ne(i),a=s.xa.get(e),c=s.Oa.get(a.targetId);if(c.length>1)return s.Oa.set(a.targetId,c.filter(f=>!cu(f,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Ph(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&tf(s.remoteStore,a.targetId),xh(s,a.targetId)}).catch(ou)):(xh(s,a.targetId),await Ph(s.localStore,a.targetId,!0))}async function oT(i,e){const n=Ne(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tf(n.remoteStore,s.targetId))}async function hy(i,e){const n=Ne(i);try{const s=await k1(n.localStore,e);e.targetChanges.forEach((a,c)=>{const f=n.Ba.get(c);f&&(Je(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?f.Fa=!0:a.modifiedDocuments.size>0?Je(f.Fa):a.removedDocuments.size>0&&(Je(f.Fa),f.Fa=!1))}),await dy(n,s,e)}catch(s){await ou(s)}}function Rm(i,e,n){const s=Ne(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((c,f)=>{const m=f.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(f,m){const g=Ne(f);g.onlineState=m;let _=!1;g.queries.forEach((w,A)=>{for(const R of A.J_)R.ea(m)&&(_=!0)}),_&&af(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function aT(i,e,n){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),c=a&&a.key;if(c){let f=new it(me.comparator);f=f.insert(c,Mt.newNoDocument(c,_e.min()));const m=Le().add(c),g=new pu(_e.min(),new Map,new it(Ve),f,m);await hy(s,g),s.La=s.La.remove(c),s.Ba.delete(e),lf(s)}else await Ph(s.localStore,e,!1).then(()=>xh(s,e,n)).catch(ou)}function xh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||fy(i,s)})}function fy(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(tf(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),lf(i))}function Pm(i,e,n){for(const s of n)s instanceof ly?(i.ka.addReference(s.key,e),lT(i,s)):s instanceof uy?(ie("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||fy(i,s.key)):Ee()}function lT(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ie("SyncEngine","New document in limbo: "+n),i.Na.add(s),lf(i))}function lf(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new me(Qe.fromString(e)),s=i.Ka.next();i.Ba.set(s,new eT(n)),i.La=i.La.insert(n,s),ty(i.remoteStore,new $r(qn(Wh(n.path)),s,"TargetPurposeLimboResolution",au.oe))}}async function dy(i,e,n){const s=Ne(i),a=[],c=[],f=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{f.push(s.Ua(g,e,n).then(_=>{var w;if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,A?"current":"not-current")}if(_){a.push(_);const A=ef.zi(g.targetId,_);c.push(A)}}))}),await Promise.all(f),s.Ma.R_(a),await async function(g,_){const w=Ne(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Q.forEach(_,R=>Q.forEach(R.Wi,F=>w.persistence.referenceDelegate.addReference(A,R.targetId,F)).next(()=>Q.forEach(R.Gi,F=>w.persistence.referenceDelegate.removeReference(A,R.targetId,F)))))}catch(A){if(!Qs(A))throw A;ie("LocalStore","Failed to update sequence numbers: "+A)}for(const A of _){const R=A.targetId;if(!A.fromCache){const F=w.us.get(R),j=F.snapshotVersion,q=F.withLastLimboFreeSnapshotVersion(j);w.us=w.us.insert(R,q)}}}(s.localStore,c))}async function uT(i,e){const n=Ne(i);if(!n.currentUser.isEqual(e)){ie("SyncEngine","User change. New user:",e.toKey());const s=await Jg(n.localStore,e);n.currentUser=e,function(c,f){c.Qa.forEach(m=>{m.forEach(g=>{g.reject(new ue(X.CANCELLED,f))})}),c.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await dy(n,s.Ts)}}function cT(i,e){const n=Ne(i),s=n.Ba.get(e);if(s&&s.Fa)return Le().add(s.key);{let a=Le();const c=n.Oa.get(e);if(!c)return a;for(const f of c){const m=n.xa.get(f);a=a.unionWith(m.view.fa)}return a}}function py(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=hy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=aT.bind(null,e),e.Ma.R_=Y1.bind(null,e.eventManager),e.Ma.Wa=X1.bind(null,e.eventManager),e}class ru{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=mu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return P1(this.persistence,new A1,e.initialUser,this.serializer)}ja(e){return new Xg(Zh.ei,this.serializer)}za(e){return new D1}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ru.provider={build:()=>new ru};class hT extends ru{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){Je(this.persistence.referenceDelegate instanceof nu);const s=this.persistence.referenceDelegate.garbageCollector;return new h1(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Yt.withCacheSize(this.cacheSizeBytes):Yt.DEFAULT;return new Xg(s=>nu.ei(s,n),this.serializer)}}class Vh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Rm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=uT.bind(null,this.syncEngine),await W1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G1}()}createDatastore(e){const n=mu(e.databaseInfo.databaseId),s=function(c){return new F1(c)}(e.databaseInfo);return function(c,f,m,g){return new B1(c,f,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,c,f,m){return new b1(s,a,c,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Rm(this.syncEngine,n,0),function(){return wm.p()?new wm:new L1}())}createSyncEngine(e,n){return function(a,c,f,m,g,_,w){const A=new tT(a,c,f,m,g,_);return w&&(A.$a=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const c=Ne(a);ie("RemoteStore","RemoteStore shutting down."),c.k_.add(5),await ga(c),c.Q_.shutdown(),c.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vh.provider={build:()=>new Vh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e,n,s,a,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Ot.UNAUTHENTICATED,this.clientId=Eg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async f=>{ie("FirestoreClient","Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ie("FirestoreClient","Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=iy(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ah(i,e){i.asyncQueue.verifyOperationInProgress(),ie("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await Jg(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function km(i,e){i.asyncQueue.verifyOperationInProgress();const n=await dT(i);ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>Im(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>Im(e.remoteStore,a)),i._onlineComponents=e}async function dT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await ah(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;Os("Error using user provided cache. Falling back to memory cache: "+n),await ah(i,new ru)}}else ie("FirestoreClient","Using default OfflineComponentProvider"),await ah(i,new hT(void 0));return i._offlineComponents}async function pT(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie("FirestoreClient","Using user provided OnlineComponentProvider"),await km(i,i._uninitializedComponentsProvider._online)):(ie("FirestoreClient","Using default OnlineComponentProvider"),await km(i,new Vh))),i._onlineComponents}async function gy(i){const e=await pT(i),n=e.eventManager;return n.onListen=nT.bind(null,e.syncEngine),n.onUnlisten=sT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=rT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=oT.bind(null,e.syncEngine),n}function mT(i,e,n={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,_){const w=new my({next:R=>{w.eu(),f.enqueueAndForget(()=>oy(c,A));const F=R.docs.has(m);!F&&R.fromCache?_.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&R.fromCache&&g&&g.source==="server"?_.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),A=new ay(Wh(m.path),w,{includeMetadataChanges:!0,ua:!0});return sy(c,A)}(await gy(i),i.asyncQueue,e,n,s)),s.promise}function gT(i,e,n={}){const s=new Qr;return i.asyncQueue.enqueueAndForget(async()=>function(c,f,m,g,_){const w=new my({next:R=>{w.eu(),f.enqueueAndForget(()=>oy(c,A)),R.fromCache&&g.source==="server"?_.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),A=new ay(m,w,{includeMetadataChanges:!0,ua:!0});return sy(c,A)}(await gy(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(i,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function yT(i,e,n,s){if(e===!0&&s===!0)throw new ue(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Vm(i){if(!me.isDocumentKey(i))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Nm(i){if(me.isDocumentKey(i))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function yu(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee()}function ca(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=yu(i);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=yy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class vu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new WE;switch(s.type){case"firstParty":return new XE(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=xm.get(n);s&&(ie("ComponentProvider","Removing Datastore"),xm.delete(n),s.terminate())}(this),Promise.resolve()}}function vT(i,e,n,s={}){var a;const c=(i=ca(i,vu))._getSettings(),f=`${e}:${n}`;if(c.host!=="firestore.googleapis.com"&&c.host!==f&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},c),{host:f,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Ot.MOCK_USER;else{m=P0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const _=s.mockUserToken.sub||s.mockUserToken.user_id;if(!_)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ot(_)}i._authCredentials=new KE(new _g(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Gs(this.firestore,e,this._query)}}class sn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new sn(this.firestore,e,this._key)}}class Wr extends Gs{constructor(e,n,s){super(e,n,Wh(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new sn(this.firestore,null,new me(e))}withConverter(e){return new Wr(this.firestore,e,this._path)}}function Lm(i,e,...n){if(i=ra(i),vy("collection","path",e),i instanceof vu){const s=Qe.fromString(e,...n);return Nm(s),new Wr(i,null,s)}{if(!(i instanceof sn||i instanceof Wr))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Nm(s),new Wr(i.firestore,null,s)}}function _T(i,e,...n){if(i=ra(i),arguments.length===1&&(e=Eg.newId()),vy("doc","path",e),i instanceof vu){const s=Qe.fromString(e,...n);return Vm(s),new sn(i,null,new me(s))}{if(!(i instanceof sn||i instanceof Wr))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Qe.fromString(e,...n));return Vm(s),new sn(i.firestore,i instanceof Wr?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new ey(this,"async_queue_retry"),this.fu=()=>{const s=oh();s&&ie("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=oh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=oh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new Qr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Qs(e))throw e;ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=of.createAndSchedule(this,e,n,s,c=>this.Su(c));return this.du.push(a),a}pu(){this.Au&&Ee()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class uf extends vu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Om,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Om(e),this._firestoreClient=void 0,await e}}}function ET(i,e){const n=typeof i=="object"?i:FE(),s=typeof i=="string"?i:"(default)",a=DE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const c=A0("firestore");c&&vT(a,...c)}return a}function _y(i){if(i._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||wT(i),i._firestoreClient}function wT(i){var e,n,s;const a=i._freezeSettings(),c=function(m,g,_,w){return new fw(m,g,_,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,yy(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new fT(i._authCredentials,i._appCheckCredentials,i._queue,c,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new js(Rt.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new js(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==a[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=/^__.*__$/;function Ty(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class ff{constructor(e,n,s,a,c,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,c===void 0&&this.Fu(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new ff(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return Nh(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(Ty(this.Mu)&&TT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class IT{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||mu(e)}$u(e,n,s,a=!1){return new ff({Mu:e,methodName:n,Ku:s,path:Ft.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ST(i){const e=i._freezeSettings(),n=mu(i._databaseId);return new IT(i._databaseId,!!e.ignoreUndefinedProperties,n)}function CT(i,e,n,s=!1){return df(n,i.$u(s?4:3,e))}function df(i,e){if(Iy(i=ra(i)))return RT("Unsupported field value:",e,i),AT(i,e);if(i instanceof wy)return function(s,a){if(!Ty(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(a);c&&a.fieldTransforms.push(c)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const c=[];let f=0;for(const m of s){let g=df(m,a.ku(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}}(i,e)}return function(s,a){if((s=ra(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Lw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=wt.fromDate(s);return{timestampValue:Ah(a.serializer,c)}}if(s instanceof wt){const c=new wt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ah(a.serializer,c)}}if(s instanceof cf)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof js)return{bytesValue:$g(a.serializer,s._byteString)};if(s instanceof sn){const c=a.databaseId,f=s.firestore._databaseId;if(!f.isEqual(c))throw a.qu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qg(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof hf)return function(f,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return Kh(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${yu(s)}`)}(i,e)}function AT(i,e){const n={};return wg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ws(i,(s,a)=>{const c=df(a,e.Ou(s));c!=null&&(n[s]=c)}),{mapValue:{fields:n}}}function Iy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof wt||i instanceof cf||i instanceof js||i instanceof sn||i instanceof wy||i instanceof hf)}function RT(i,e,n){if(!Iy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=yu(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}const PT=new RegExp("[~\\*/\\[\\]]");function kT(i,e,n){if(e.search(PT)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Nh(i,e,n,s,a){const c=s&&!s.isEmpty(),f=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${s}`),f&&(g+=` in document ${a}`),g+=")"),new ue(X.INVALID_ARGUMENT,m+i+g)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,n,s,a,c){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(pf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xT extends Sy{data(){return super.data()}}function pf(i,e){return typeof e=="string"?kT(i,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mf{}class NT extends mf{}function DT(i,e,...n){let s=[];e instanceof mf&&s.push(e),s=s.concat(n),function(c){const f=c.filter(g=>g instanceof gf).length,m=c.filter(g=>g instanceof _u).length;if(f>1||f>0&&m>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const a of s)i=a._apply(i);return i}class _u extends NT{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new _u(e,n,s)}_apply(e){const n=this._parse(e);return Cy(e._query,n),new Gs(e.firestore,e.converter,wh(e._query,n))}_parse(e){const n=ST(e.firestore);return function(c,f,m,g,_,w,A){let R;if(_.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Fm(A,w);const F=[];for(const j of A)F.push(Mm(g,c,j));R={arrayValue:{values:F}}}else R=Mm(g,c,A)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Fm(A,w),R=CT(m,f,A,w==="in"||w==="not-in");return lt.create(_,w,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function LT(i,e,n){const s=e,a=pf("where",i);return _u._create(a,s,n)}class gf extends mf{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gf(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,c){let f=a;const m=c.getFlattenedFilters();for(const g of m)Cy(f,g),f=wh(f,g)}(e._query,n),new Gs(e.firestore,e.converter,wh(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Mm(i,e,n){if(typeof(n=ra(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kg(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Qe.fromString(n));if(!me.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return tm(i,new me(s))}if(n instanceof sn)return tm(i,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yu(n)}.`)}function Fm(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Cy(i,e){const n=function(a,c){for(const f of a)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class OT{convertValue(e,n="none"){switch(Jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Xr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ws(e,(a,c)=>{s[a]=this.convertValue(c,n)}),s}convertVectorValue(e){var n,s,a;const c=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(f=>rt(f.doubleValue));return new hf(c)}convertGeoPoint(e){return new cf(rt(e.latitude),rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=uu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(aa(e));default:return null}}convertTimestamp(e){const n=Yr(e);return new wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Qe.fromString(e);Je(Yg(s));const a=new la(s.get(1),s.get(3)),c=new me(s.popFirst(5));return a.isEqual(n)||pr(`Document ${c} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ay extends Sy{constructor(e,n,s,a,c,f){super(e,n,s,a,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(pf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Ql extends Ay{data(e={}){return super.data(e)}}class MT{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xo(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Ql(this._firestore,this._userDataWriter,s.key,s,new Xo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,c){if(a._snapshot.oldDocs.isEmpty()){let f=0;return a._snapshot.docChanges.map(m=>{const g=new Ql(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Xo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}})}{let f=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const g=new Ql(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Xo(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let _=-1,w=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),w=f.indexOf(m.doc.key)),{type:FT(m.type),doc:g,oldIndex:_,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function FT(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(i){i=ca(i,sn);const e=ca(i.firestore,uf);return mT(_y(e),i._key).then(n=>BT(e,i,n))}class Ry extends OT{constructor(e){super(),this.firestore=e}convertBytes(e){return new js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new sn(this.firestore,null,n)}}function zT(i){i=ca(i,Gs);const e=ca(i.firestore,uf),n=_y(e),s=new Ry(e);return VT(i._query),gT(n,i._query).then(a=>new MT(e,s,i,a))}function BT(i,e,n){const s=n.docs.get(e._key),a=new Ry(i);return new Ay(i,a,e._key,s,new Xo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Hs=a})(ME),Yl(new ia("firestore",(s,{instanceIdentifier:a,options:c})=>{const f=s.getProvider("app").getImmediate(),m=new uf(new GE(s.getProvider("auth-internal")),new ZE(s.getProvider("app-check-internal")),function(_,w){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new la(_.options.projectId,w)}(f,a),f);return c=Object.assign({useFetchStreams:n},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Ns(Gp,"4.7.5",e),Ns(Gp,"4.7.5","esm2017")})();var jT="firebase",bT="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(jT,bT,"app");const $T={apiKey:"AIzaSyB4hxLwJHYr_4b7H5SjvKyuuFAPeJ9KtCg",authDomain:"ecommerce-quiroga.firebaseapp.com",projectId:"ecommerce-quiroga",storageBucket:"ecommerce-quiroga.firebasestorage.app",messagingSenderId:"156590232723",appId:"1:156590232723:web:b4c5231bc4c3bcbbc72966"},qT=cg($T),Dh=ET(qT);function Um(){const[i,e]=$.useState([]),{categoryId:n}=Gm();return $.useEffect(()=>{const s=n?DT(Lm(Dh,"products"),LT("category","==",n)):Lm(Dh,"products");zT(s).then(a=>{const c=a.docs.map(f=>({id:f.id,...f.data()}));e(c)}).catch(a=>console.log("Error searching products",a))},[n]),le.jsxs("div",{children:[le.jsx("h2",{className:"greeting",children:"Bienvenido a Tienda React"}),le.jsx(g0,{products:i})]})}function HT({id:i,name:e,img:n,description:s,category:a,price:c,stock:f}){return ng(),le.jsx("div",{children:le.jsxs("div",{className:"itemDetail",children:[le.jsx("img",{src:n,style:{width:300},alt:e}),le.jsxs("div",{className:"itemDetailText",children:[le.jsx("h2",{children:e}),le.jsx("p",{children:s}),le.jsxs("p",{children:["Categoria: ",a]}),le.jsxs("p",{children:["Precio: $",c]}),le.jsxs("p",{children:["Disponible: ",f]})]})]})})}function QT(){const[i,e]=$.useState({}),{productId:n}=Gm();return $.useEffect(()=>{UT(_T(Dh,"products",n)).then(s=>{const a={id:s.id,...s.data()};e(a)}).catch(s=>{console.log("Error searching product",s)})}),le.jsxs("div",{className:"producto",children:[le.jsx("h2",{children:"Detalle del Producto"}),le.jsx("hr",{}),le.jsx(HT,{...i})]})}function zm(){return le.jsx("div",{className:"cart",children:"Cart:"})}function WT(){return le.jsx("div",{children:"Checkout"})}function KT(){return le.jsx(t0,{basename:"/ecommerce-quiroga",children:le.jsxs(h0,{children:[le.jsx(d0,{title:"Tienda React"}),le.jsxs(V_,{children:[le.jsx(Br,{path:"/",element:le.jsx(Um,{})}),le.jsx(Br,{path:"/category/:categoryId",element:le.jsx(Um,{})}),le.jsx(Br,{path:"/detail/:productId",element:le.jsx(QT,{})}),le.jsx(Br,{path:"/cart",element:le.jsx(zm,{})}),le.jsx(Br,{path:"/chechout",element:le.jsx(WT,{})}),le.jsx(Br,{path:"/cart",element:le.jsx(zm,{})}),le.jsx(Br,{path:"*",element:le.jsx("h1",{children:"404"})})]})]})})}zv.createRoot(document.getElementById("root")).render(le.jsx($.StrictMode,{children:le.jsx(KT,{})}));
